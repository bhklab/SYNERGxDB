(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,n){e.exports=n.p+"static/media/logo-2.969ca37d.png"},137:function(e,t,n){e.exports=n.p+"static/media/drugbank.4634d1be.png"},138:function(e,t){e.exports="data:image/gif;base64,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"},175:function(e){e.exports=[{name:"MIT-MELANOMA",nCombos:5778,nExperiments:201254,nDatapoints:1407169},{name:"NCI-ALMANAC",nCombos:4184,nExperiments:242969,nDatapoints:3887504},{name:"STANFORD",nCombos:1818,nExperiments:1818,nDatapoints:7272},{name:"CLOUD",nCombos:1327,nExperiments:1327,nDatapoints:5308},{name:"YALE-PDAC",nCombos:820,nExperiments:2974,nDatapoints:49294},{name:"YALE-TNBC",nCombos:758,nExperiments:4516,nDatapoints:54570},{name:"MERCK",nCombos:583,nExperiments:22737,nDatapoints:570645}]},176:function(e,t,n){e.exports=n.p+"static/media/cellosaurus.c658c844.jpg"},177:function(e,t,n){e.exports=n.p+"static/media/pubmed.e637a81f.jpeg"},178:function(e,t,n){e.exports=n.p+"static/media/bg-3.11ae197d.jpg"},187:function(e,t,n){e.exports=n(308)},308:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),l=n(24),i=n(8),c=n(67),s=n(7),u=n(168),d=n(10),m=n(11),p=n(13),h=n(12),f=n(17),g=n(14),b=n(171),y=n(135),v=n.n(y),x={color_main_1:"#192E5B",trans_color_main_1:"rgba(25,46,91, 0.5)",color_main_2:"#1D65A6",trans_color_main_2:"rgb(29,101,166, 0.5)",color_main_3:"#72A2C0",trans_color_main_3:"rgba(114,162,192, 0.5)",color_main_4:"#00743F",trans_color_main_4:"rgba(0,116,63, 0.5)",color_main_5:"#F2A104",trans_color_main_5:"rgba(242,161,4, 0.5)",color_accent_1:"rgb(184, 178, 178)",trans_color_accent_1:"rgba(251,43,6, 0.5)",red_color_accent:"rgb(251,43,6)",color_accent_2:"#f0f0f0",trans_color_accent_2:"rgba(241,241,241, 0.5)",nav_links:"#3a5386",nav_bg:"rgb(255,255,255,1)",nav_link_hov:"#efa127",blue_main:"#3a5386",summary_bg:"#e7f3f8",summary_bg_trans:"rgba(231,243,248, 0.75)",pagination:"#5675b3",button_hover:"#58a3c7"},E="all ease-out 0.25s";function A(){var e=Object(i.a)(["\n  width:150px;\n"]);return A=function(){return e},e}function k(){var e=Object(i.a)(["   \n  width: 100%;\n  right:0px;\n  height:85px;\n  line-height:3em;\n  order:1;\n  white-space:nowrap;\n  background-color: ",";\n  position: fixed;\n  white-space:nowrap;\n  background-color: ",";\n  font-size: calc(1em + 0.2vw);\n  font-family: 'Montserrat', sans-serif;\n\n  @media (max-width : 1023px) {\n    height:75px;\n  }\n\n  a {\n    color: ",";\n    transition: ","\n    font-family: 'Raleway', sans-serif;\n    font-weight:700;\n    &:hover {\n        color: ",";\n    }\n  }\n\n  .standard-nav {\n    img {\n      position:fixed;\n      float:left;\n      margin-left:5vw;\n      margin-top:5px;\n    }\n    @media (min-width : 1024px) {\n      display: block;\n    }\n    @media (max-width : 1023px) {\n      display: none;\n    }\n  }\n  .burger-nav {\n    a {\n      padding:0em 2.5vw;\n    }\n    @media (min-width : 1024px) {\n      display: none;\n    }\n    @media (max-width : 1023px) {\n      display: block;\n    }\n  }\n  .top-nav {\n    z-index: 10;\n    text-align: center;\n    padding: 15px 0px 0px 0px;\n    margin-left: 175px;\n    a {\n      padding:0em 2.5vw;\n    }\n  }\n"]);return k=function(){return e},e}var w=s.default.div(k(),x.nav_bg,x.nav_bg,x.nav_links,E,x.nav_link_hov),D=s.default.img(A()),C={bmBurgerButton:{position:"fixed",width:"36px",height:"30px",right:"calc(50% - 18px)",top:"23px"},bmBurgerBars:{background:x.color_main_2},bmBurgerBarsHover:{background:"#a90000"},bmCrossButton:{height:"24px",width:"24px"},bmCross:{background:x.color_main_5},bmMenuWrap:{position:"fixed",height:"100%"},bmMenu:{background:"white",padding:"2.5em 1.5em 0",fontSize:"1.15em",Zindex:"999"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",padding:"0.8em",display:"flex",flexDirection:"column"},bmItem:{display:"inline-block",outline:"none"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},j=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={menuOpen:!1},e.handleStateChange=e.handleStateChange.bind(Object(f.a)(e)),e.closeMenu=e.closeMenu.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleStateChange",value:function(e){this.setState({menuOpen:e.isOpen})}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"render",value:function(){var e=this.state.menuOpen,t=this.handleStateChange,n=this.closeMenu;return r.a.createElement(w,null,r.a.createElement("div",{className:"standard-nav"},r.a.createElement(l.b,{to:"/"},r.a.createElement(D,{src:v.a,alt:"logo"})),r.a.createElement("nav",{className:"top-nav"},r.a.createElement(l.b,{to:"/documentation/"},"Documentation"),r.a.createElement(l.b,{to:"/cell-lines/"},"Cell lines"),r.a.createElement(l.b,{to:"/drugs/"},"Compounds"),r.a.createElement(l.b,{to:"/datasets/"},"Datasets"),r.a.createElement(l.b,{to:"/pharmacogenomics/"},"Pharmacogenomics"))),r.a.createElement("div",{className:"burger-nav"},r.a.createElement(b.slide,{styles:C,right:!0,isOpen:e,onStateChange:function(e){return t(e)}},r.a.createElement(l.b,{to:"/",onClick:function(){return n()}},r.a.createElement(D,{src:v.a,alt:"logo"})),r.a.createElement(l.b,{to:"/documentation/",onClick:function(){return n()}},"Documentation"),r.a.createElement(l.b,{to:"/cell-lines/",onClick:function(){return n()}},"Cell lines"),r.a.createElement(l.b,{to:"/drugs/",onClick:function(){return n()}},"Compounds"),r.a.createElement(l.b,{to:"/datasets/",onClick:function(){return n()}},"Datasets"),r.a.createElement(l.b,{to:"/pharmacogenomics/",onClick:function(){return n()}},"Pharmacogenomics"))))}}]),t}(a.Component),O=n(18),S=n(31),_=n(21),B=n(93),I=n(173),N=n(69),M=n.n(N);function P(){var e=Object(i.a)(["\n    width: 100%;\n    bottom:0%;\n    left:0px;\n    position:fixed;  \n    display: flex;\n    min-height:90px;\n    line-height:1em;\n    align-items: flex-end;\n    justify-content: space-around;\n    flex-wrap: wrap\n    background:rgba(255, 255, 255, 0.7);\n    color: "," !important;\n    font-family: 'Montserrat', sans-serif;\n\n    @media (max-width: 1025px) {\n      h2 {\n        font-size: 1em !important;\n      }\n    }\n    @media (max-width : 650px) {\n      position:static;\n    }\n\n    div {\n        padding: 0 10px; \n        max-width: 175px;\n        min-width: 126px;\n    }\n    h2 {\n      color: "," !important;\n      font-family: 'Montserrat', sans-serif;\n      font-weight:500;\n      font-size: 1.5em;\n    }\n"]);return P=function(){return e},e}var z=s.default.div(P(),x.nav_links,x.nav_links),L=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={datasets:0,tissues:0,compounds:0,cells:0,combos:0,experiments:0,datapoints:0},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({datasets:7,tissues:11,compounds:1962,cells:124,combos:15268,experiments:477595,datapoints:5981762})}},{key:"render",value:function(){var e=this.state,t=e.datasets,n=e.tissues,a=e.compounds,o=e.combos,i=e.experiments,c=e.datapoints,s=e.cells;return r.a.createElement(z,{className:"stats"},r.a.createElement("div",null,r.a.createElement(l.b,{to:"/datasets/"},r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:t,duration:3,separator:","})),r.a.createElement("h2",null,"Datasets"))),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/cell-lines/"},r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:n,duration:3,separator:","})),r.a.createElement("h2",null,"Tissues"))),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/cell-lines/"},r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:s,duration:3,separator:","})),r.a.createElement("h2",null,"Cell Lines"))),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/drugs/"},r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:a,duration:3,separator:","})),r.a.createElement("h2",null,"Compounds"))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:o,duration:3,separator:","})),r.a.createElement("h2",null,"Combinations")),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:i,duration:3,separator:","})),r.a.createElement("h2",null,"Experiments")),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(M.a,{start:0,end:c,duration:3,separator:","})),r.a.createElement("h2",null,"Data points")))}}]),t}(a.Component),T=n(68),R=n.n(T),Q=n(174),G=n.n(Q);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.maxHeight,a=Array.isArray(t)?t:[],o=G.a.findLastIndex(t,function(e){return e.props.isFocused});return r.a.createElement(R.a,{height:n,rowHeight:65,itemCount:t.length,itemSize:65,width:350,rowCount:a.length,rowRenderer:function(e){var t=e.key,n=e.index,o=e.style;return r.a.createElement("div",{key:t,style:U({},o,{width:"350px"})},a[n])},scrollToIndex:o})}}]),t}(a.PureComponent);function Y(){var e=Object(i.a)(["\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 20px 10px;\n  }\n  button {\n    background: ",";\n    border: 1px solid ",";\n    border-radius:10px;\n    width: 150px\n    color: #ffffff;\n    transition: ",";\n    outline-style: none;\n    font-size: 1.5em;\n\n    &:hover {\n      color: ",";\n      background: ",";\n      border: 1px solid ",";\n      cursor:pointer;\n    }\n  }\n  p {\n    color: ",";\n    line-height: 1.5em;\n  }\n  .close {\n    cursor: pointer;\n    position: absolute;\n    display: block;\n    padding: 2px 5px 5px;\n    line-height: 15px;\n    right: -10px;\n    top: -10px;\n    font-size: 30px;\n    background: #ffffff;\n    color: ",";\n    transition: ",";\n    border-radius: 18px;\n    border: 1px solid #cfcece;\n\n    &:hover {\n      color: #ffffff;\n      background: ",";\n    }\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(i.a)(["\n  font-size: 1.1rem;\n  text-align: left;\n  margin: 10px;\n  font-style: italic;\n  font-family: 'Raleway', sans-serif;\n  font-weight:700;\n  color:",";\n\n  a {\n    font-style: normal;\n    color:",";\n    font-weight:400;\n    \n\n    &:hover {\n      color:",";\n    }\n  }\n"]);return K=function(){return e},e}function q(){var e=Object(i.a)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius:10px;\n  padding: 10px 20px;\n  margin: 10px auto;\n  color: #ffffff;\n  transition: ",";\n  outline-style: none;\n\n  &:hover {\n    color: ",";\n    background: ",";\n    border: 1px solid ",';\n    cursor:pointer;\n  }\n  &[type="button"] {\n    font-size: 2em;\n  }\n']);return q=function(){return e},e}function J(){var e=Object(i.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return J=function(){return e},e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(){var e=Object(i.a)(["\n  max-width: 800px;\n  width: 100%;\n  background-color: rgb(255,255,255,0.85); \n  border-radius:25px;\n  margin: 5px;\n  padding:25px;\n  text-align: center;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: center;\n\n  .select-container {\n    min-width: 300px;\n    max-width: 49%\n  }\n  \n  .button-container {\n    min-width: 300px;\n    width: 50%;\n    display: flex;\n    justify-content: space-between;\n  }\n  input {\n    color: ",";\n    border: none;\n    min-width: 350px;\n    width: 50%;\n    padding: 13px;\n    margin: 10px auto;\n    outline-style: none;\n    background: transparent !important;\n\n    &::placeholder {\n      color: ",";\n    }\n    &:focus {\n      border: 2px solid ",";\n      background-color: ",";\n      outline:none;\n      \n      &::placeholder {\n      color: white;\n    }\n  }\n  .option-label {\n    font-size: 25px;\n  }\n  \n"]);return Z=function(){return e},e}function X(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  // margin-top: -200px;\n  h1 {\n    color: ",";\n    font-family:'Raleway', sans-serif;\n    font-weight:700;\n    margin: 0px 0px 50px 0px;\n  }\n  h1 span {\n    color: ",";\n    font-family:'Raleway', sans-serif;\n    font-weight:800;\n    font-size: 1.15em;\n  }\n"]);return X=function(){return e},e}var $=s.default.div(X(),x.nav_links,x.nav_link_hov),ee=s.default.form(Z(),x.nav_links,x.nav_links,x.color_main_2,x.trans_color_main_4),te={control:function(e){return V({},e,{background:"rgb(0,0,0,0)",border:"1px solid ".concat(x.nav_links),margin:"5px 0px","&:hover":{border:"1px solid ".concat(x.nav_links),cursor:"text"}})},placeholder:function(e){return V({},e,{color:"".concat(x.nav_links)})},dropdownIndicator:function(e){return V({},e,{color:"".concat(x.nav_links),"&:hover":{color:"".concat(x.nav_links),cursor:"pointer"}})},indicatorSeparator:function(e){return V({},e,{background:"".concat(x.nav_links),"&:hover":{background:"".concat(x.nav_links)}})},singleValue:function(e){return V({},e,{color:"".concat(x.nav_links)})},option:function(e,t){return V({},e,{background:"white",fontWeight:t.isSelected?"700":"400",color:t.isSelected?x.color_main_2:t.isDisabled?"grey":x.nav_links})}},ne={fontSize:20,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid ".concat(x.blue_main),color:x.blue_main,padding:"5px"},ae={backgroundColor:x.blue_main,borderRadius:"2em",color:"white",display:"inline-block",fontSize:15,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.2em 0.5em",textAlign:"center"},re=function(e){return r.a.createElement("div",{style:ne},r.a.createElement("span",null,e.label),r.a.createElement("span",{style:ae},e.options.length))},oe=s.default.div(J()),le=s.default.button(q(),x.nav_links,x.nav_links,E,x.nav_links,x.nav_bg,x.nav_links),ie=s.default.span(K(),x.blue_main,x.blue_main,x.nav_link_hov),ce=s.default.div(Y(),x.nav_links,x.nav_links,E,x.nav_links,x.nav_bg,x.nav_links,x.blue_main,x.blue_main,E,x.blue_main),se=function(e,t){return!!e.data.isDisabled||t.split(" ").reduce(function(t,n){return t&&e.label.toLowerCase().includes(n.toLowerCase())},!0)},ue=function(e){return r.a.createElement(_.z.Option,e,r.a.createElement("div",{style:{backgroundColor:e.isFocused?e.isDisabled?"inherit":x.trans_color_main_5:"inherit",width:"350px",height:"50px",padding:"auto",margin:"0",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("span",null,e.label)))},de=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={drugId1:"Any",drugId2:"Any",sample:"Any",dataset:"Any",drugsData1:[],drugsData2:[],sampleData:[],datasetData:[],filteredDrugsData1:null,filteredDrugsData2:null,filteredSampleData:null,filteredDatasetData:null,selectedSample:{value:"Any",label:"Any Sample"},selectedDrug1:null,selectedDrug2:null,selectedDataset:{value:"Any",label:"Any Dataset"},allowRedirect:!0},e.handleDrug1Search=e.handleDrug1Search.bind(Object(f.a)(e)),e.handleDrug2Search=e.handleDrug2Search.bind(Object(f.a)(e)),e.handleSampleSearch=e.handleSampleSearch.bind(Object(f.a)(e)),e.userRedirect=e.userRedirect.bind(Object(f.a)(e)),e.handleDatasetSearch=e.handleDatasetSearch.bind(Object(f.a)(e)),e.handleEnterPress=e.handleEnterPress.bind(Object(f.a)(e)),e.checkUserInput=e.checkUserInput.bind(Object(f.a)(e)),e.filterDrugAData=e.filterDrugAData.bind(Object(f.a)(e)),e.filterDrugBData=e.filterDrugBData.bind(Object(f.a)(e)),e.filterDatasetData=e.filterDatasetData.bind(Object(f.a)(e)),e.filterSampleData=e.filterSampleData.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/drugs").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){return{value:e.idDrug,label:e.name}});e.setState({drugsData1:[{value:"Any",label:"Any Compound"}].concat(Object(O.a)(n))}),e.setState({drugsData2:[{value:"Any",label:"Any Compound"}].concat(Object(O.a)(n))})}),fetch("/api/cell_lines").then(function(e){return e.json()}).then(function(t){var n={};t.forEach(function(e){n[e.tissue]?n[e.tissue]++:n[e.tissue]=1});var a=Object.keys(n).map(function(e){return{value:e,label:"".concat(e.toUpperCase()," (").concat(n[e]," cell lines)")}}),r=t.map(function(e){return{value:e.idSample,label:"".concat(e.name.toUpperCase()," (").concat(e.tissue.toUpperCase(),")")}});e.setState({sampleData:[{label:"Any Sample",value:"Any"},{label:"Tissues",options:a},{label:"Cell Lines",options:r}]})}),fetch("/api/datasets/").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){return{value:e.idSource,label:e.name}});e.setState({datasetData:[{value:"Any",label:"Any Dataset"}].concat(Object(O.a)(n))})})}},{key:"filterDrugAData",value:function(e,t,n){var a=this,r="/api/drugs/filter?";e&&"Any"!==e&&(r=r.concat("&sample=".concat(e))),t&&"Any"!==t&&(r=r.concat("&drugId=".concat(t))),n&&"Any"!==n&&(r=r.concat("&dataset=".concat(n))),fetch(r).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return{value:e.idDrug,label:e.name}});a.setState({filteredDrugsData1:[{value:"Any",label:"Any Compound"}].concat(Object(O.a)(t))})})}},{key:"filterDrugBData",value:function(e,t,n){var a=this,r="/api/drugs/filter?";e&&"Any"!==e&&(r=r.concat("&sample=".concat(e))),t&&"Any"!==t&&(r=r.concat("&drugId=".concat(t))),n&&"Any"!==n&&(r=r.concat("&dataset=".concat(n))),fetch(r).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return{value:e.idDrug,label:e.name}});a.setState({filteredDrugsData2:[{value:"Any",label:"Any Compound"}].concat(Object(O.a)(t))})})}},{key:"filterSampleData",value:function(e,t,n){var a=this,r="/api/cell_lines/filter?";n&&"Any"!==n&&(r=r.concat("&dataset=".concat(n))),e&&"Any"!==e&&(r=r.concat("&drugId1=".concat(e))),t&&"Any"!==t&&(r=r.concat("&drugId2=".concat(t))),fetch(r).then(function(e){return e.json()}).then(function(e){var t={};e.forEach(function(e){t[e.tissue]?t[e.tissue]++:t[e.tissue]=1});var n=Object.keys(t).map(function(e){return{value:e,label:"".concat(e.toUpperCase()," (").concat(t[e]," cell lines)")}}),r=e.map(function(e){return{value:e.idSample,label:"".concat(e.name.toUpperCase()," (").concat(e.tissue.toUpperCase(),")")}});a.setState({filteredSampleData:[{label:"Any Sample",value:"Any"},{label:"Tissues",options:n},{label:"Cell Lines",options:r}]})})}},{key:"filterDatasetData",value:function(e,t,n){var a=this,r=this.state.datasetData,o="/api/datasets/filter?";e&&"Any"!==e&&(o=o.concat("&sample=".concat(e))),t&&"Any"!==t&&(o=o.concat("&drugId1=".concat(t))),n&&"Any"!==n&&(o=o.concat("&drugId2=".concat(n))),fetch(o).then(function(e){return e.json()}).then(function(e){var t={};e.forEach(function(e){return t[e.idSource]=e.name});var n=r.map(function(e){var n={value:e.value,label:e.label};return t[e.value]||"Any"===e.value||(n.isDisabled=!0),n});a.setState({filteredDatasetData:n})})}},{key:"userRedirect",value:function(){var e=this.state,t=e.drugId1,n=e.drugId2,a=e.sample,r=e.dataset;if(e.allowRedirect){var o=this.props.history,l="";"Any"!==t&&(l=l.concat("drugId1=".concat(t))),"Any"!==a&&(l=l.concat("&sample=".concat(a))),"Any"!==r&&(l=l.concat("&dataset=".concat(r))),"Any"!==n&&"Any"!==t?l=l.concat("&drugId2=".concat(n)):"Any"!==n&&"Any"===t&&(l=l.concat("drugId1=".concat(n))),o.push("/synergy_score?".concat(l))}return null}},{key:"checkUserInput",value:function(){var e=this.state,t=e.drugId1,n=e.drugId2,a=e.sample,r=e.dataset;return"Any"!==t||"Any"!==a||"Any"!==r||"Any"!==n}},{key:"handleEnterPress",value:function(e){"Enter"===e.key&&this.userRedirect()}},{key:"handleDrug1Search",value:function(e){var t=e.value,n=e.label,a=this.state,r=a.sample,o=a.dataset,l=a.drugId2,i=this.filterDatasetData,c=this.filterSampleData,s=this.filterDrugBData;this.setState({drugId1:t,selectedDrug1:{value:t,label:n}}),i(r,t,l),c(t,l,o),s(r,t,o)}},{key:"handleDrug2Search",value:function(e){var t=e.value,n=e.label,a=this.filterDatasetData,r=this.filterSampleData,o=this.filterDrugAData,l=this.state,i=l.sample,c=l.dataset,s=l.drugId1;this.setState({drugId2:t,selectedDrug2:{value:t,label:n}}),a(i,s,t),r(s,t,c),o(i,t,c)}},{key:"handleSampleSearch",value:function(e){var t=e.value,n=e.label,a=this.state,r=a.dataset,o=a.drugId1,l=a.drugId2,i=this.filterDatasetData,c=this.filterDrugAData,s=this.filterDrugBData;this.setState({sample:t,selectedSample:{value:t,label:n}}),i(t,o,l),c(t,l,r),s(t,o,r)}},{key:"handleDatasetSearch",value:function(e){var t=e.value,n=e.label,a=this.state,r=a.sample,o=a.drugId1,l=a.drugId2,i=this.filterSampleData,c=this.filterDrugAData,s=this.filterDrugBData;this.setState({dataset:t,selectedDataset:{value:t,label:n}}),i(o,l,t),c(r,l,t),s(r,o,t)}},{key:"render",value:function(){var e=this.state,t=e.drugsData1,n=e.drugsData2,o=e.sampleData,i=e.selectedSample,c=e.selectedDrug1,s=e.selectedDrug2,u=e.datasetData,d=e.selectedDataset,m=e.filteredSampleData,p=e.filteredDrugsData1,h=e.filteredDrugsData2,f=e.filteredDatasetData,g=this.handleSampleSearch,b=this.handleDrug1Search,y=this.handleDrug2Search,v=this.userRedirect,x=this.handleDatasetSearch,E=this.handleEnterPress,A=this.checkUserInput,k=r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,r.a.createElement("span",null,"SYNERGxDB")," ","is a comprehensive database to explore"," ",r.a.createElement("br",null),"synergistic drug combinations for biomarker discovery."),r.a.createElement(ee,{className:"search-combos",onKeyPress:E},r.a.createElement("div",{className:"select-container"},r.a.createElement(B.a,{components:{Option:ue},styles:te,options:m||o,placeholder:"Enter Cell Line or Tissue",onChange:g,value:i,filterOption:se,formatGroupLabel:re})),r.a.createElement("div",{className:"select-container"},r.a.createElement(B.a,{components:{Option:ue,MenuList:function(e){return r.a.createElement(F,e)}},styles:te,options:f||u,placeholder:"Enter Dataset",value:d,onChange:x,filterOption:se})),r.a.createElement("div",{className:"select-container"},r.a.createElement(B.a,{components:{Option:ue,MenuList:function(e){return r.a.createElement(F,e)}},styles:te,options:p||t,placeholder:"Enter Compound A",onChange:function(e){return b(e)},value:c,filterOption:se})),r.a.createElement("div",{className:"select-container"},r.a.createElement(B.a,{components:{Option:ue,MenuList:function(e){return r.a.createElement(F,e)}},styles:te,options:h||n,placeholder:"Enter Compound B",value:s,onChange:y,filterOption:se})),r.a.createElement(oe,null,r.a.createElement(ie,null,"Examples:"," ",r.a.createElement(l.b,{className:"hover",to:{pathname:"/synergy_score",search:"?&sample=pancreas"}},"PANCREAS"),"\xa0\xa0|\xa0\xa0",r.a.createElement(l.b,{className:"hover",to:{pathname:"/synergy_score",search:"?&dataset=5"}},"YALE-TNBC"),"\xa0\xa0|\xa0\xa0",r.a.createElement(l.b,{className:"hover",to:{pathname:"/synergy_score",search:"?drugId1=11&drugId2=97"}},"Bortezomib + Topotecan")),A()?r.a.createElement(le,{onClick:v,type:"button"},"Search"):r.a.createElement(I.a,{trigger:r.a.createElement(le,{onClick:v,type:"button"},"Search"),modal:!0,closeOnDocumentClick:!0},function(e){return r.a.createElement(ce,{className:"modal"},r.a.createElement("a",{className:"close",onClick:e},"\xd7"),r.a.createElement("p",null,"None of the request parameters has been specified and it may take longer to retrieve your results. Do you want to proceed?"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:v},"Yes"),r.a.createElement("button",{type:"button",onClick:e},"No")))}))),r.a.createElement(L,null));return r.a.createElement(a.Fragment,null,r.a.createElement("main",{className:"landing"},r.a.createElement($,{className:"form-wrapper"},k)))}}]),t}(a.Component),me=Object(c.f)(de),pe=n(47),he=(n(56),n(63)),fe=n.n(he);function ge(){var e=Object(i.a)(["\n  &.-loading.-active {\n    background-color: white;\n    opacity: 1;\n    z-index: 100;\n    \n    .-loading-inner {\n      display: flex;\n      justify-content: center;\n      top: calc(50% - 150px);\n    }\n  }\n\n"]);return ge=function(){return e},e}var be=s.default.div(ge()),ye=function(e){return e.loading?r.a.createElement(be,{className:"-loading -active"},r.a.createElement("div",{className:"-loading-inner"},r.a.createElement(fe.a,{type:"bubbles",width:150,height:150,color:x.color_main_2}))):r.a.createElement("div",null)},ve=n(16),xe=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.keyName,n=e.plotId,a=e.dimensions,r=e.formatData,o=e.donutData,l=e.legendCallBack,i=r(o,t),c=i.reduce(function(e,t){return e+t.num},0);this.plotDonut(i,c,n,a,t,l)}},{key:"plotDonut",value:function(e,t,n,a,r){var o={top:20,right:60,bottom:90,left:20};["Combinations","Datapoints","Experiments"].includes(r)&&(o.right=130);var l=function(e,t){for(var n=[],a=0;a<e.length;a+=1)n.push({a:e[a],b:t[a]});n.sort(function(e,t){return e.a<t.a?-1:1});for(var r=[],o=[],l=0;l<n.length;l+=1)r[l]=n[l].a,o[l]=n[l].b;return[r,o]}(e.map(function(e){return e.name}),e.map(function(e){return e.num})),i=l[0],c=l[1],s=ve.n(["#e69a61","#9817ff","#18c61a","#33b4ff","#c9167e","#297853","#d7011b","#7456c7","#7e6276","#afb113","#fd879c","#fb78fa","#24c373","#45bbc5","#766b21","#abad93","#c19ce3","#fd8f11","#2f56ff","#307a11","#b3483c","#0d7396","#94b665","#9d4d91","#b807c8","#086cbf","#a2abc5","#a35702","#d3084b","#8c6148","#fa82ce","#71be42","#2bc0a0","#b64064","#d09fa2","#daa229","#5a6f68","#c1aa5f","#8943dc","#b72ba6","#6e629e","#e094bf","#dd8df2","#c03d0b","#7db799","#617046","#ff8a78","#1263e2","#91aaea","#cea37e","#9e555c","#67b4db","#05767b","#537428","#04c553","#88b3b7","#ff8d52","#8abb0b","#9b43b9","#c83030","#6fbc7c","#596c83","#926023","#e9958d","#a127e3","#027b36","#94577d","#7543f8","#8257ab","#c0ab3c","#416ca4","#a3b444","#b53c7e","#ca2064","#64c104","#5662c0","#c1a0c6","#5e56e3","#9cb37c","#9f573b","#65bf64","#7e6839","#d6a250","#c0384a","#75685b","#657105","#b1a9a9","#ab5025","#ea9940","#a1a4f9","#a9409f","#48745a","#dd92d5","#c90392","#53bcaf","#c298f9","#6d668a","#aa31c0","#e89777","#b5ac76","#8b5f62","#fb85b9","#43763f","#38c18a","#8ab94c","#f87fe4","#e196aa","#a74b77","#885997","#c9a918","#50c237","#d50438","#d2a267","#acb05e","#c1a693","#6d696f","#b04950","#ba4327","#4f7603","#3a7282","#2cbada","#ed990a","#b24c07"]),u=ve.o("#".concat(n)).append("svg").attr("fill","white").data([e]).attr("width",a.width+o.left+o.right).attr("height",a.height+o.top+o.bottom).attr("transform","translate(".concat(o.left,",").concat(o.top,")")).attr("id","pie").append("g").attr("transform","translate(".concat(a.radius,",").concat(a.radius+a.translate,")")).attr("id","g-".concat(r)),d=u.append("text").attr("text-anchor","middle").attr("fill",x.blue_main).style("font-size","24px").style("font-weight","700").style("text-transform","capitalize").attr("transform","translate(0,5)").text(function(){return"origin"===r?"biopsy":r});if(["Combinations","Datapoints","Experiments"].includes(r)){d.attr("transform","translate(0,0)");u.append("foreignObject").attr("fill",x.blue_main).style("font-size","18px").style("font-weight","700").style("text-transform","capitalize").attr("x",-90).attr("y",5).attr("width",180).attr("height",30).html(function(){return"<i>N</i> = ".concat(t.toLocaleString())})}var m=ve.a().outerRadius(a.radius).innerRadius(a.radius-a.radius/2.87),p=ve.k().value(function(e){return e.num}),h=ve.o("#".concat(n)).append("div").style("position","absolute").style("z-index","10").style("visibility","hidden").style("color",x.blue_main).style("padding","2px 8px").style("background","#fff").style("border-radius","10px").text("hehe"),f=u.selectAll("g.slice").data(p).enter().append("svg:g").attr("class",function(t,n){return e[n].name}),g=[];if(f.append("svg:path").attr("fill",function(e,t){if(["Combinations","Datapoints","Experiments"].includes(r)){var n=g.findIndex(function(t){return t.name===e.data.name});-1===n?g.push({name:e.data.name,num:e.data.num,color:s(t)}):g[n][r]=e.data.num}else g.push({name:e.data.name,num:e.data.num,color:s(t)});return s(t)}).style("opacity",.7).attr("d",m),f.transition().ease(ve.d).duration(500).attrTween("d",function(e){return function(t){var n=ve.h(t.endAngle,e);return function(e){return t.endAngle=n(e),m(t)}}}),f.on("mouseover",function(e){h.text("".concat(e.data.name,": ").concat(ve.g(".2f")(e.data.num/t*100),"%")).style("visibility","visible")}).on("mousemove",function(){h.style("top","".concat(ve.e.pageY-10,"px")).style("left","".concat(ve.e.pageX+10,"px"))}).on("mouseout",function(){h.style("visibility","hidden")}),this.props.legendCallBack(g),!["Combinations","Datapoints","Experiments"].includes(r))for(var b=function(t){u.append("rect").attr("x",a.width-(a.width/2+30)).attr("y",35*t-(a.height/2+a.rectY)).attr("width",15).attr("height",15).style("fill",function(){var e=g.findIndex(function(e){return e.name===i[t]});return g[e].color}).style("opacity",.7),u.append("foreignObject").attr("x",a.width-(a.width/2+10)).attr("y",35*t-(a.height/2+a.textY)).attr("id","legendLabel".concat(e[t].name)).style("text-anchor","start").style("text-align","left").style("font-size",function(){return"tissue"===r?13:14}).style("text-transform",function(){return"tissue"===r?"uppercase":"normal"}).style("opacity",1).attr("fill",x.blue_main).attr("width",180).attr("height",30).html(function(){return r?"".concat(i[t],", <i>N</i> = ").concat(c[t]):i[t]})},y=0;y<i.length;y+=1)b(y)}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.plotId,className:"plot"})}}]),t}(r.a.Component);function Ee(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background:white;\n  padding:0px 30px;\n"]);return Ee=function(){return e},e}var Ae=s.default.div(Ee()),ke=function(e,t){var n=Object(O.a)(new Set(e.map(function(e){return e[t]}))),a=[];return"age"===t?(a=[{name:"50 or over",num:0},{name:"Under 50",num:0},{name:"Unknown",num:0}],e.forEach(function(e){var n=0;e[t]>=50?n=0:e[t]<50&&null!=e[t]?n=1:null==e[t]&&(n=2),a[n].num+=1})):"origin"===t?(a=[{name:"Primary",num:0},{name:"Metastasis",num:0}],e.forEach(function(e){var n=0;n=null==e[t]?0:1,a[n].num+=1})):"sex"===t?(a=[{name:"Female",num:0},{name:"Male",num:0},{name:"Unknown",num:0}],e.forEach(function(e){var n=0;"F"===e[t]?n=0:"M"===e[t]?n=1:null==e[t]&&(n=2),a[n].num+=1})):(n.forEach(function(e){a.push({name:e,num:0})}),e.forEach(function(e){var n=a.findIndex(function(n){return n.name===e[t]});a[n].num+=1})),a},we=function(e,t){var n=e.pivotId||e.id;switch(typeof t[n]){case"object":return t[n]&&t[n].origin?String("metastasis").includes(e.value.toLowerCase()):!(!t[n]||!t[n].name)&&String(t[n].name.toLowerCase()).includes(e.value.toLowerCase());case"number":return t[n].toString().includes(e.value);case"string":return String(t[n].toLowerCase()).includes(e.value.toLowerCase());default:return!1}},De=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).legendCallBack=function(e){return null},e.state={cellLineData:[],loading:!0,donutData:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/cell_lines/").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){var t=e.tissue,n=e.name,a=e.sex,r=e.origin,o=e.age,l=e.disease;return{tissue:t,name:n,sex:a,age:o,idCellosaurus:e.idCellosaurus,disease:{name:l,origin:r}}});e.setState({cellLineData:n,loading:!1,donutData:t})})}},{key:"render",value:function(){var e=this.state,t=e.cellLineData,n=e.loading,o=e.donutData,l=[{Header:"Tissue",accessor:"tissue",Cell:function(e){return e.value.toUpperCase()},maxWidth:125,sortable:!0},{Header:"Name",accessor:"name",Cell:function(e){return e.value.toUpperCase()},maxWidth:125,sortable:!0},{Header:"Sex",accessor:"sex",maxWidth:55,minWidth:55},{Header:"Age",accessor:"age",style:{textAlign:"right"},maxWidth:50,sortable:!0},{Header:"Disease",accessor:"disease",Cell:function(e){var t=e.value;return t.origin?r.a.createElement("span",null,t.name,r.a.createElement("em",null," (metastasis)")):r.a.createElement("span",null,t.name)},sortable:!1},{Header:"Cellosaurus",accessor:"idCellosaurus",Cell:function(e){return r.a.createElement("a",{className:"hover",target:"_blank",rel:"noopener noreferrer",href:"https://web.expasy.org/cellosaurus/".concat(e.value)},e.value)},maxWidth:125,sortable:!1}],i={width:300,height:230,radius:100,rectY:-30,textY:-30,translate:85};return r.a.createElement(a.Fragment,null,r.a.createElement("main",{className:"summary"},r.a.createElement(Ae,{className:"wrapper"},r.a.createElement("h1",null,"Cell Lines,"," ",r.a.createElement("i",null,"N")," ","="," ",o.length.toLocaleString()),0===o.length?null:r.a.createElement(a.Fragment,null,r.a.createElement(xe,{keyName:"tissue",plotId:"cellTissuePlot",dimensions:{width:620,height:400,radius:230,rectY:20,textY:18,translate:5},formatData:ke,donutData:o,legendCallBack:this.legendCallBack}),r.a.createElement(xe,{keyName:"sex",plotId:"cellMiniPlot",dimensions:i,formatData:ke,donutData:o,legendCallBack:this.legendCallBack}),r.a.createElement(xe,{keyName:"origin",plotId:"cellMiniPlot",dimensions:i,formatData:ke,donutData:o,legendCallBack:this.legendCallBack}),r.a.createElement(xe,{keyName:"age",plotId:"cellMiniPlot",dimensions:i,formatData:ke,donutData:o,legendCallBack:this.legendCallBack}))),r.a.createElement(Ae,{className:"wrapper"},r.a.createElement("h1",null,"List of Cell Lines"),r.a.createElement(pe.a,{data:t,columns:l,defaultPageSize:25,filterable:!0,defaultFilterMethod:we,className:"-highlight",loading:n,LoadingComponent:ye}))),r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("p",null,"Copyright \xa9 2019. All rights reserved"))))}}]),t}(a.Component);function Ce(){var e=Object(i.a)(["\n    span {\n        font-size:85%;\n    }\n    br {\n        line-height:0px !important;\n    }\n\n"]);return Ce=function(){return e},e}var je=s.default.div(Ce()),Oe=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.datasetData,a=e.plotId;this.plotLegend(t,n,a)}},{key:"plotLegend",value:function(e,t,n){for(var a=function(n){var a=t.findIndex(function(t){return t.name===e[n].name});e[n].nCombos=t[a].nCombos,e[n].nDatapoints=t[a].nDatapoints,e[n].nExperiments=t[a].nExperiments},r=0;r<e.length;r++)a(r);var o=[];e.forEach(function(e){o.push(e.name)}),o.sort();for(var l=ve.o("#".concat(n)).append("svg").attr("fill","white").attr("width",1050).attr("height",110).attr("id","legend").append("g"),i=function(t){var n=e.findIndex(function(e){return e.name===o[t]});l.append("rect").attr("x",150*t).attr("y",10).attr("width",15).attr("height",15).style("fill",function(){return e[n].color}).style("opacity",.7),l.append("foreignObject").attr("x",20+150*t).attr("y",10).attr("id","legendLabel".concat(e[n].name)).style("text-anchor","start").style("text-align","left").style("font-size",14).style("text-transform","normal").style("opacity",1).attr("fill",x.blue_main).attr("width",180).attr("height",70).html(function(){return e[n].name+"<span><br> Combos: "+ve.g(",")(e[n].nCombos)+"</br>Experiments: "+ve.g(",")(e[n].nExperiments)+"<br> Datapoints: "+ve.g(",")(e[n].nDatapoints)+"</br></span>"})},c=0;c<o.length;c++)i(c)}},{key:"render",value:function(){return r.a.createElement(je,null,r.a.createElement("div",{id:this.props.plotId,className:"plot"}))}}]),t}(r.a.Component),Se=n(175);function _e(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background:white;\n  padding:0px 30px;\n\n  #dsetMiniPlot {\n    margin-left:40px;\n  }\n\n  #dsetLegend {\n    margin: 20px 0px 0px 40px;\n    \n    &span {\n      line-height:5px;\n      font-size:85%;\n    }\n    \n  }\n \n"]);return _e=function(){return e},e}var Be=s.default.div(_e()),Ie=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).legendCallBack=function(t){e.setState({colorMap:t})},e.state={databaseData:[],datasetData:[],colorMap:[],loading:!0},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/datasets/").then(function(e){return e.json()}).then(function(t){e.setState({databaseData:t})}),this.setState({datasetData:Se,loading:!1})}},{key:"formatData",value:function(e,t){var n=[];return e.forEach(function(e){var a={};a.name=e.name,"Combinations"===t?a.num=e.nCombos:"Experiments"===t?a.num=e.nExperiments:"Datapoints"===t&&(a.num=e.nDatapoints),n.push(a)}),n}},{key:"render",value:function(){var e=this.state,t=e.databaseData,n=e.datasetData,o=e.colorMap,l=e.loading,i=[{Header:"Name",accessor:"name",sortable:!1},{Header:"Source",accessor:"author",sortable:!1,Cell:function(e){return r.a.createElement("a",{className:"hover",target:"_blank",rel:"noopener noreferrer",href:"https://www.ncbi.nlm.nih.gov/pubmed/".concat(e.original.pmID)},e.value)}},{Header:"# of cell lines",accessor:"no_samples",style:{textAlign:"right"},sortable:!0,Cell:function(e){return(new Intl.NumberFormat).format(e.value)}},{Header:"# of compounds",accessor:"no_drugs",style:{textAlign:"right"},sortable:!0,Cell:function(e){return(new Intl.NumberFormat).format(e.value)}},{Header:"Design",accessor:"combo",sortable:!1}],c={width:220,height:250,radius:150,rectY:-50,textY:-50,translate:30};return r.a.createElement(a.Fragment,null,r.a.createElement("main",{className:"summary"},r.a.createElement(Be,{className:"wrapper"},l?r.a.createElement("div",{className:"loading-container"},r.a.createElement(fe.a,{type:"bubbles",width:150,height:150,color:x.color_main_2})):r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"Datasets,"," ",r.a.createElement("i",null,"N")," ","="," ",n.length.toLocaleString()),0===n.length?null:r.a.createElement(a.Fragment,null,r.a.createElement(xe,{keyName:"Combinations",plotId:"dsetMiniPlot",dimensions:c,formatData:this.formatData,donutData:n,legendCallBack:this.legendCallBack}),r.a.createElement(xe,{keyName:"Experiments",plotId:"dsetMiniPlot",dimensions:c,formatData:this.formatData,donutData:n,legendCallBack:this.legendCallBack}),r.a.createElement(xe,{keyName:"Datapoints",plotId:"dsetMiniPlot",dimensions:c,formatData:this.formatData,donutData:n,legendCallBack:this.legendCallBack}),0===o.length?null:r.a.createElement(Oe,{data:o,datasetData:n,plotId:"dsetLegend"})))),r.a.createElement(Be,{className:"wrapper"},r.a.createElement("h1",null,"List of Datasets"),r.a.createElement(pe.a,{data:t,columns:i,className:"-highlight",showPagination:!1,defaultPageSize:7,loading:l}))),r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("p",null,"Copyright \xa9 2019. All rights reserved"))))}}]),t}(a.Component),Ne=function(e){function t(e){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).call(this,e))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.plotId,n=(0,e.formatData)(e.drugsData,e.datasetData);this.plotBarChart(n[0],n[1],t)}},{key:"plotBarChart",value:function(e,t,n){var a=20,r=50,o=90,l=70;e.unshift(""),t.unshift(0);var i=ve.n(["#e69a61","#9817ff","#18c61a","#33b4ff","#c9167e","#297853","#d7011b","#7456c7","#7e6276","#afb113","#fd879c","#fb78fa","#24c373","#45bbc5","#766b21","#abad93","#c19ce3","#fd8f11","#2f56ff","#307a11","#b3483c","#0d7396","#94b665","#9d4d91","#b807c8","#086cbf","#a2abc5","#a35702","#d3084b","#8c6148","#fa82ce","#71be42","#2bc0a0","#b64064","#d09fa2","#daa229","#5a6f68","#c1aa5f","#8943dc","#b72ba6","#6e629e","#e094bf","#dd8df2","#c03d0b","#7db799","#617046","#ff8a78","#1263e2","#91aaea","#cea37e","#9e555c","#67b4db","#05767b","#537428","#04c553","#88b3b7","#ff8d52","#8abb0b","#9b43b9","#c83030","#6fbc7c","#596c83","#926023","#e9958d","#a127e3","#027b36","#94577d","#7543f8","#8257ab","#c0ab3c","#416ca4","#a3b444","#b53c7e","#ca2064","#64c104","#5662c0","#c1a0c6","#5e56e3","#9cb37c","#9f573b","#65bf64","#7e6839","#d6a250","#c0384a","#75685b","#657105","#b1a9a9","#ab5025","#ea9940","#a1a4f9","#a9409f","#48745a","#dd92d5","#c90392","#53bcaf","#c298f9","#6d668a","#aa31c0","#e89777","#b5ac76","#8b5f62","#fb85b9","#43763f","#38c18a","#8ab94c","#f87fe4","#e196aa","#a74b77","#885997","#c9a918","#50c237","#d50438","#d2a267","#acb05e","#c1a693","#6d696f","#b04950","#ba4327","#4f7603","#3a7282","#2cbada","#ed990a","#b24c07"]),c=ve.o("#".concat(n)).append("svg").attr("fill","white").attr("width",800+l+r).attr("height",400+a+o).attr("id","Bar").append("g").attr("transform","translate(".concat(l,",").concat(a,")")),s=Math.max.apply(null,t),u=ve.m().domain([0,e.length]).range([0,800]),d=ve.m().domain([0,s+10]).range([400,0]),m=ve.b().scale(u).tickPadding(2).tickFormat(function(t,n){return e[n]}).tickValues(ve.l(e.length)),p=ve.c().scale(d).tickSize(5);c.append("g").attr("class","y axis").attr("fill","none").attr("stroke","black").attr("stroke-width",1).call(p).selectAll("text").attr("fill","black").style("font-size",15).attr("stroke","none"),c.selectAll(".tick").select("text").attr("fill","black").attr("stroke","none"),c.append("g").attr("class","x axis").attr("transform","translate(0,".concat(400,")")).attr("fill","none").attr("stroke","black").attr("stroke-width",1).call(m).selectAll("text").attr("fill","black").style("font-size",14).attr("stroke","none");c.append("g").attr("transform","translate(0,0)").attr("id","chart").selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("width",50).attr("x",function(e,t){return u(t)-25}).attr("y",function(e){return d(e)}).style("fill",function(e,t){return i(t)}).attr("height",function(e){return 400-d(e)}).on("mouseover",function(t,n){ve.o(this).transition().duration(300).style("opacity",.6),ve.o("#".concat(e[n],"vertnum")).transition().duration(300).style("opacity",1),ve.o(this).style("cursor","pointer")}).on("mouseout",function(t,n){ve.o(this).transition().duration(300).style("opacity",1),ve.o("#".concat(e[n],"vertnum")).transition().duration(300).style("opacity",0),ve.o(this).style("cursor","default")});for(var h=1;h<t.length;h++)c.append("text").attr("x",u(h)).attr("y","".concat(d(t[h])-10,"px")).attr("id","".concat(e[h],"vertnum")).style("text-anchor","middle").style("font-size","13px").attr("fill","black").style("opacity",0).text(t[h].toLocaleString())}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.plotId,className:"plot"})}}]),t}(r.a.Component);function Me(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  background:white;\n  padding:0px 30px;\n"]);return Me=function(){return e},e}var Pe=s.default.div(Me()),ze=function(e,t){var n=[],a=[];return t.forEach(function(e){n.push(e.name),a.push(0)}),e.forEach(function(e){e.dataset_names.split(",").forEach(function(e){var t=n.findIndex(function(t){return t===e});a[t]+=1})}),[n,a]},Le=function(e,t){var n=e.pivotId||e.id;switch(typeof t[n]){case"object":return t[n]&&t[n].origin?String("metastasis").includes(e.value.toLowerCase()):!(!t[n]||!t[n].name)&&String(t[n].name.toLowerCase()).includes(e.value.toLowerCase());case"number":return t[n].toString().includes(e.value);case"string":return String(t[n].toLowerCase()).includes(e.value.toLowerCase());default:return!1}},Te=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={drugsData:[],loading:!0,datasetData:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/drugs/").then(function(e){return e.json()}).then(function(t){t.sort(function(e,t){return e.atcCode&&!t.atcCode?-1:!e.atcCode&&t.atcCode?1:e.idDrugBank&&!t.idDrugBank?-1:!e.idDrugBank&&t.idDrugBank?1:e.idPubChem&&!t.idPubChem?-1:!e.idPubChem&&t.idPubChem?1:e.name>t.name?1:e.name<t.name?-1:0}),t.forEach(function(e){if(e.atcCode){var t=e.atcCode.split(";");e.atcCode=t.length>1?t[0].concat(", ..."):t[0]}}),fetch("/api/datasets").then(function(e){return e.json()}).then(function(n){e.setState({drugsData:t,loading:!1,datasetData:n})})})}},{key:"render",value:function(){var e=this.state,t=e.drugsData,n=e.loading,o=e.datasetData,l=[{Header:"Name",accessor:"name",minWidth:400},{Header:"ATC Code",accessor:"atcCode"},{Header:"PubChem CID",accessor:"idPubChem",Cell:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("a",{className:"hover",target:"_blank",rel:"noopener noreferrer",href:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(e.value)},e.value))}},{Header:"DrugBank ID",accessor:"idDrugBank",Cell:function(e){return r.a.createElement("a",{className:"hover",target:"_blank",rel:"noopener noreferrer",href:"https://www.drugbank.ca/drugs/".concat(e.value)},e.value)}}];return r.a.createElement(a.Fragment,null,r.a.createElement("main",{className:"summary"},r.a.createElement(Pe,{className:"wrapper"},r.a.createElement("h1",null,"Compounds,"," ",r.a.createElement("i",null,"N ="," ",t.length.toLocaleString())),0===o.length?null:r.a.createElement(Ne,{plotId:"drugPlot",formatData:ze,drugsData:t,datasetData:o})),r.a.createElement(Pe,{className:"wrapper"},r.a.createElement("h1",null,"List of Compounds"),r.a.createElement(pe.a,{data:t,columns:l,sortable:!1,defaultPageSize:25,filterable:!0,defaultFilterMethod:Le,className:"-highlight",loading:n,LoadingComponent:ye}))),r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-wrapper"},r.a.createElement("p",null,"Copyright \xa9 2019. All rights reserved"))))}}]),t}(a.Component);function Re(){var e=Object(i.a)(["\n  padding: 10px;\n  main {\n    max-width: 1200px;\n    padding: 30px;\n    text-align: justify;\n    font-size: 20px;\n    &.documentation {\n      background:white;\n      font-family: Nunito Sans, sans-serif;\n      color:",";\n      h1, h2 {\n        margin: 25px 0;\n      }\n      span {\n        font-size: 20px;\n      }\n      h2 {\n        padding:20px 0px;\n      }\n    }\n    ol {\n      list-style: none;\n      padding: 10px 0;\n    }\n  } \n  footer {\n    text-align: center;\n    color: ","\n    font-size: 20px;\n  }\n"]);return Re=function(){return e},e}var Qe=s.default.div(Re(),x.nav_links,x.color_main_2),Ge=function(){return r.a.createElement(Qe,null,r.a.createElement("main",{className:"documentation"},r.a.createElement("h1",null,"SYNERGxDB"),r.a.createElement("h2",null,"Documentation"),r.a.createElement("span",null," ",r.a.createElement("b",null,"SYNERGxDB")," ","is a comprehensive database to explore synergistic drug combinations for biomarker discovery."),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("b",null,"Overview"),r.a.createElement("ol",null,r.a.createElement("li",null,"Many studies have highlighted the use of drug combination approaches in the treatment of tumors, which have been shown to provide aid in"," ",r.a.createElement("b",null,"overcoming cancer treatment failures.")," ","However, the impact of genetics on variability in combo responses for discovering predictive and prognostic biomarkers is currently unknown. To help solve this issue, we created"," ",r.a.createElement("b",null,"SYNERGxDB"),", a web-application that possesses the largest database of seven collections of pharmacological and molecular profiles of corresponding cell lines (124 cell lines in 11 tissue types and 1,962 drugs/compounds - 15,268 combinations). This application allows researchers and clinicians to identify novel synergistic drug combinations, in order to discover potential prognostic and predictive biomarkers that can help improve patient prognosis and selection."))),r.a.createElement("br",null),r.a.createElement("li",null,r.a.createElement("b",null,"Features"),r.a.createElement("br",null),r.a.createElement("ol",null,r.a.createElement("li",null,"Search: The SYNERGxDB search engine allows users to identify potential biomarkers and novel drug combinations according to the predicted synergy scores, by querying for a subset of cell lines or one cell line, first drug in combo, second drug in combo, and/or dataset of choice to explore."),r.a.createElement("br",null),r.a.createElement("li",null,"Samples: All of the cell lines in SYNERGxDB are visually represented in a pie-chart based upon the following categories: (age, sex, tissues, biopsy). By hovering over each slice of a chart, users can gain additional information about the cell lines (e.g. number of cell lines derived from a male). Metadata is provided for each cell line in SYNERGxDB (N = 124), which includes: (cell line name, tissue origin, sex, age, associated disease, and"," ",r.a.createElement("i",null,"Cellosaurus")," ","accession ID)."),r.a.createElement("br",null),r.a.createElement("li",null,"Compounds: Metadata is provided for each drug compound in SYNERGxDB (N = 1,962), which includes: (compound name, ATC code, PubChem CID, and DrugBank ID). In addition, users may browse drugs with ATC code in tree at the top panel."),r.a.createElement("br",null),r.a.createElement("li",null,"Datasets: Each study (dataset) is summarized through the following characteristics: (dataset name, source of study, number of cell lines, number of drug compounds, and concentration design - e.g. 3-by-3 concentrations)."),r.a.createElement("br",null),r.a.createElement("li",null,"Synergy scores: Synergy scores are calculated for each drug combo experiment in SYNERGxDB (N = 477,595), which includes: (tissue, cell line, first drug in combo, second drug in combo, ZIP, Bliss, Loewe, and HSA)."),r.a.createElement("br",null),r.a.createElement("li",null,"Detailed synergy scores: Users are able to delve into the synergy scores calculated for each drug combo experiment through a detailed synergy pane. Cumulative density is plotted across all of the synergy scores for a drug combo experiment of interest. Experiment consists of sample, drug combo one (compound A) and drug combo two (compound B)."),r.a.createElement("br",null),r.a.createElement("li",null,"Synergy matrices are provided for each score that is calculated for an experiment, where concentrations of drugA and drugB and corresponding inhibition values (%) are presented. Users are able to further investigate the relationship between each drug combination and synergy score through 3D-surface plots, where synergism is depicted through colour intensity. In addition, the drug-dose response curves are generated for each drug and cell line combination, along with an inhibition heat map, and computed AAC, IC50, and EC50."))))),r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright \xa9 2019. All rights reserved")))},He=(n(83),n(40)),Ue=n.n(He),Fe=n(176),Ye=n.n(Fe),Ke=n(137),qe=n.n(Ke),Je=n(138),We=n.n(Je),Ve=n(177),Ze=n.n(Ve),Xe=n(45),$e=n.n(Xe),et=r.a.createContext();function tt(){var e=Object(i.a)(["\n    min-height: 450px;\n"]);return tt=function(){return e},e}var nt=s.default.div(tt()),at=[{name:"Bliss",color:x.color_main_2,accessor:"bliss_matrix"},{name:"Loewe",color:x.color_main_1,accessor:"loewe_matrix"},{name:"HSA",color:x.color_main_4,accessor:"hsa_matrix"},{name:"ZIP",color:x.color_main_5,accessor:"zip_matrix"}],rt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:[],layout:{},display:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updatePlotData()}},{key:"componentDidUpdate",value:function(e){this.props.type!==e.type&&this.updatePlotData()}},{key:"checkDataValidity",value:function(e,t){return e.length<2||2===e.length&&0===e[0]?(this.setState({display:!1}),!1):t.length<2||2===t.length&&0===t[0]?(this.setState({display:!1}),!1):(this.setState({display:!0}),!0)}},{key:"updatePlotData",value:function(){var e=this.props,t=e.data,n=e.type,a=this.context.drugsData,r=Object(O.a)(new Set(t.map(function(e){return e.concB}))),o=Object(O.a)(new Set(t.map(function(e){return e.concA})));if(this.checkDataValidity(r,o)){var l,i=[];t.forEach(function(e){e.concA===l?i[i.length-1].push(100*e[at[n-1].accessor]):(i.push([100*e[at[n-1].accessor]]),l=e.concA)});var c=[{x:r,y:o,z:i,type:"surface",contours:{z:{show:!0,usecolormap:!0,highlightcolor:"#42f462",project:{z:!0}}},colorscale:[[0,"".concat(x.color_accent_1)],[1,"".concat(at[n-1].color)]],colorbar:{exponentformat:"E"}}],s={margin:{l:0,r:0,t:0,b:0},title:{text:at[n-1].name,size:18},scene:{camera:{eye:{x:-1.75,y:-1.75,z:.25}},domain:{x:[0,2]},xaxis:{title:"".concat(a[0].name),type:"log",tickmode:"array",tickvals:r,ticktext:r,showspikes:!1},yaxis:{title:"".concat(a[1].name),type:"log",tickmode:"array",tickvals:o,ticktext:o,showspikes:!1},zaxis:{title:at[n-1].name}},autosize:!0,paper_bgcolor:"white",plot_bgcolor:"white"};this.setState({data:c,layout:s})}}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.layout;return e.display?r.a.createElement(nt,null,r.a.createElement($e.a,{graphDiv:"graph",config:{responsive:!0},data:t,layout:n})):null}}]),t}(r.a.Component);rt.contextType=et;var ot=rt;function lt(){var e=Object(i.a)(["\n  display: flex;\n\n  button {\n    font-size: 1.5em;\n    background: ",";\n    border: 1px solid ",";\n    padding: 10px 20px;\n    margin: 10px 0;\n    color: #ffffff;\n    transition: ",';\n    outline-style: none;\n    vertical-align: middle;\n    -webkit-transform: perspective(1px) translateZ(0);\n    transform: perspective(1px) translateZ(0);\n    box-shadow: 0 0 1px rgba(0, 0, 0, 0);\n    position: relative;\n    -webkit-transition-property: color;\n    transition-property: color;\n    -webkit-transition-duration: 0.3s;\n    transition-duration: 0.3s;\n    flex-grow: 1;\n  \n    &:before {\n      content: "";\n      position: absolute;\n      z-index: -1;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: ',";\n      -webkit-transform: scaleX(0);\n      transform: scaleX(0);\n      -webkit-transform-origin: 0 50%;\n      transform-origin: 0 50%;\n      -webkit-transition-property: transform;\n      transition-property: transform;\n      -webkit-transition-duration: 0.3s;\n      transition-duration: 0.3s;\n      -webkit-transition-timing-function: ease-out;\n      transition-timing-function: ease-out;\n    }\n  \n    &:hover,\n    &:focus,\n    &.active-score {\n      color: white;\n      \n      border: 1px solid ",";\n      cursor:pointer;\n\n      &:before {\n        -webkit-transform: scaleX(1);\n        transform: scaleX(1);\n      }\n    }\n  }\n"]);return lt=function(){return e},e}function it(){var e=Object(i.a)(["\n  padding-bottom: 10px;\n  border-bottom: 2px solid ",";\n  margin-bottom: 10px;\n"]);return it=function(){return e},e}var ct=s.default.div(it(),x.color_main_3),st=s.default.div(lt(),x.nav_links,x.nav_links,E,x.button_hover,x.nav_links),ut=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={selectedType:0,dataTypes:["raw_matrix","bliss_matrix","loewe_matrix","hsa_matrix","zip_matrix"]},e.handleClick=e.handleClick.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(e){this.setState({selectedType:e})}},{key:"render",value:function(){var e=this.handleClick,t=this.context,n=t.drugsData,a=t.cellData,o=t.synergyData,l=this.state,i=l.dataTypes,c=l.selectedType,s=function(e){return o.every(function(t){return null!==t[e]})};return r.a.createElement(ct,null,r.a.createElement("h2",null,"Synergy Matrices"),r.a.createElement(st,null,r.a.createElement("button",{type:"button",onClick:function(){return e(0)},className:0===c?"active-score":null},"Input"),s("zip_matrix")?r.a.createElement("button",{type:"button",onClick:function(){return e(4)},className:4===c?"active-score":null},"ZIP"):null,s("bliss_matrix")?r.a.createElement("button",{type:"button",onClick:function(){return e(1)},className:1===c?"active-score":null},"Bliss"):null,s("loewe_matrix")?r.a.createElement("button",{type:"button",onClick:function(){return e(2)},className:2===c?"active-score":null},"Loewe"):null,s("hsa_matrix")?r.a.createElement("button",{type:"button",onClick:function(){return e(3)},className:3===c?"active-score":null},"HSA"):null),o.length>0?function(){var e={};o.forEach(function(t){void 0===e[t.concA]?e[t.concA]=[Object(S.a)({concB:t.concB},i[c],t[i[c]])]:e[t.concA].push(Object(S.a)({concB:t.concB},i[c],t[i[c]]))});var t=Object(O.a)(new Set(o.map(function(e){return e.concB}))).map(function(e,t){return{Header:"".concat(e," \xb5M"),accessor:"".concat(i[c],".").concat(t),Cell:function(e){return r.a.createElement("div",{style:{textAlign:"center"}},null!==e.value?e.value.toFixed(3):"-")}}}),l=[{Header:"".concat(a.name),headerClassName:"header-name",accessor:"key",columns:[{Header:"".concat(n[0].name),headerClassName:"header-name",accessor:"key",Cell:function(e){return r.a.createElement("div",{className:"raw-names"},e.value," ","\xb5M")}}]},{Header:"".concat(n[1].name),headerClassName:"header-name",columns:t}],s=Object.entries(e).map(function(e){var t={};return e[1].forEach(function(e,n){t[n]=e[i[c]]}),Object(S.a)({key:e[0]},i[c],t)});return r.a.createElement(pe.a,{data:s,columns:l,showPagination:!1,sortable:!1,defaultPageSize:s.length,className:"-highlight"})}():null,o.length>0&&0!==c?r.a.createElement(ot,{data:o,type:c}):null)}}]),t}(a.Component);ut.contextType=et;var dt=ut;function mt(){var e=Object(i.a)(["\n    grid-column: 1;\n    height: 250px;\n"]);return mt=function(){return e},e}var pt=s.default.div(mt()),ht=function(e){var t=e;return t>100&&(t=100),t<0&&(t=0),t},ft=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:[],layout:{}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.drugA,t=this.context,n=t.synergyData,a=t.cellData,r=t.drugsData,o=n.filter(function(t){return e?0===t.concB:0===t.concA});o.shift();var l=o.map(function(e){return ht(100*e.raw_matrix)}),i=o.map(function(t){return e?t.concA:t.concB}),c=e?r[0].name:r[1].name,s=o.map(function(t){return"".concat(ht(100*t.raw_matrix).toFixed(2),"% viability (").concat(e?t.concA:t.concB," \xb5M ").concat(c,")")}),u=[{type:"scatter",x:i,y:l,line:{color:x.color_main_1,shape:"spline",smoothing:1.3},hoverinfo:"text",hovertext:s}],d={title:{text:"".concat(a.name," treated with ").concat(c),font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:18}},hovermode:"closest",autosize:!0,height:250,margin:{l:50,r:0,t:30,b:55},xaxis:{title:{text:"Concentration (\xb5M)",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,fixedrange:!0,type:"log",tickmode:"array",tickvals:i,ticktext:i,tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}},yaxis:{title:{text:"Viablity (%)",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,range:[0,105],fixedrange:!0,tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}}};this.setState({data:u,layout:d})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.layout;return r.a.createElement(pt,null,r.a.createElement($e.a,{graphDiv:"graph",config:{responsive:!0,displayModeBar:!1},data:t,layout:n}))}}]),t}(r.a.Component);ft.contextType=et;var gt=ft;function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vt(){var e=Object(i.a)(["\n    grid-column: 2;\n    grid-row: 1/3;\n    .js-plotly-plot {\n      height: 100%;\n    }\n"]);return vt=function(){return e},e}var xt=s.default.div(vt()),Et=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:[],layout:{autosize:!0,margin:{l:75,r:0,t:30,b:50}}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.context.synergyData,n=this.context,a=n.cellData,r=n.drugsData,o=[],l=[],i=[],c=[],s=0,u=0,d=[];t.forEach(function(t){var n="".concat(t.concA," \xb5M of ").concat(r[0].name," and ").concat(t.concB," \xb5M of ").concat(r[1].name);d.push(function(e){if(null!==e){var t=100*e;return t>100?"100":t<0?"0":t.toFixed(2)}return"-"}(t.raw_matrix)),t.concA===e?(o[o.length-1].push(100-100*t.raw_matrix),l[l.length-1].push(n),s++,i.push(s),c.push(u-1)):(o.push([100-100*t.raw_matrix]),l.push([n]),e=t.concA,s=0,u++,i.push(s),c.push(u-1))});var m={z:o,customdata:o,text:o,type:"heatmap",hoverinfo:"text",hovertext:l,colorscale:[[0,x.red_color_accent],[1,x.color_main_3]],reversescale:!0,colorbar:{tickcolor:x.color_main_1,tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13},tickvals:[0,20,40,60,80,100],ticktext:[100,80,60,40,20,0],ypad:0,title:{text:"Viability, %",side:"right",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}}},zmin:0,zmax:100},p={x:i,y:c,mode:"text",text:d,type:"scattergl",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:18},hoverinfo:"skip"};this.setState(function(e){return{data:[m,p],layout:yt({},e.layout,{title:{text:a.name,font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:18}},xaxis:{fixedrange:!0,title:{text:"".concat(r[1].name," (\xb5M)"),font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},tickmode:"array",tickvals:Object(O.a)(new Set(i)),ticktext:Object(O.a)(new Set(t.map(function(e){return e.concB}))),tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}},yaxis:{fixedrange:!0,title:{text:"".concat(r[0].name," (\xb5M)"),font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},tickmode:"array",tickvals:Object(O.a)(new Set(c)),ticktext:Object(O.a)(new Set(t.map(function(e){return e.concA}))),tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}}})}})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.layout;return r.a.createElement(xt,null,r.a.createElement($e.a,{data:t,layout:n,config:{responsive:!0,displayModeBar:!1}}))}}]),t}(r.a.Component);Et.contextType=et;var At=Et;function kt(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 10px;\n    width: 100%;\n    height: 510px;\n    padding: 0;\n    margin: 20px 0;\n"]);return kt=function(){return e},e}function wt(){var e=Object(i.a)(["\n    padding-bottom: 10px;\n    // border-bottom: 2px solid ",";\n    margin-bottom: 10px;\n"]);return wt=function(){return e},e}var Dt=s.default.div(wt(),x.color_main_3),Ct=s.default.div(kt());var jt=function(e){return e.dataAvailable?r.a.createElement(Dt,null,r.a.createElement("h2",null,"Synergistic Inhibition"),r.a.createElement(Ct,null,r.a.createElement(gt,{drugA:!0}),r.a.createElement(gt,{drugA:!1}),r.a.createElement(At,null))):r.a.createElement(Dt,null,r.a.createElement("h2",null,"Synergistic Inhibition"),r.a.createElement(At,null))};n(302);function Ot(){var e=Object(i.a)(["\n    min-height: 450px;\n    padding-bottom: 10px;\n    border-bottom: 2px solid ",";\n    margin-bottom: 10px;\n    display: flex;\n    flex-direction: column; \n"]);return Ot=function(){return e},e}var St=s.default.div(Ot(),x.color_main_3),_t=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={layout:null,loading:!0,displayPlot:!0,dataBar:[]},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.context,n=t.drugsData,a=(t.comboId,t.idSource),r=t.cellData;fetch("/api/combos?drugId1=".concat(n[0].idDrug,"&drugId2=").concat(n[1].idDrug,"&dataset=").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(console.log(t),t.length>1){for(var a=["Bliss","ZIP","HSA","Loewe"],o=[],l=[],i=[],c=function(e){var n=a[e].toLowerCase();o.push(Math.max.apply(Math,Object(O.a)(t.map(function(e){return e[n]})))),l.push(t.map(function(e){return e[n]})),i.push(t.map(function(e){return e.sampleName}))},s=0;s<a.length;s++)c(s);l=l.flat(),i=i.flat(),o=(o=o.map(function(e){return e+Math.abs(Math.min.apply(Math,Object(O.a)(l))-.05)+.05})).fill(Math.max.apply(Math,Object(O.a)(o)));var u=[];a.forEach(function(e){u.push(Array(t.length).fill(e))}),u=u.flat();for(var d=[],m=0;m<i.length;m++)d.push(i[m]+": "+l[m]);var p=[];t.find(function(e,n){if(e.idSample===r.idSample)for(var o=0;o<a.length;o++)p.push(o*t.length+n)});for(var h=p.map(function(e){return l[e]}),f=p.map(function(e){return u[e]}),g=[],b=0;b<a.length;b++)g.push(r.name+": "+h[b]);var y=[{x:o,base:Math.min.apply(Math,Object(O.a)(l))-.05,y:a,type:"bar",orientation:"h",hoverinfo:"skip",marker:{color:"#4c84b1"}},{x:l,y:u,type:"scatter",mode:"markers",orientation:"h",marker:{color:"#efa125",symbol:"line-ns-open",size:37},hoverinfo:"text",hovertext:d},{x:h,y:f,type:"scatter",mode:"markers",orientation:"h",marker:{color:"#e47070",symbol:"diamond-tall",size:37},hoverinfo:"text",hovertext:g}];e.setState({loading:!1,displayPlot:!0,data:y,layout:{height:450,paper_bgcolor:"white",plot_bgcolor:"white",orientation:"h",yaxis:{ticklen:0},xaxis:{title:"Synergy Score (Cell Lines, N=".concat(t.length,")"),zeroline:!1},hovermode:"closest",showlegend:!1,font:{size:16,color:x.nav_links,family:"Raleway"},title:{text:"".concat(n[0].name," * ").concat(n[1].name),size:18}}})}else e.setState({loading:!1,displayPlot:!1})})}},{key:"render",value:function(){var e=this.state,t=e.layout,n=e.loading,a=e.displayPlot,o=e.data;return a?r.a.createElement(St,{className:"cumulative-container"},n?r.a.createElement("div",{className:"loading-container"},r.a.createElement(fe.a,{type:"bubbles",width:150,height:150,color:x.color_main_2})):r.a.createElement($e.a,{data:o,layout:t,graphDiv:"graph",config:{responsive:!0,displayModeBar:!1}})):null}}]),t}(r.a.Component);_t.contextType=et;var Bt=_t;function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Nt(){var e=Object(i.a)(["\n  max-height: 1.5rem;\n  width: auto;\n  display: inline-block;\n  vertical-align:middle;\n}\n"]);return Nt=function(){return e},e}function Mt(){var e=Object(i.a)(["\n  align-self: flex-start;\n  margin: 10px;\n  background:white;\n  padding:0px 30px;\n  width: 100%;\n"]);return Mt=function(){return e},e}function Pt(){var e=Object(i.a)(["\n  min-height: 300px;\n  display: flex;\n  flex-direction: column; \n"]);return Pt=function(){return e},e}function zt(){var e=Object(i.a)(["\n  color:",";\n  p {\n    font-weight: 400;\n    font-size: 1.2rem;\n  }\n"]);return zt=function(){return e},e}var Lt=s.default.div(zt(),x.nav_links),Tt=s.default.div(Pt()),Rt=s.default.div(Mt()),Qt=s.default.img(Nt()),Gt=function(e){return 0===e[0].raw_matrix?e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{raw_matrix:(100-e.raw_matrix)/100})}):e},Ht=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={cellData:null,drugsData:null,sourceData:null,comboId:null,idSource:null,loadingSummary:!0,synergyData:null,loadingSynergyData:!0,isDataAvailable:!1},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=Ue.a.parse(t.search),a=n.idSource,r=n.idDrugA,o=n.idDrugB,l=n.idSample,i=n.comboId;this.setState({comboId:parseInt(i,10),idSource:parseInt(a,10),idSample:parseInt(l,10)}),fetch("/api/cell_lines/info?idSample=".concat(l),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({cellData:t})}),fetch("/api/drugs/info?idDrugA=".concat(r,"&idDrugB=").concat(o),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({drugsData:t})}),fetch("/api/datasets?idSource=".concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({sourceData:t})}),fetch("/api/combos/matrix?comboId=".concat(i,"&idSource=").concat(a)).then(function(e){return e.json()}).then(function(t){var n=Gt(t),a=Object(O.a)(new Set(n.map(function(e){return e.concA}))).sort(function(e,t){return e-t}),r=Object(O.a)(new Set(n.map(function(e){return e.concB}))).sort(function(e,t){return e-t}),o=n.sort(function(e,t){return e.concA>t.concA?1:e.concA===t.concA&&e.concB>t.concB?1:-1}),l=0,i=[];a.forEach(function(e){r.forEach(function(t){o[l]&&o[l].concA===e&&o[l].concB===t?(l+=1,i.push(o[l-1])):i.push({concA:e,concB:t,raw_matrix:null,bliss_matrix:null,hsa_matrix:null,idSource:o[l-1].idSource,loewe_matrix:null,zip_matrix:null})})}),e.setState({synergyData:i,loadingSynergyData:!1,isDataAvailable:!0})})}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.sourceData,n=e.drugsData,a=e.cellData,r=e.loadingSummary;t&&n&&a&&r&&this.setState({loadingSummary:!1})}},{key:"render",value:function(){var e=this.state,t=e.cellData,n=e.drugsData,o=e.sourceData,l=e.loadingSummary,i=e.loadingSynergyData,c=e.isDataAvailable;return r.a.createElement("main",{className:"summary"},r.a.createElement(Rt,null,r.a.createElement(Tt,null,l?null:r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"Drug combination synergy"),r.a.createElement("h2",null,"Combo Summary"),r.a.createElement(Lt,null,r.a.createElement("p",null,"Sample:"," ",r.a.createElement("b",null,t.name?t.name.toUpperCase():null),","," ",t.disease," ",r.a.createElement("a",{className:"hover",href:"https://web.expasy.org/cellosaurus/".concat(t.idCellosaurus),rel:"noopener noreferrer",target:"_blank"}," ",r.a.createElement(Qt,{src:Ye.a,alt:"Cellosaurus"}))),r.a.createElement("p",null,"Drug A:"," ",n.length>0?r.a.createElement("span",null,r.a.createElement("b",null,n[0].name),","," ",n[0].description," ",r.a.createElement("a",{className:"hover",href:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(n[0].idPubChem),rel:"noopener noreferrer",target:"_blank"}," ",r.a.createElement(Qt,{src:We.a,alt:"Pubchem"}))," ",r.a.createElement("a",{className:"hover",href:"https://www.drugbank.ca/drugs/".concat(n[0].idDrugBank),rel:"noopener noreferrer",target:"_blank"},r.a.createElement(Qt,{src:qe.a,alt:"Drug Bank"}))):null),r.a.createElement("p",null,"Drug B:"," ",n.length>0?r.a.createElement("span",null,r.a.createElement("b",null,n[1].name),","," ",n[1].description," ",r.a.createElement("a",{className:"hover",href:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(n[1].idPubChem),rel:"noopener noreferrer",target:"_blank"}," ",r.a.createElement(Qt,{src:We.a,alt:"Pubchem"}))," ",r.a.createElement("a",{className:"hover",href:"https://www.drugbank.ca/drugs/".concat(n[1].idDrugBank),rel:"noopener noreferrer",target:"_blank"},r.a.createElement(Qt,{src:qe.a,alt:"Drug Bank"}))):null),r.a.createElement("p",null,"Source:"," ",r.a.createElement("b",null,o.name)," ",r.a.createElement("a",{className:"hover",href:"https://www.ncbi.nlm.nih.gov/pubmed/".concat(o.pmID),rel:"noopener noreferrer",target:"_blank"}," ",r.a.createElement(Qt,{src:Ze.a,alt:"Pubmed"})))))),l||i?null:c?r.a.createElement(et.Provider,{value:this.state},r.a.createElement(Bt,null),r.a.createElement(dt,null),r.a.createElement(jt,{dataAvailable:c})):r.a.createElement(et.Provider,{value:this.state},r.a.createElement(dt,null),r.a.createElement(jt,{dataAvailable:c}))))}}]),t}(a.Component);function Ut(){var e=Object(i.a)(["\n  width: 100%;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:30px;\n  font-size:18px;\n  color: ",";\n  .query-container {\n    display:flex;\n  }\n  .col {\n    position:inherit;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n  }\n"]);return Ut=function(){return e},e}var Ft=s.default.div(Ut(),x.blue_main),Yt=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={datasetName:"Any",drugName1:"Any",drugName2:"Any",cellLineName:"Any"},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.sample,a=t.drugId1,r=t.drugId2,o=t.dataset;a&&fetch("/api/drugs/".concat(a)).then(function(e){return e.json()}).then(function(t){e.setState({drugName1:t[0].name})}).catch(function(e){console.log(e)}),r&&fetch("/api/drugs/".concat(r)).then(function(e){return e.json()}).then(function(t){e.setState({drugName2:t[0].name})}).catch(function(e){console.log(e)}),o&&fetch("/api/datasets/".concat(o)).then(function(e){return e.json()}).then(function(t){e.setState({datasetName:t[0].name})}).catch(function(e){console.log(e)}),n&&(parseInt(n,10)?fetch("/api/cell_lines/".concat(n)).then(function(e){return e.json()}).then(function(t){e.setState({cellLineName:t[0].name})}).catch(function(e){console.log(e)}):this.setState({cellLineName:n.toUpperCase()}))}},{key:"render",value:function(){var e=this.state,t=e.cellLineName,n=e.datasetName,a=e.drugName1,o=e.drugName2;return r.a.createElement(Ft,null,r.a.createElement("h2",null,"Query"),r.a.createElement("div",{className:"query-container"},r.a.createElement("div",{className:"col"},r.a.createElement("b",null,"Cell Line:")," ",t,r.a.createElement("p",null),r.a.createElement("b",null,"Dataset:")," ",n),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,"Compound A: ")," ",a,r.a.createElement("p",null),r.a.createElement("b",null,"Compound B:")," ",o,r.a.createElement("p",null))))}}]),t}(a.Component);function Kt(){var e=Object(i.a)(["\n\n  width:100%;\n  background:white;\n  padding: 20px 30px;\n  margin-bottom:30px;\n  font-size:18px;\n\n  .buttonsContainer {\n    display: flex;\n    justify-content:space-between;\n  }\n \n  .buttonsContainer a {\n    height:70px;\n    width:250px;\n    background:",";\n    color: white;\n    padding: 15px;\n    font-weight:700;\n    text-align:center;\n  }\n"]);return Kt=function(){return e},e}function qt(){var e=Object(i.a)(["\n  width: 100%;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:30px;\n  .rt-tr-group:hover {\n    background-color: ","\n  }\n"]);return qt=function(){return e},e}var Jt=s.default.div(qt(),x.summary_bg),Wt=s.default.div(Kt(),x.blue_main),Vt=function(e,t){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())},Zt=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={results:[],drugId1:null,drugId2:null,loading:!0,dataset:null,datasetName:"Any",drugName1:"Any",drugName2:"Any",cellLineName:"Any",queryParams:"",disableBiomarker:!1},e.handleCombo=e.handleCombo.bind(Object(f.a)(e)),e.checkBiomarker=e.checkBiomarker.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=Ue.a.parse(t.search),a=n.sample,r=n.drugId1,o=n.drugId2,l=n.dataset,i="?";this.checkBiomarker(l,a),this.setState({drugId1:parseInt(r,10),drugId2:parseInt(o,10),dataset:parseInt(l,10)}),a&&(i=i.concat("&sample=".concat(a))),l&&(i=i.concat("&dataset=".concat(l))),r&&(i=i.concat("&drugId1=".concat(r))),o&&(i=i.concat("&drugId2=".concat(o))),this.setState({queryParams:i}),fetch("/api/combos".concat(i),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({results:t,loading:!1})})}},{key:"checkBiomarker",value:function(e,t){var n,a;e&&(n=parseInt(e,10)),t&&(a=Number.isNaN(parseInt(t,10))?t:parseInt(t,10)),4!==n&&6!==n&&8!==n&&5!==n?"number"===typeof a&&this.setState({disableBiomarker:!0}):this.setState({disableBiomarker:!0})}},{key:"handleCombo",value:function(e){var t=this.props.history,n=this.state.results[e],a=n.idSource,r=n.idDrugA,o=n.idDrugB,l=n.idSample,i=n.comboId;t.push("/drug_combo?idSource=".concat(a,"&idDrugA=").concat(r,"&idDrugB=").concat(o,"&idSample=").concat(l,"&comboId=").concat(i))}},{key:"render",value:function(){var e=this.state,t=e.results,n=e.loading,o=e.queryParams,l=e.disableBiomarker,i=this.props.location,c=Ue.a.parse(i.search),s=c.sample,u=c.drugId1,d=c.drugId2,m=c.dataset,p=this.handleCombo,h=t.length,f=function(e){var t=e.value?e.value>0?e.value.toFixed(4):e.value.toFixed(3):null;return r.a.createElement("div",{className:"score"},t>=.2?r.a.createElement("span",{className:"high-score"},t):r.a.createElement("span",null,t))},g=[{Header:"Tissue",accessor:"tissue",Cell:function(e){return r.a.createElement("span",null,e.value.toUpperCase())}},{Header:"Cell Line",accessor:"sampleName",Cell:function(e){return r.a.createElement("span",null,e.value.toUpperCase())}},{Header:function(){return r.a.createElement("span",null,"Compound"," ",r.a.createElement("em",null,"A"))},accessor:"drugNameA"},{Header:function(){return r.a.createElement("span",null,"Compound"," ",r.a.createElement("em",null,"B"))},accessor:"drugNameB"},{Header:"ZIP",accessor:"zip",Cell:function(e){return f(e)},filterable:!1,sortable:!0},{Header:"Bliss",accessor:"bliss",Cell:function(e){return f(e)},filterable:!1,sortable:!0},{Header:"Loewe",accessor:"loewe",Cell:function(e){return f(e)},filterable:!1,sortable:!0},{Header:"HSA",accessor:"hsa",Cell:function(e){return f(e)},filterable:!1,sortable:!0},{Header:"Source",accessor:"sourceName"}];return r.a.createElement("main",null,r.a.createElement(Yt,{drugId1:u,drugId2:d,dataset:m,sample:s}),r.a.createElement(Wt,null,r.a.createElement("h2",null,"Analysis "),r.a.createElement("div",{className:"buttonsContainer"},l?null:r.a.createElement(a.Fragment,null,r.a.createElement("a",{href:"/biomarker".concat(o)},"Biomarker"," ",r.a.createElement("br",null)," ","Discovery")),r.a.createElement("a",{href:"/sensitivity".concat(o)},"Cell Line"," ",r.a.createElement("br",null),"Sensitivity Analysis"),r.a.createElement("a",{href:"/enrichment".concat(o)},"Tissue-Specific"," ",r.a.createElement("br",null),"Enrichment Analysis"),r.a.createElement("a",{href:"/consistency".concat(o)},"Consistency in"," ",r.a.createElement("br",null),"Synergy Scores"))),r.a.createElement(Jt,null,r.a.createElement("h2",null,"Synergy Scores,"," ",r.a.createElement("i",null,"N")," ","="," ",h),r.a.createElement(pe.a,{loading:n,LoadingComponent:ye,data:t,columns:g,sortable:!1,defaultPageSize:25,filterable:!0,defaultFilterMethod:Vt,className:" -highlight",getTdProps:function(e,t){return{onClick:function(e,n){t&&p(t.index),n&&n()}}}})))}}]),t}(a.Component),Xt=n(44),$t=n.n(Xt),en=n(65),tn=n(108),nn=n.n(tn),an=n(349),rn=n(9);function on(){var e=Object(i.a)(["\nwidth: 50%;\n    min-width: 300px;\n    display: flex\n    justify-content: space-between;\n    height: 450px;\n"]);return on=function(){return e},e}function ln(){var e=Object(i.a)(["\n    height: 450px;\n    width: 100%;\n    display: flex;\n    flex-direction: column; \n"]);return ln=function(){return e},e}var cn=Object(rn.a)({root:{color:x.color_main_2,height:8}})(an.a),sn=s.default.div(ln()),un=s.default.div(on()),dn=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:null,layout:null,customThreshold:null},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.updatePlotData()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectedBiomarker,a=t.selectedScore;n===e.selectedBiomarker&&a===e.selectedScore||this.updatePlotData()}},{key:"updatePlotData",value:function(){var e=this.props,t=e.biomarkerData,n=e.selectedBiomarker,a=e.dimensions,r=e.xRange,o=e.yRange,l=e.selectedScore,i=t.map(function(e){return[e.fpkm,e[l]]}),c=nn.a.linear(i),s=[{x:t.map(function(e){return e.fpkm}),y:t.map(function(e){return e[l]}),name:"Cell line",marker:{color:x.color_main_2,size:7},showlegend:!1,mode:"markers",type:"scatter",hoverinfo:"text",hovertext:t.map(function(e){return"".concat(e.fpkm," (").concat(e.cellName,")")})}],u={x:r,y:[r[0]*c.equation[0]+c.equation[1],r[1]*c.equation[0]+c.equation[1]],mode:"lines",type:"scatter",showlegend:!1,marker:{color:x.color_main_5},hoverinfo:"none"};s.unshift(u);var d={height:450,autosize:!0,title:{text:"".concat(l.toUpperCase()," x ").concat(n),font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:18}},font:{size:16,color:x.nav_links,family:"Raleway"},margin:{l:a.left,r:10,t:a.top,b:a.bottom},hovermode:"closest",xaxis:{title:{text:"FPKM",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,range:r,fixedrange:!0,mirror:!0,font:{size:16,color:x.nav_links,family:"Raleway"},linewidth:3},yaxis:{title:{text:"Synergy Score",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,range:o,fixedrange:!0,mirror:!0,linewidth:3,tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}}};this.setState({data:s,layout:d,customThreshold:null})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.data,o=n.layout,l=n.customThreshold,i=this.props.defaultThreshold,c=this.props,s=c.xRange,u=c.yRange,d=c.updateThreshold,m=null!==l?l:i,p={x:s,y:[m,m],mode:"lines",type:"scatter",showlegend:!1,marker:{color:"black"},hoverinfo:"none"};return a&&(e=[].concat(Object(O.a)(a),[p])),r.a.createElement(un,null,r.a.createElement(sn,null,r.a.createElement($e.a,{data:e,layout:o,graphDiv:"graph",config:{responsive:!0,displayModeBar:!1}})),r.a.createElement("div",{className:"slider"},r.a.createElement(cn,{orientation:"vertical",value:m,min:Math.round(100*u[0])/100,max:Math.round(100*u[1])/100,"aria-labelledby":"vertical-discrete-slider-restrict",step:Math.round((u[1]-u[0])/100*100)/100,valueLabelDisplay:"auto",onChange:function(e,n){return t.setState({customThreshold:n})},onChangeCommitted:function(e,t){return d(e,t)}})))}}]),t}(r.a.Component);function mn(){var e=Object(i.a)(["\n  width: 50%;\n  min-width: 400px\n  height: 450x;\n  padding-right: 34px;\n"]);return mn=function(){return e},e}var pn=s.default.div(mn()),hn=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={boxHigh:null,boxLow:null,layout:{height:450,paper_bgcolor:"white",plot_bgcolor:"white",xaxis:{title:"Groups"},showlegend:!1,font:{size:16,color:x.nav_links,family:"Nunito Sans"}}},n.calculateBoxData=n.calculateBoxData.bind(Object(f.a)(n)),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.calculateBoxData,t=this.props;e(t.data,t.threshold)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,a=t.threshold;a!==e.threshold&&(0,this.calculateBoxData)(n,a)}},{key:"calculateBoxData",value:function(e,t){for(var n=this.props.dimensions,a=[],r=0;r<e.length;r+=1){if(e[r]>=t){a.push(e.slice(0,r)),a.push(e.slice(r,e.length));break}r===e.length-1&&(a.push(e),a.push([]))}this.setState({layout:{height:450,autoresize:!0,showlegend:!1,font:{size:16,color:x.nav_links,family:"Raleway"},margin:{l:n.left,r:10,t:n.top,b:n.bottom},xaxis:{title:{text:"Groups",font:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:16}},color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,fixedrange:!0,mirror:!0,font:{size:16,color:x.nav_links,family:"Raleway"},linewidth:3},yaxis:{color:x.color_main_1,tickcolor:x.color_main_1,linecolor:x.color_main_1,fixedrange:!0,showticklabels:!1,mirror:!0,linewidth:3,tickfont:{family:"Nunito Sans, sans-serif",color:x.color_main_1,size:13}}},boxHigh:{y:a[1],type:"box",name:"High, N=".concat(a[1].length),marker:{color:x.color_main_2}},boxLow:{y:a[0],type:"box",name:"Low, N=".concat(a[0].length),marker:{color:x.color_main_5}}})}},{key:"render",value:function(){var e=this.state,t=e.boxHigh,n=e.boxLow,a=e.layout;return r.a.createElement(pn,null,r.a.createElement($e.a,{data:[t,n],layout:a,graphDiv:"graph",className:"biomarkerPlot",config:{responsive:!0,displayModeBar:!1}}))}}]),t}(r.a.Component);function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bn(){var e=Object(i.a)(["\n  display: flex;\n\n  button {\n    font-size: 1.5em;\n    background: ",";\n    border: 1px solid ",";\n    padding: 10px 20px;\n    margin: 10px 0;\n    color: #ffffff;\n    transition: ",';\n    outline-style: none;\n    vertical-align: middle;\n    -webkit-transform: perspective(1px) translateZ(0);\n    transform: perspective(1px) translateZ(0);\n    box-shadow: 0 0 1px rgba(0, 0, 0, 0);\n    position: relative;\n    -webkit-transition-property: color;\n    transition-property: color;\n    -webkit-transition-duration: 0.3s;\n    transition-duration: 0.3s;\n    flex-grow: 1;\n  \n    &:before {\n      content: "";\n      position: absolute;\n      z-index: -1;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: ',";\n      -webkit-transform: scaleX(0);\n      transform: scaleX(0);\n      -webkit-transform-origin: 0 50%;\n      transform-origin: 0 50%;\n      -webkit-transition-property: transform;\n      transition-property: transform;\n      -webkit-transition-duration: 0.3s;\n      transition-duration: 0.3s;\n      -webkit-transition-timing-function: ease-out;\n      transition-timing-function: ease-out;\n    }\n  \n    &:hover,\n    &:focus,\n    &.active-score {\n      color: white;\n      \n      border: 1px solid ",";\n      cursor:pointer;\n\n      &:before {\n        -webkit-transform: scaleX(1);\n        transform: scaleX(1);\n      }\n    }\n  }\n"]);return bn=function(){return e},e}function yn(){var e=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  div.slider {\n    height: 450px;\n    padding-top: ","px;\n    padding-bottom: ","px\n    padding-right: 8px;\n    padding-left: 2px;\n  }\n"]);return yn=function(){return e},e}function vn(){var e=Object(i.a)(["\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n"]);return vn=function(){return e},e}var xn={left:55,top:30,bottom:55},En=s.default.div(vn()),An=s.default.div(yn(),xn.top,xn.bottom),kn=s.default.div(bn(),x.nav_links,x.nav_links,E,x.button_hover,x.nav_links),wn=function(e){return e?e.length%2!==0?e[(e.length-1)/2]:(e[e.length/2]+e[e.length/2-1])/2:null},Dn=function(e){function t(e){var n;Object(d.a)(this,t);var a=(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).props.location,r=Ue.a.parse(a.search),o=r.sample,l=r.drugId1,i=r.drugId2,c=r.dataset;return n.state={sample:o,drugId1:l,drugId2:i,dataset:c,biomarkerData:null,selectedBiomarker:null,selectedScore:"zip",loadingTable:!0,loadingGraph:!0,xRange:null,yRange:null,defaultThreshold:null,confirmedThreshold:null,zipBiomarkers:null,blissBiomarkers:null,hsaBiomarkers:null,loeweBiomarkers:null,biomarkerGeneStorage:{}},n.handleSelectScore=n.handleSelectScore.bind(Object(f.a)(n)),n.getBiomarkerTableData=n.getBiomarkerTableData.bind(Object(f.a)(n)),n.getPlotData=n.getPlotData.bind(Object(f.a)(n)),n.retrieveGeneData=n.retrieveGeneData.bind(Object(f.a)(n)),n.handleSelectBiomarker=n.handleSelectBiomarker.bind(Object(f.a)(n)),n.updateThreshold=n.updateThreshold.bind(Object(f.a)(n)),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){(0,this.getBiomarkerTableData)(this.state.selectedScore)}},{key:"getBiomarkerTableData",value:function(e){var t=this,n=this.state,a=n.drugId1,r=n.drugId2,o=n.dataset,l="/api/biomarkers/synergy?type=".concat(e);a&&(l=l.concat("&drugId1=".concat(a))),r&&(l=l.concat("&drugId2=".concat(r))),o&&(l=l.concat("&dataset=".concat(o))),fetch(l,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(n){switch(e){case"zip":t.setState({zipBiomarkers:n,loadingTable:!1});break;case"bliss":t.setState({blissBiomarkers:n,loadingTable:!1});break;case"hsa":t.setState({hsaBiomarkers:n,loadingTable:!1});break;case"loewe":t.setState({loeweBiomarkers:n,loadingTable:!1})}t.getPlotData(n[0].gene,e)}).catch(function(e){console.log(e),t.setState({loadingTable:!1})})}},{key:"getPlotData",value:function(){var e=Object(en.a)($t.a.mark(function e(t,n){var a,r,o,l,i,c,s,u,d,m,p,h;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.retrieveGeneData,e.next=4,a(t);case 4:r=e.sent,.05,o=0,l=0,i=0,c=0,r.forEach(function(e){e.fpkm<o&&(o=e.fpkm),e.fpkm>l&&(l=e.fpkm),e[n]<i&&(i=e[n]),e[n]>c&&(c=e[n])}),u=(s=l-o)?[o-.05*s,l+.05*s]:[-1,1],m=[i-.05*(d=c-i),c+.05*d],(p=r.map(function(e){return e[n]})).sort(function(e,t){return e-t}),h=wn(p),this.setState({selectedBiomarker:t,selectedScore:n,loadingGraph:!1,biomarkerData:r,xRange:u,yRange:m,defaultThreshold:h,synScoreArray:p,confirmedThreshold:null}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),this.setState({loadingGraph:!1});case 25:case"end":return e.stop()}},e,this,[[0,21]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"retrieveGeneData",value:function(){var e=Object(en.a)($t.a.mark(function e(t){var n,a,r,o,l,i,c,s,u;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,a=n.sample,r=n.drugId1,o=n.drugId2,l=n.dataset,i=n.biomarkerGeneStorage,c=n.selectedScore,!i[c]||!i[c][t]){e.next=3;break}return e.abrupt("return",i[c][t]);case 3:return e.prev=3,this.setState({loadingGraph:!0}),s="?",a&&(s=s.concat("&sample=".concat(a))),l&&(s=s.concat("&dataset=".concat(l))),r&&(s=s.concat("&drugId1=".concat(r))),o&&(s=s.concat("&drugId2=".concat(o))),e.next=12,fetch("/api/biomarkers/association".concat(s).concat("&gene=".concat(t)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){u=e});case 12:return this.setState({biomarkerGeneStorage:gn({},i,Object(S.a)({},c,gn({},i[c],Object(S.a)({},t,u))))}),e.abrupt("return",u);case 16:return e.prev=16,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}},e,this,[[3,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectScore",value:function(e){var t=this.getBiomarkerTableData,n=this.getPlotData,a=this.state,r=a.zipBiomarkers,o=a.blissBiomarkers,l=a.loeweBiomarkers,i=a.hsaBiomarkers;"zip"===e&&r?n(r[0].gene,e):"bliss"===e&&o?n(o[0].gene,e):"loewe"===e&&l?n(l[0].gene,e):"hsa"===e&&i?n(i[0].gene,e):(this.setState({loadingTable:!0,loadingGraph:!0,selectedScore:e}),t(e))}},{key:"handleSelectBiomarker",value:function(e){var t=this.getPlotData,n=this.state.selectedScore;t(e.gene,n)}},{key:"updateThreshold",value:function(e,t){this.setState({confirmedThreshold:t})}},{key:"render",value:function(){var e=this.handleSelectScore,t=this.handleSelectBiomarker,n=this.updateThreshold,a=this.state,o=a.loadingTable,l=a.biomarkerData,i=a.selectedBiomarker,c=a.xRange,s=a.yRange,u=a.defaultThreshold,d=a.confirmedThreshold,m=a.synScoreArray,p=a.selectedScore,h=a.zipBiomarkers,f=a.blissBiomarkers,g=a.hsaBiomarkers,b=a.loeweBiomarkers,y=a.loadingGraph,v=a.sample,E=a.drugId1,A=a.drugId2,k=a.dataset,w=[{Header:"Gene Symbol",accessor:"gene"},{Header:"Compound A",accessor:"drugA"},{Header:"Compound B",accessor:"drugB"},{Header:"Dataset",accessor:"dataset"},{Header:"P-value (".concat(p,")"),accessor:"pValue",filterable:!1},{Header:"C-index (".concat(p,")"),accessor:"concordanceIndex",filterable:!1}],D=[];switch(p){case"zip":D=h;break;case"bliss":D=f;break;case"loewe":D=b;break;case"hsa":D=g}return r.a.createElement("main",null,r.a.createElement(Yt,{drugId1:E,drugId2:A,dataset:k,sample:v}),r.a.createElement(En,null,r.a.createElement(kn,null,r.a.createElement("button",{type:"button",onClick:function(){return e("zip")},className:"zip"===p?"active-score":null},"ZIP"),r.a.createElement("button",{type:"button",onClick:function(){return e("bliss")},className:"bliss"===p?"active-score":null},"Bliss"),r.a.createElement("button",{type:"button",onClick:function(){return e("loewe")},className:"loewe"===p?"active-score":null},"Loewe"),r.a.createElement("button",{type:"button",onClick:function(){return e("hsa")},className:"hsa"===p?"active-score":null},"HSA")),r.a.createElement(pe.a,{loading:o,LoadingComponent:ye,data:D||[],columns:w,className:"-highlight",defaultPageSize:10,filterable:!0,defaultFilterMethod:function(e,t){return String(t[e.id].toLowerCase()).startsWith(e.value.toLowerCase())},getTdProps:function(e,n){return{onClick:function(e,a){t(n.original),a&&a()},style:{background:n&&n.original.gene===i?x.button_hover:"transparent"}}}}),y?r.a.createElement("div",{className:"loading-container"},r.a.createElement(fe.a,{type:"bubbles",width:150,height:150,color:x.color_main_2})):r.a.createElement(An,null,r.a.createElement(dn,{biomarkerData:l,selectedBiomarker:i,dimensions:xn,xRange:c,yRange:s,defaultThreshold:u,updateThreshold:n,selectedScore:p}),r.a.createElement(hn,{threshold:null!==d?d:u,data:m,dimensions:xn}))))}}]),t}(a.Component),Cn=n(178),jn=n.n(Cn);function On(){var e=Object(i.a)(["\n  body {\n    font-family: 'Raleway', sans-serif;\n  }\n  * {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  }  \n  html {\n    box-sizing: border-box;\n    line-height: 1.15;\n  }\n  ul {\n    padding: 0;\n    list-style: none;\n  }\n  li {\n    text-decoration: none;\n  }\n  a {\n    text-decoration: none;\n    color: black;\n    font-family: 'Raleway', sans-serif;\n\n    &:hover {\n      cursor: pointer !important;\n    }\n  }\n  img {\n    width: 100%;\n    max-width: 100%;\n    display: block;\n  }\n  h1 {\n    margin: 3rem 0; \n    font-size: 2em;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4 {\n    font-family: 'Raleway', sans-serif;\n    color:",";\n  }\n  main {\n    width: 100%;\n    margin-top:150px;\n  }\n  table {\n    max-width: 100%;\n    width: 100%;\n    table-layout: fixed;\n    text-align: left;\n    border-spacing: 0;\n    margin: 20px 0;\n    \n\n    th,\n    td {\n      overflow: hidden;\n      margin: 0;\n      padding: 5px;\n      color:",";\n      border-bottom: 2px solid ","\n    }\n\n    th:nth-child(3),\n    th:nth-child(4) {\n      max-width: calc(50% - 200px);\n    }\n    \n    td:nth-child(3),\n    td:nth-child(4) {\n      max-width: 100px;\n    }\n  }\n  p,\n  button {\n    font-family: 'Raleway', sans-serif;\n    font-weight:700;\n  }\n  \n  .landing {\n    height:100%;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  main.summary {\n    padding-bottom:30px;\n  }\n\n  .main-wrapper {\n    width: 100%;\n    overflow-x:hidden;\n  }\n  .app,\n  .js-plotly-plot {\n    width: 100%;\n  }\n\n  .grid-container {\n    width: 100%;  \n    display: grid;\n    height: auto;\n\n    span {\n      padding: 8px 4px;\n      overflow: hidden;\n    }\n  }\n\n  .table-header {\n    font-weight: bold;\n    border-bottom: 5px double black;\n  }\n  .score {\n    width: 100%;\n    text-align: right;\n    padding-right: 5px;\n  }\n  .high-score {\n    font-weight: bold;\n  }\n  .hover {\n    color: ","\n    transition: ",";\n\n    &:hover {\n      color: ","\n    }\n  }\n  .react-select__option--is-focused:not(.react-select__option--is-selected) {\n    background-color: ",";\n  }\n\n  .ReactTable {\n    width: 100%;\n    text-align: left;\n    margin: 10px 0;\n    color:",";\n    font-family: Nunito Sans, sans-serif;\n\n    .rt-thead.-header,\n    .raw-names,\n    .header-name {\n      box-shadow:none !important;\n      font-weight: 700;\n      font-size: 18px;\n    }\n\n    .rt-thead.-header {\n      border-bottom: 1px solid rgba(0,0,0,0.1);\n    }\n    \n\n    .pagination-bottom {\n      box-shadow:none !important;\n    }\n    .-pagination {\n      box-shadow:none !important;\n      border-top:1px solid rgba(0,0,0,0.1) !important;\n    }\n\n    .-previous, .-next, .-btn   {\n      background: ",";\n      color:white !important;\n    }\n\n    \n    input {\n      background: "," !important;\n    }\n  }\n  .wrapper {\n    color:",";\n    background:white;\n    padding-bottom:20px;\n    margin-bottom:30px;\n  }\n\n  .footer-wrapper {\n    color:",";\n    background:none !important;\n  }\n  \n  .biomarkerPlot {\n    margin-bottom:20px;\n  }\n  \n  .plot {\n    font-family: Nunito Sans, sans-serif;\n  }\n\n  .loading-container {\n    align-item: center;\n    margin: auto;\n    width: 100px;\n  }\n\n  .app {\n    display:flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .popup-content {\n    max-width: 400px;\n  }\n  \n  #cellMiniPlot, #dsetMiniPlot {\n    display:flex;\n    justify-content: space-around;\n  }\n\n  #root {\n    width: 100vw;\n    display: flex;\n    background: ",";\n    background: linear-gradient(\n      to right top,\n      rgba(255, 255, 255, 0.3), \n      rgba(255, 255, 255, 0.3)\n    ),url('","');\n    background-size: cover;\n    background-attachment: fixed;\n    background-position: center;\n    flex-wrap: wrap;\n    display: flex;\n    z-index: 0\n\n    .main-wrapper {\n      overflow-x:hidden;\n    }\n\n  }\n"]);return On=function(){return e},e}var Sn=Object(s.createGlobalStyle)(On(),x.nav_links,x.nav_links,x.color_main_1,x.color_main_1,E,x.color_main_4,x.trans_color_main_5,x.nav_links,x.pagination,x.summary_bg,x.nav_links,x.blue_main,x.summary_bg,jn.a);function _n(){var e=Object(i.a)(["\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n"]);return _n=function(){return e},e}var Bn=s.default.div(_n()),In=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={results:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.location,t=Ue.a.parse(e.search),n=t.sample,a=t.drugId1,o=t.drugId2,l=t.dataset;return r.a.createElement("main",null,r.a.createElement(Yt,{drugId1:a,drugId2:o,dataset:l,sample:n}),r.a.createElement(Bn,null,r.a.createElement("h2",null,"Sensetivity Component")))}}]),t}(a.Component);function Nn(){var e=Object(i.a)(["\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n"]);return Nn=function(){return e},e}var Mn=s.default.div(Nn()),Pn=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={results:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.location,t=Ue.a.parse(e.search),n=t.sample,a=t.drugId1,o=t.drugId2,l=t.dataset;return r.a.createElement("main",null,r.a.createElement(Yt,{drugId1:a,drugId2:o,dataset:l,sample:n}),r.a.createElement(Mn,null,r.a.createElement("h2",null,"Enrichment Component")))}}]),t}(a.Component),zn=n(139),Ln=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={cindex:0},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.plotId,n=e.data;this.plotConsistency(n,t)}},{key:"plotConsistency",value:function(e,t){var n=this,a=["ZIP","Bliss","Loewe","HSA"],r="Bliss",o="ZIP",l=ve.o("#".concat(t)).append("select").attr("class","selectX").on("change",function(){r=l.property("value"),ve.o("#scatter").remove(),n.plotScatter(r.toLowerCase(),o.toLowerCase(),700,400,e,t)});l.selectAll("option").data(a).enter().append("option").property("selected",function(e){if(e==r)return e}).attr("value",function(e){return e}).text(function(e){return e});var i=ve.o("#".concat(t)).append("select").attr("class","selectY").on("change",function(){o=i.property("value"),ve.o("#scatter").remove(),n.plotScatter(r.toLowerCase(),o.toLowerCase(),700,400,e,t)});i.selectAll("option").data(a).enter().append("option").property("selected",function(e){if(e==o)return e}).attr("value",function(e){return e}).text(function(e){return e}),this.plotScatter(r.toLowerCase(),o.toLowerCase(),700,400,e,t)}},{key:"findCIndex",value:function(){var e=Object(en.a)($t.a.mark(function e(t,n){var a,r;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://52.138.39.182/ocpu/library/wCI/R/paired.concordance.index/json",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({prediction:t,observation:n,CPP:!1})});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r.cindex[0]);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"findPearson",value:function(e,t){var n=Math.min,a=Math.pow,r=Math.sqrt,o=function(e,t){return e+t},l=n(e.length,t.length);if(0===l)return 0;var i=[e.slice(0,l),t.slice(0,l)],c=[e=i[0],t=i[1]].map(function(e){return e.reduce(o)}),s=Object(zn.a)(c,2),u=s[0],d=s[1],m=[e,t].map(function(e){return e.reduce(function(e,t){return e+a(t,2)},0)}),p=Object(zn.a)(m,2),h=p[0],f=p[1],g=e.map(function(e,n){return e*t[n]}).reduce(o),b=r((h-a(u,2)/l)*(f-a(d,2)/l));return 0===b?0:(g-u*d/l)/b}},{key:"findSpearman",value:function(e,t,n){for(var a=e[t].length,r=[],o=0,l=0;l<a;l++)r.push([e[t][l],e[n][l]]);r.sort(function(e,t){return e[0]-t[0]});for(l=0;l<a;l++)r[l].push(l+1);r.sort(function(e,t){return e[1]-t[1]});for(l=0;l<a;l++)r[l].push(l+1);for(l=0;l<a;l++)o+=Math.pow(r[l][2]-r[l][3],2);return 1-6*o/(a*(a*a-1))}},{key:"plotScatter",value:function(){var e=Object(en.a)($t.a.mark(function e(t,n,a,r,o,l){var i,c,s,u,d,m,p,h,f,g,b,y,v,E,A,k,w,D,C,j;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={top:50,right:170,bottom:90,left:180},c=ve.o("#".concat(l)).append("svg").attr("fill","white").attr("id","scatter").attr("width",a+i.left+i.right).attr("height",r+i.top+i.bottom).append("g").attr("transform","translate(".concat(130,",",i.top,")")),s=ve.m().domain(ve.f(o,function(e){return e[t]})).range([0,a]),u=ve.m().domain(ve.f(o,function(e){return e[n]})).range([r,0]),d=ve.b().scale(s).tickPadding(2),m=ve.c().scale(u).tickSize(5),c.append("g").attr("class","y axis").attr("fill","none").attr("stroke","black").attr("stroke-width",1).call(m).selectAll("text").attr("fill","black").style("font-size",15).attr("stroke","none"),c.selectAll(".tick").select("text").attr("fill","black").attr("stroke","none"),c.append("g").attr("class","x axis").attr("transform","translate(0,".concat(r,")")).attr("fill","none").attr("stroke","black").attr("stroke-width",1).call(d).selectAll("text").attr("fill","black").style("font-size",14).attr("stroke","none"),c.append("text").attr("fill","black").attr("dy",r/2-10).attr("dx",-110).text("Y Axis:"),c.append("text").attr("fill","black").attr("dy",r+68).attr("dx",a/2-80).text("X Axis:"),c.selectAll("dot").data(o).enter().append("circle").attr("id","dot").attr("r","3px").attr("fill","".concat(x.blue_main)).attr("cx",function(e,n){return s(e[t])}).attr("cy",function(e,t){return u(e[n])}).style("opacity",1).on("mouseover",function(e,t){ve.o("".concat(".dot-name").concat(t)).transition().duration(300).style("opacity","1"),ve.o(this).style("cursor","pointer")}).on("mouseout",function(e,t){ve.o("".concat(".dot-name").concat(t)).transition().duration(300).style("opacity","0"),ve.o(this).style("cursor","default")}),c.append("g").selectAll("text").data(o).enter().append("text").attr("class",function(e,t){return"dot-name".concat(t)}).attr("dx",a+5).attr("dy",r/2).attr("font-size","17px").style("opacity","0").attr("fill","black").text(function(e){return e.sampleName}),p=o.map(function(e){return[e[t],e[n]]}),h=nn.a.linear(p),f=h.equation[0],g=h.equation[1],b=o.map(function(e){return e[t]}),y=ve.j(b),v=ve.i(b),E=f*y+g,A=f*v+g,c.append("line").attr("x1",s(y)).attr("x2",s(v)).attr("y1",u(E)).attr("y2",u(A)).attr("stroke-width",2).attr("stroke","#eea228"),k=b,w=o.map(function(e){return e[n]}),e.next=29,this.findCIndex(k,w);case 29:D=e.sent,C=this.findPearson(k,w),j=this.findSpearman([k,w],0,1),c.append("text").attr("dx",a+5).attr("dy",r/3-20).attr("font-size","17px").style("opacity","1").attr("fill","black").text(function(e){return"Concordance index: ".concat(ve.g(".4f")(D))}),c.append("text").attr("dx",a+5).attr("dy",r/3+20).attr("font-size","17px").style("opacity","1").attr("fill","black").text(function(e){return"Spearman rho: ".concat(ve.g(".4f")(j))}),c.append("text").attr("dx",a+5).attr("dy",r/3).attr("font-size","17px").style("opacity","1").attr("fill","black").text(function(e){return"Pearson r: ".concat(ve.g(".4f")(C))});case 35:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,o,l){return e.apply(this,arguments)}}()},{key:"render",value:function(){this.props.data;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{id:this.props.plotId,className:"plot"}))}}]),t}(r.a.Component);function Tn(){var e=Object(i.a)(["\n\n  .consistencyContainer {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  text-align: left;\n  background:white;\n  padding:10px 30px;\n\n  select {\n    position:absolute;\n  }\n\n  .selectX {\n    margin-left: 460px;\n    margin-top: 500px;\n    \n  }\n\n  .selectY {\n    margin-left: 0px;\n    margin-top: 250px;\n  }\n\n  h2 {\n    text-align:left;\n  }\n"]);return Tn=function(){return e},e}var Rn=s.default.div(Tn()),Qn=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={results:[]},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,n=Ue.a.parse(t.search),a=n.sample,r=n.drugId1,o=n.drugId2,l=n.dataset,i="?drugId1=".concat(r);a&&(i=i.concat("&sample=".concat(a))),l&&(i=i.concat("&dataset=".concat(l))),o&&(i=i.concat("&drugId2=".concat(o))),fetch("/api/combos".concat(i),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.setState({results:t})})}},{key:"render",value:function(){var e=this.state.results,t=this.props.location,n=Ue.a.parse(t.search),o=n.sample,l=n.drugId1,i=n.drugId2,c=n.dataset;return r.a.createElement("main",null,r.a.createElement(a.Fragment,null,r.a.createElement(Yt,{drugId1:l,drugId2:i,dataset:c,sample:o}),0===e.length?null:r.a.createElement(Rn,{className:"wrapper"},r.a.createElement("h2",null,"Consistency in Synergy Scores,"," ",r.a.createElement("i",null,"N")," ","="," ",e.length),r.a.createElement("div",{className:"consistencyContainer"},r.a.createElement(Ln,{plotId:"consistencyPlot",data:e})))))}}]),t}(a.Component),Gn=n(347),Hn=n(344),Un=n(348),Fn=n(350),Yn=n(345),Kn=n(346),qn=n(309),Jn=n(70),Wn=n(84),Vn=n.n(Wn);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach(function(t){Object(S.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $n(){var e=Object(i.a)(["\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n\n  h3 {\n    color:","\n  }\n  .list-container {\n    height: 300px;\n    min-width: 300px;\n    padding-bottom: 10px;\n    // border-bottom: 2px solid ",";\n    // border-top: 2px solid ",";\n  }\n  \n  .selector {\n    width: 100%\n    padding: 20px 0 20px;\n    display: flex;\n    justify-content: space-between;\n    border-top: 2px solid ",";\n\n    &.datatype-container {\n      justify-content: space-between;\n    }\n    & > div {\n      min-height: 1px;\n      width: 30%;\n    }\n    &:nth-of-type(1) > div {\n      padding: 20px;\n      width: 50%;\n      &:nth-of-type(1) {\n        border-right: 2px solid ",";\n      }\n    }\n\n    &:nth-of-type(2) > div {\n      border-right: 2px solid ",";\n      padding-right: 30px;\n      &:nth-of-type(3) {\n        border-right: none;\n      }\n    }\n\n    &:nth-of-type(1) {\n      border-top: none;\n    }\n  }\n  .syn-score {\n    display: flex;\n    justify-content: space-between;\n    h3 {\n      padding-right: 50px;\n    }\n  }\n  \n  textarea {\n    color: ",";\n  }\n"]);return $n=function(){return e},e}var ea=s.default.div($n(),x.color_main_2,x.color_main_3,x.color_main_3,x.color_main_3,x.color_main_3,x.color_main_3,x.color_main_5),ta=Object(rn.a)({root:{color:x.color_main_2,height:40,"margin-left":10,"&$checked":{color:x.color_main_5}},checked:{}})(function(e){return r.a.createElement(Gn.a,e)}),na=Object(rn.a)({root:{"& .MuiFormControlLabel-label":{color:x.color_main_2,overflow:"hidden",background:"white",padding:"10px 0"}}})(function(e){return r.a.createElement(Un.a,Object.assign({color:"default"},e))}),aa=Object(rn.a)({root:{color:x.color_main_2,height:40,"margin-left":10,"&$checked":{color:x.color_main_5}},checked:{}})(function(e){return r.a.createElement(Kn.a,Object.assign({color:"default"},e))}),ra=Object(rn.a)({root:{marginTop:0,"& label":{color:x.color_main_3},"& label.Mui-focused":{color:x.trans_color_main_3},"& textarea::placeholder":{color:"black"},"& .MuiInput-underline:after":{borderBottom:"2px solid ".concat(x.color_main_5)},"& .MuiInput-underline:before":{borderBottom:"2px solid ".concat(x.color_main_3)},"& .MuiInput-underline:hover:before":{borderBottom:"2px solid ".concat(x.color_main_2)},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"red"},"&:hover fieldset":{borderColor:"yellow"},"&.Mui-focused fieldset":{borderColor:"green"}}}})(Yn.a),oa=new Jn.CellMeasurerCache({defaultHeight:50,fixedWidth:!0}),la=new Jn.CellMeasurerCache({defaultHeight:50,fixedWidth:!0}),ia=new Jn.CellMeasurerCache({defaultHeight:50,fixedWidth:!0}),ca=new Jn.CellMeasurerCache({defaultHeight:50,fixedWidth:!0}),sa=new Jn.CellMeasurerCache({defaultHeight:50,fixedWidth:!0}),ua=function(e){var t=e.key,n=e.index,a=e.parent,o=e.style,l=e.cache,i=e.data;return r.a.createElement(Jn.CellMeasurer,{key:t,cache:l,parent:a,columnIndex:0,overscanRowCount:10,rowIndex:n},r.a.createElement(na,{style:o,key:t,control:r.a.createElement(ta,null),value:i[n].value.toString(),label:i[n].label}))},da=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={drugsData:[],dataType:"metabolomic",scoreValue:"zip",selectedDrug1:"null",selectedDrug2:"null",selectedMolecule:"null",selectedGene:"null",moleculeData:[],geneData:[],sampleData:[],filteredDrugsData1:null,filteredDrugsData2:null,tissueObj:{}},e.profileChange=e.profileChange.bind(Object(f.a)(e)),e.scoreChange=e.scoreChange.bind(Object(f.a)(e)),e.sampleChange=e.sampleChange.bind(Object(f.a)(e)),e.moleculeChange=e.moleculeChange.bind(Object(f.a)(e)),e.geneChange=e.geneChange.bind(Object(f.a)(e)),e.getInitialData=e.getInitialData.bind(Object(f.a)(e)),e.handleDrug1Search=e.handleDrug1Search.bind(Object(f.a)(e)),e.handleDrug2Search=e.handleDrug2Search.bind(Object(f.a)(e)),e.renderBiomarkerList=e.renderBiomarkerList.bind(Object(f.a)(e)),e.updateSampleData=e.updateSampleData.bind(Object(f.a)(e)),e.updateGeneData=e.updateGeneData.bind(Object(f.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData()}},{key:"getInitialData",value:function(){var e=Object(en.a)($t.a.mark(function e(){var t,n,a,r;return $t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.updateSampleData,n=this.state.dataType,t(n),e.next=5,fetch("/api/drugs").then(function(e){return e.json()}).then(function(e){a=e.map(function(e){return{value:e.idDrug,label:e.name}})});case 5:return e.next=7,fetch("/api/pharmacogenomics/molecules").then(function(e){return e.json()}).then(function(e){r=e.map(function(e){return{value:e,label:e}})});case 7:this.setState({drugsData:a,moleculeData:r});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateSampleData",value:function(e){var t=this;fetch("/api/pharmacogenomics/samples?datatype=".concat(e)).then(function(e){return e.json()}).then(function(n){var a=n.map(function(e){return{value:e.idSample,label:e.name,checked:!0}}),r={};n.forEach(function(e){r[e.tissue]?r[e.tissue].push(e.idSample):r[e.tissue]=[e.idSample]});var o=Object.entries(r).map(function(e){return{value:e[0],label:"".concat(e[0].toUpperCase()," (").concat(e[1].length," cell line").concat(e[1].length>1?"s":null,")"),checked:!0}}),l=[].concat(Object(O.a)(o),Object(O.a)(a));t.setState({sampleData:l,tissueObj:r,dataType:e})}).catch(function(n){console.log(n),t.setState({dataType:e})})}},{key:"updateGeneData",value:function(e){var t=this;fetch("/api/pharmacogenomics/genes?datatype=".concat(e)).then(function(e){return e.json()}).then(function(e){var n=e.map(function(e){return{value:e.gene_id?e.gene_id:e.gene,label:e.gene}});t.setState({geneData:n})})}},{key:"profileChange",value:function(e){var t=this.updateSampleData,n=this.updateGeneData,a=e.target.value;t(a),"rnaseq"!==a&&"mutation"!==a&&"cna"!==a||n(a)}},{key:"scoreChange",value:function(e){this.setState({scoreValue:e.target.value})}},{key:"moleculeChange",value:function(e){this.setState({selectedMolecule:e.target.value})}},{key:"geneChange",value:function(e){this.setState({selectedGene:e.target.value})}},{key:"sampleChange",value:function(e){var t=this.state.sampleData,n=[].concat(Object(O.a)(t.slice(0,e)),[Xn({},t[e],{checked:!t[e].checked})],Object(O.a)(t.slice(e+1)));this.setState({sampleData:n})}},{key:"handleDrug1Search",value:function(e){this.setState({selectedDrug1:e.target.value})}},{key:"handleDrug2Search",value:function(e){this.setState({selectedDrug2:e.target.value})}},{key:"renderBiomarkerList",value:function(){var e=this.state,t=e.dataType,n=e.moleculeData,a=e.geneData,o=e.selectedMolecule,l=e.selectedGene,i=this.moleculeChange,c=this.geneChange;return"metabolomic"===t&&n.length>0?r.a.createElement("div",{className:"molecule-container"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select biological molecule"),r.a.createElement(Hn.a,{"aria-label":"molecule",name:"molecule",value:o,onChange:i},r.a.createElement(ra,{id:"standard-textarea",label:"Search by biological molecule name",placeholder:"Enter biological molecule",multiline:!0,margin:"normal"}),r.a.createElement("div",{className:"list-container"},r.a.createElement(Vn.a,null,function(e){var t=e.width,a=e.height;return r.a.createElement(R.a,{width:t,height:a,rowCount:n.length,deferredMeasurementCache:ia,rowHeight:ia.rowHeight,rowRenderer:function(e){var t=e.key,a=e.index,r=e.parent,o=e.style;return ua({key:t,index:a,parent:r,style:o,cache:ia,data:n})}})}))))):"metabolomic"!==t&&a.length>0?r.a.createElement("div",{className:"genes-container"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select gene"),r.a.createElement(Hn.a,{"aria-label":"gene",name:"gene",value:l,onChange:c},r.a.createElement(ra,{id:"standard-textarea",label:"Search by gene name",placeholder:"Enter gene",multiline:!0,margin:"normal"}),r.a.createElement("div",{className:"list-container"},r.a.createElement(Vn.a,null,function(e){var t=e.width,n=e.height;return r.a.createElement(R.a,{width:t,height:n,rowCount:a.length,deferredMeasurementCache:sa,rowHeight:sa.rowHeight,rowRenderer:function(e){var t=e.key,n=e.index,r=e.parent,o=e.style;return ua({key:t,index:n,parent:r,style:o,cache:sa,data:a})}})}))))):null}},{key:"render",value:function(){var e=this.profileChange,t=this.scoreChange,n=this.sampleChange,a=this.handleDrug1Search,o=this.handleDrug2Search,l=this.renderBiomarkerList,i=this.state,c=i.dataType,s=i.drugsData,u=i.selectedDrug1,d=i.sampleData,m=(i.filteredDrugsData1,i.filteredDrugsData2,i.selectedDrug2),p=i.scoreValue;return r.a.createElement("main",null,r.a.createElement(ea,null,r.a.createElement("h2",null,"Biomarker discovery in Pharmacogenomics"),r.a.createElement("div",{className:"datatype-container selector"},r.a.createElement("div",null,r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select datatype"),r.a.createElement("div",{style:{marginTop:"37px"}},r.a.createElement(Hn.a,{"aria-label":"datatype",name:"datatype",value:c,onChange:e},r.a.createElement(na,{value:"metabolomic",control:r.a.createElement(ta,null),label:"metabolomic"}),r.a.createElement(na,{value:"rnaseq",control:r.a.createElement(ta,null),label:"molecular: expression, RNA-seq"}),r.a.createElement(na,{value:"mutation",control:r.a.createElement(ta,null),label:"molecular: mutation"}),r.a.createElement(na,{value:"cna",control:r.a.createElement(ta,null),label:"molecular: copy number"}))))),l()),r.a.createElement("div",{className:"selector"},d.length>0?r.a.createElement("div",{className:"samples-container"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select samples"),r.a.createElement(qn.a,null,r.a.createElement(ra,{id:"standard-textarea",label:"Search by cell line/tissue",placeholder:"Enter name",multiline:!0,margin:"normal"}),r.a.createElement("div",{className:"list-container"},r.a.createElement(Vn.a,null,function(e){var t=e.width,a=e.height;return r.a.createElement(R.a,{width:t,height:a,rowCount:d.length,deferredMeasurementCache:ca,rowHeight:ca.rowHeight,rowRenderer:function(e){return function(e){var t=e.key,n=e.index,a=e.style,o=e.data,l=e.cache,i=e.parent,c=e.sampleChange;return r.a.createElement(Jn.CellMeasurer,{key:t,cache:l,parent:i,columnIndex:0,overscanRowCount:10,rowIndex:n},r.a.createElement(na,{style:a,control:r.a.createElement(aa,{checked:o[n].checked,onChange:function(){return c(n)},value:o[n].value.toString()}),label:o[n].label}))}({key:e.key,index:e.index,parent:e.parent,style:e.style,data:d,cache:ca,sampleChange:n})}})}))))):null,s.length>0?r.a.createElement("div",{className:"drug-container"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select compound A"),r.a.createElement(Hn.a,{"aria-label":"drugA",name:"drugA",value:u,onChange:a},r.a.createElement(ra,{id:"standard-textarea",label:"Search by compound name",placeholder:"Enter compound A",multiline:!0,margin:"normal"}),r.a.createElement("div",{className:"list-container"},r.a.createElement(Vn.a,null,function(e){var t=e.width,n=e.height;return r.a.createElement(R.a,{width:t,height:n,rowCount:s.length,deferredMeasurementCache:oa,rowHeight:oa.rowHeight,rowRenderer:function(e){var t=e.key,n=e.index,a=e.parent,r=e.style;return ua({key:t,index:n,parent:a,style:r,cache:oa,data:s})}})}))))):null,s.length>0?r.a.createElement("div",{className:"drug-container"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement("h3",null,"Select compound B"),r.a.createElement(Hn.a,{"aria-label":"drugB",name:"drugB",value:m,onChange:o},r.a.createElement(ra,{id:"standard-textarea",label:"Search by compound name",placeholder:"Enter compound B",multiline:!0,margin:"normal"}),r.a.createElement("div",{className:"list-container"},r.a.createElement(Vn.a,null,function(e){var t=e.width,n=e.height;return r.a.createElement(R.a,{width:t,height:n,rowCount:s.length,deferredMeasurementCache:la,rowHeight:la.rowHeight,rowRenderer:function(e){var t=e.key,n=e.index,a=e.parent,r=e.style;return ua({key:t,index:n,parent:a,style:r,cache:la,data:s})}})}))))):null),r.a.createElement("div",{className:"synscore-container selector"},r.a.createElement(Fn.a,{component:"fieldset"},r.a.createElement(Hn.a,{"aria-label":"synscore",name:"synscore",value:p,onChange:t},r.a.createElement("div",{className:"syn-score"},r.a.createElement("h3",null,"Select synergy score method"),r.a.createElement(na,{value:"zip",control:r.a.createElement(ta,null),label:"ZIP"}),r.a.createElement(na,{value:"bliss",control:r.a.createElement(ta,null),label:"Bliss"}),r.a.createElement(na,{value:"loewe",control:r.a.createElement(ta,null),label:"Loewe"}),r.a.createElement(na,{value:"hsa",control:r.a.createElement(ta,null),label:"HSA"})))))))}}]),t}(a.Component);function ma(){var e=Object(i.a)(["\n  margin: 0 auto;\n  // padding: 12.5vh 0 25px;\n  min-height:100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  flex-grow: 1;\n  min-width: 300px;\n  max-width: 1200px;\n  overflow-x:hidden;\n  order:2;\n  z-index:1;\n"]);return ma=function(){return e},e}var pa=s.default.div(ma()),ha=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(u.Normalize,null),r.a.createElement(Sn,null),r.a.createElement("div",{className:"main-wrapper"},r.a.createElement(pa,{className:"app"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:me}),r.a.createElement(c.a,{exact:!0,path:"/cell-lines/",component:De}),r.a.createElement(c.a,{exact:!0,path:"/drugs/",component:Te}),r.a.createElement(c.a,{exact:!0,path:"/datasets/",component:Ie}),r.a.createElement(c.a,{exact:!0,path:"/documentation/",component:Ge}),r.a.createElement(c.a,{exact:!0,path:"/pharmacogenomics/",component:da}),r.a.createElement(c.a,{path:"/drug_combo",component:Ht}),r.a.createElement(c.a,{path:"/synergy_score",component:Zt}),r.a.createElement(c.a,{path:"/biomarker",component:Dn}),r.a.createElement(c.a,{path:"/sensitivity",component:In}),r.a.createElement(c.a,{path:"/enrichment",component:Pn}),r.a.createElement(c.a,{path:"/consistency",component:Qn})))),r.a.createElement(j,null))};Object(o.render)(r.a.createElement(l.a,null,r.a.createElement(ha,null)),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.110a881f.chunk.js.map