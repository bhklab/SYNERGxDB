{"version":3,"sources":["images/logo-2.png","images/logos/drugbank.png","images/logos/pubchem.gif","images/logos/cellosaurus.jpg","images/logos/pubmed.jpeg","images/bg-3.jpg","styles/colors.js","styles/transitions.js","components/TopNav.js","components/Stats.js","components/MenuList.js","components/SearchCombos.js","components/UtilComponents/Loading.js","components/Plots/DonutPlot.js","components/CellLines.js","components/Plots/DatasetLegend.js","components/Datasets.js","components/Plots/BarChart.js","components/Drugs.js","components/Documentation.js","components/Context/ComboContext.js","components/Plots/CumulativeDensity.js","components/Plots/Plot3D.js","components/SynergyMatrices.js","components/Plots/SingleAgentPlot.js","components/Plots/InhibitionHeatMap.js","components/SynergisticInhibition.js","components/ComboDetails.js","components/UtilComponents/QueryCard.js","components/ComboResults.js","components/Plots/ExpressionProfile.js","components/Plots/BiomarkerBoxPlot.js","components/Biomarkers.js","styles/GlobalStyles.js","components/Sensitivity.js","components/Enrichment.js","components/Plots/ConsistencyPlot.js","components/Consistency.js","components/Pharmacogenomics.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","colors","color_main_1","trans_color_main_1","color_main_2","trans_color_main_2","color_main_3","trans_color_main_3","color_main_4","trans_color_main_4","color_main_5","trans_color_main_5","color_accent_1","trans_color_accent_1","color_accent_2","trans_color_accent_2","nav_links","nav_bg","nav_link_hov","blue_main","summary_bg","summary_bg_trans","pagination","button_hover","transitions","StyledNav","styled","div","_templateObject","StyledLogo","img","_templateObject2","BurgerMenuStyles","bmBurgerButton","position","width","height","right","top","bmBurgerBars","background","bmBurgerBarsHover","bmCrossButton","bmCross","bmMenuWrap","bmMenu","padding","fontSize","Zindex","bmMorphShape","fill","bmItemList","color","display","flexDirection","bmItem","outline","bmOverlay","TopNav","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","menuOpen","handleStateChange","bind","assertThisInitialized","closeMenu","setState","isOpen","react_default","a","createElement","className","react_router_dom","to","src","logo","alt","BurgerMenu","styles","onStateChange","onClick","Component","StyledDiv","Stats_templateObject","Stats","datasets","tissues","compounds","cells","combos","experiments","datapoints","_this$state","build_default","start","end","duration","separator","MenuList","_this$props","props","children","maxHeight","rows","Array","isArray","scrollToIndex","_","findLastIndex","child","isFocused","List_default","rowHeight","itemCount","length","itemSize","rowCount","rowRenderer","_ref","key","index","style","_objectSpread","PureComponent","StyledWrapper","SearchCombos_templateObject","StyledForm","form","SearchCombos_templateObject2","customStyles","control","provided","SearchCombos_objectSpread","border","concat","margin","&:hover","cursor","placeholder","dropdownIndicator","indicatorSeparator","singleValue","option","textAlign","isDisabled","fontWeight","isSelected","groupStyles","alignItems","justifyContent","borderBottom","groupBadgeStyles","backgroundColor","borderRadius","lineHeight","minWidth","formatGroupLabel","data","label","options","ButtonContainer","_templateObject3","StyledButton","button","_templateObject4","ExampleSpan","span","_templateObject5","PopupBox","_templateObject6","customFilterOption","rawInput","split","reduce","acc","cur","toLowerCase","includes","CustomOption","innerProps","chunk_5d200a41_browser_esm","Option","SearchCombos","drugId1","drugId2","sample","dataset","drugsData1","drugsData2","sampleData","datasetData","selectedSample","value","selectedDrug1","selectedDrug2","selectedDataset","drug2Placeholder","allowRedirect","handleDrug1Search","handleDrug2Search","handleSampleSearch","userRedirect","handleDatasetSearch","handleEnterPress","checkUserInput","_this2","fetch","then","response","json","map","item","idDrug","name","toConsumableArray","tissueObject","forEach","tissue","tissueData","keys","toUpperCase","cellsData","idSample","source","idSource","history","queryParams","push","_this$state2","e","drugId","event","_this$state3","updateDrug2Data","_this$state4","_this$state5","_this3","requestBody","method","headers","Accept","Content-Type","body","JSON","stringify","drugsData","_this$state6","searchForm","react","onKeyPress","react_select_browser_esm","components","onChange","filterOption","MenuList_MenuList","pathname","search","type","reactjs_popup_es","trigger","modal","closeOnDocumentClick","close","components_Stats","withRouter","LoadingContainer","Loading_templateObject","LoadingComponent","loading","react_loading_default","DonutPlot","keyName","plotId","dimensions","formatData","donutData","legendCallBack","sum","count","num","plotDonut","dims","bottom","left","dataSorted","b","zipped","i","sort","x","y","c","d","zip","names","nums","colorPlot","d3","svg","append","attr","radius","translate","title","text","html","toLocaleString","arc","outerRadius","innerRadius","pie","tooltip","arcs","selectAll","enter","colorMap","ind","findIndex","on","pageY","pageX","_loop","rectY","textY","id","React","CellLines_templateObject","Set","result","val","filterCaseInsensitive","filter","row","pivotId","origin","String","toString","Databases","cellLineData","cell","sex","age","disease","idCellosaurus","columns","Header","accessor","Cell","maxWidth","sortable","target","rel","href","miniDims","CellLines_StyledWrapper","Plots_DonutPlot","es","defaultPageSize","filterable","defaultFilterMethod","DatasetLegend_templateObject","DatasetLegend","plotLegend","nCombos","nDatapoints","nExperiments","_loop2","DatasetLegend_StyledWrapper","Datasets_templateObject","Datasets","databaseData","dataset_stats","temp","original","pmID","Intl","NumberFormat","format","Datasets_StyledWrapper","Plots_DatasetLegend","showPagination","BarChart","plotBarChart","unshift","maxNum","Math","max","apply","xrange","domain","range","yrange","xAxis","scale","tickPadding","tickFormat","tickValues","yAxis","tickSize","select","transition","Drugs_templateObject","drugData","dataset_names","dset","Drugs","atcCode","idDrugBank","idPubChem","drug","atc","Drugs_StyledWrapper","Plots_BarChart","StyledDoc","Documentation_templateObject","Documentation","ComboContext","createContext","PlotlyContainer","CumulativeDensity_templateObject","generateCoordinates","comboId","outputCoordinates","sortedData","some","checkSynergyScore","CumulativeDensity","bliss","loewe","hsa","layout","displayPlot","_this$context","context","cellData","comboData","blissCoordinates","zipCoordinates","hsaCoordinates","loeweCoordinates","nbinsx","histnorm","opacity","cumulative","enabled","marker","legendgroup","blissMarker","size","showlegend","mode","visible","loeweMarker","hsaMarker","zipMarker","paper_bgcolor","plot_bgcolor","yaxis","xaxis","barmode","hovermode","font","family","react_plotly_default","graphDiv","config","responsive","displayModeBar","contextType","Plot3D_templateObject","types","Plot3D","updatePlotData","prevProps","xData","yData","concB","concA","checkDataValidity","currentConc","zData","plotData","z","contours","show","usecolormap","highlightcolor","project","colorscale","colorbar","exponentformat","l","r","t","scene","camera","eye","tickmode","tickvals","ticktext","showspikes","zaxis","autosize","Plot3D_PlotlyContainer","SynergyContainer","SynergyMatrices_templateObject","SynergyMatrices_templateObject2","SynergyMatrices","selectedType","dataTypes","handleClick","synergyData","scoreExist","every","SynergyMatrices_ButtonContainer","comboInfo","undefined","defineProperty","subcolumns","toFixed","headerClassName","tableData","entries","scoreObj","conc","generateTable","Plots_Plot3D","SingleAgentPlot_templateObject","standarizeData","output","SingleAgentPlot","drugA","monoDrugData","shift","inhibData","raw_matrix","concData","drugName","hoverData","line","shape","smoothing","hoverinfo","hovertext","tickcolor","linecolor","fixedrange","tickfont","SingleAgentPlot_StyledDiv","InhibitionHeatMap_templateObject","ViabilityHeatMap","xCounter","yCounter","annotationData","hoverStr","heatMap","customdata","ypad","side","zmin","zmax","annotations","prevState","InhibitionHeatMap_objectSpread","InhibitionHeatMap_StyledDiv","StyledContainer","SynergisticInhibition_templateObject","InhibitionContainer","SynergisticInhibition_templateObject2","SynergisticInhibition","dataAvailable","Plots_SingleAgentPlot","InhibitionHeatMap","StyledSummary","ComboDetails_templateObject","StyledHeader","ComboDetails_templateObject2","SynergyDetail","ComboDetails_templateObject3","Logo","ComboDetails_templateObject4","ComboDetails","sourceData","loadingSummary","loadingSynergyData","isDataAvailable","location","requestParams","queryString","parse","idDrugA","idDrugB","parseInt","setConcA","setConcB","indexCounter","bliss_matrix","hsa_matrix","loewe_matrix","zip_matrix","cellosaurus","description","pubchem","drugbank","pubmed","Provider","Plots_CumulativeDensity","components_SynergyMatrices","components_SynergisticInhibition","QueryDiv","QueryCard_templateObject","QueryCard","datasetName","drugName1","drugName2","cellLineName","catch","err","console","log","SynergyDiv","ComboResults_templateObject","ButtonsDiv","ComboResults_templateObject2","ComboResults","results","handleCombo","_results$index","totalSynergyScores","showScore","score","UtilComponents_QueryCard","startsWith","getTdProps","rowInfo","handleOriginal","ExpressionProfile_templateObject","ExpressionProfile","selectedBiomarker","threshold","_this$props2","biomarkerData","xRange","yRange","regressionData","values","fpkm","bestFitCoefficients","regression","linear","cellName","bestFitLine","equation","thresholdLine","mirror","linewidth","ExpressionProfile_PlotlyContainer","BiomarkerBoxPlot_templateObject","BiomarkerBoxPlot","boxHigh","boxLow","calculateBoxData","sortArr","boxData","slice","autoresize","showticklabels","BiomarkerBoxPlot_StyledContainer","StyledBiomarkers","Biomarkers_templateObject","CustomSlider","withStyles","root","Slider","StyledExpressionProfile","Biomarkers_templateObject2","calculateThreshold","synScoreArray","Biomarkers","defaultThreshold","customThreshold","confirmedThreshold","getPlotData","gene","biomarkerParams","synergyObj","cellLineExpressionData","lowestFPKM","highestFPKM","lowestSynScore","highestSynScore","rangeFPKM","rangeSynScore","_context","t0","Plots_ExpressionProfile","orientation","defaultValue","min","round","aria-labelledby","step","valueLabelDisplay","onChangeCommitted","Plots_BiomarkerBoxPlot","GlobalStyles","createGlobalStyle","GlobalStyles_templateObject","heroImg","SensetivityDiv","Sensitivity_templateObject","Sensetivity","EnrichmentDiv","Enrichment_templateObject","Enrichment","ConsistencyPlot","cindex","plotConsistency","methods","xvalue","yvalue","dropdownX","property","remove","plotScatter","dropdownY","prediction","observation","CPP","d1","d2","pow","sqrt","add","n","_map","_map2","slicedToArray","sum1","sum2","_map3","_map4","pow1","pow2","mulSum","dense","multiList","p1","p2","N","order","sampleName","firstArr","secondArr","findCIndex","pearson","findPearson","spearman","findSpearman","Consistency_templateObject","Consistency","Consistency_StyledWrapper","ConsistencyPlot_ConsistencyPlot","Pharmacogenomics_templateObject","CustomRadio","margin-left","&$checked","overflow","checked","Radio","assign","Pharmacogenomics","profileValue","profileChange","getData","drug1Change","processedData","isScrolling","isVisible","FormControlLabel","_React$createElement","Pharmacogenomics_StyledDiv","FormControl","component","FormLabel","RadioGroup","aria-label","StyledApp","App_templateObject","App","dist","styles_GlobalStyles","react_router","exact","path","CellLines","Sensitivity","components_TopNav","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.e549c9a4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-2.969ca37d.png\";","module.exports = __webpack_public_path__ + \"static/media/drugbank.4634d1be.png\";","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/cellosaurus.c658c844.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pubmed.e637a81f.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/bg-3.11ae197d.jpg\";","export default {\n  color_main_1: '#192E5B',\n  trans_color_main_1: 'rgba(25,46,91, 0.5)',\n  color_main_2: '#1D65A6',\n  trans_color_main_2: 'rgb(29,101,166, 0.5)',\n  color_main_3: '#72A2C0',\n  trans_color_main_3: 'rgba(114,162,192, 0.5)',\n  color_main_4: '#00743F',\n  trans_color_main_4: 'rgba(0,116,63, 0.5)',\n  color_main_5: '#F2A104',\n  trans_color_main_5: 'rgba(242,161,4, 0.5)',\n  color_accent_1: 'rgb(184, 178, 178)',\n  trans_color_accent_1: 'rgba(251,43,6, 0.5)',\n  color_accent_2: '#f0f0f0',\n  trans_color_accent_2: 'rgba(241,241,241, 0.5)',\n  nav_links: '#3a5386',\n  nav_bg: 'rgb(255,255,255,1)',\n  nav_link_hov: '#efa127',\n  blue_main: '#3a5386',\n  summary_bg: '#e7f3f8',\n  summary_bg_trans: 'rgba(231,243,248, 0.75)',\n  pagination: '#5675b3',\n  button_hover: '#58a3c7',\n};\n","export default {\n  main_trans: 'all ease-out 0.25s',\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { slide as Menu } from 'react-burger-menu';\nimport logo from '../images/logo-2.png';\nimport colors from '../styles/colors';\nimport transitions from '../styles/transitions';\n\nconst StyledNav = styled.div`   \n  width: 100%;\n  right:0px;\n  height:85px;\n  line-height:3em;\n  order:1;\n  white-space:nowrap;\n  background-color: ${colors.nav_bg};\n  position: fixed;\n  white-space:nowrap;\n  background-color: ${colors.nav_bg};\n  font-size: calc(1em + 0.2vw);\n  font-family: 'Montserrat', sans-serif;\n\n  @media (max-width : 1023px) {\n    height:75px;\n  }\n\n  a {\n    color: ${colors.nav_links};\n    transition: ${transitions.main_trans}\n    font-family: 'Raleway', sans-serif;\n    font-weight:700;\n    &:hover {\n        color: ${colors.nav_link_hov};\n    }\n  }\n\n  .standard-nav {\n    img {\n      position:fixed;\n      float:left;\n      margin-left:5vw;\n      margin-top:5px;\n    }\n    @media (min-width : 1024px) {\n      display: block;\n    }\n    @media (max-width : 1023px) {\n      display: none;\n    }\n  }\n  .burger-nav {\n    a {\n      padding:0em 2.5vw;\n    }\n    @media (min-width : 1024px) {\n      display: none;\n    }\n    @media (max-width : 1023px) {\n      display: block;\n    }\n  }\n  .top-nav {\n    z-index: 10;\n    text-align: center;\n    padding: 15px 0px 0px 0px;\n    margin-left: 175px;\n    a {\n      padding:0em 2.5vw;\n    }\n  }\n`;\n\nconst StyledLogo = styled.img`\n  width:150px;\n`;\n\nconst BurgerMenuStyles = {\n  bmBurgerButton: {\n    position: 'fixed',\n    width: '36px',\n    height: '30px',\n    right: 'calc(50% - 18px)',\n    top: '23px',\n  },\n  bmBurgerBars: {\n    background: colors.color_main_2,\n  },\n  bmBurgerBarsHover: {\n    background: '#a90000',\n  },\n  bmCrossButton: {\n    height: '24px',\n    width: '24px',\n  },\n  bmCross: {\n    background: colors.color_main_5,\n  },\n  bmMenuWrap: {\n    position: 'fixed',\n    height: '100%',\n  },\n  bmMenu: {\n    background: 'white',\n    padding: '2.5em 1.5em 0',\n    fontSize: '1.15em',\n    Zindex: '999',\n  },\n  bmMorphShape: {\n    fill: '#373a47',\n  },\n  bmItemList: {\n    color: '#b8b7ad',\n    padding: '0.8em',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  bmItem: {\n    display: 'inline-block',\n    outline: 'none',\n  },\n  bmOverlay: {\n    background: 'rgba(0, 0, 0, 0.3)',\n  },\n};\n\nclass TopNav extends Component {\n  constructor() {\n    super();\n    this.state = {\n      menuOpen: false,\n    };\n    this.handleStateChange = this.handleStateChange.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n  }\n\n  handleStateChange(state) {\n    this.setState({ menuOpen: state.isOpen });\n  }\n\n  closeMenu() {\n    this.setState({ menuOpen: false });\n  }\n\n  render() {\n    const { menuOpen } = this.state;\n    const { handleStateChange, closeMenu } = this;\n    return (\n      <StyledNav>\n        <div className=\"standard-nav\">\n          <Link to=\"/\">\n            <StyledLogo src={logo} alt=\"logo\" />\n          </Link>\n          <nav className=\"top-nav\">\n            <Link to=\"/documentation/\">Documentation</Link>\n            <Link to=\"/cell-lines/\">Cell lines</Link>\n            <Link to=\"/drugs/\">Compounds</Link>\n            <Link to=\"/datasets/\">Datasets</Link>\n            {/* <Link to=\"/pharmacogenomics/\">Pharmacogenomics</Link> */}\n          </nav>\n        </div>\n        <div className=\"burger-nav\">\n          <Menu\n            styles={BurgerMenuStyles}\n            right\n            isOpen={menuOpen}\n            onStateChange={state => handleStateChange(state)}\n          >\n            <Link\n              to=\"/\"\n              onClick={() => closeMenu()}\n            >\n              <StyledLogo src={logo} alt=\"logo\" />\n            </Link>\n            <Link\n              to=\"/documentation/\"\n              onClick={() => closeMenu()}\n            >\n              Documentation\n            </Link>\n            <Link\n              to=\"/cell-lines/\"\n              onClick={() => closeMenu()}\n            >\n              Cell lines\n            </Link>\n            <Link\n              to=\"/drugs/\"\n              onClick={() => closeMenu()}\n            >\n              Compounds\n            </Link>\n            <Link\n              to=\"/datasets/\"\n              onClick={() => closeMenu()}\n            >\n              Datasets\n            </Link>\n            {/* <Link\n              to=\"/pharmacogenomics/\"\n              onClick={() => closeMenu()}\n            >\n              Pharmacogenomics\n            </Link> */}\n          </Menu>\n        </div>\n      </StyledNav>\n    );\n  }\n}\n\n\nexport default TopNav;\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-restricted-properties */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-cond-assign */\nimport React, { Component } from 'react';\nimport CountUp from 'react-countup';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport colors from '../styles/colors';\n\nconst StyledDiv = styled.div`\n    width: 100%;\n    bottom:0%;\n    left:0px;\n    position:fixed;  \n    display: flex;\n    min-height:90px;\n    line-height:1em;\n    align-items: flex-end;\n    justify-content: space-around;\n    flex-wrap: wrap\n    background:rgba(255, 255, 255, 0.7);\n    color: ${colors.nav_links} !important;\n    font-family: 'Montserrat', sans-serif;\n\n    @media (max-width : 650px) {\n      position:static;\n    }\n\n    div {\n        padding: 0 10px; \n        width: 175px;\n        min-width: 150px;\n    }\n    h2 {\n      color: ${colors.nav_links} !important;\n      font-family: 'Montserrat', sans-serif;\n      font-weight:500;\n      font-size: 1.4em;\n    }\n`;\n\nclass Stats extends Component {\n  constructor() {\n    super();\n    this.state = {\n      datasets: 0,\n      tissues: 0,\n      compounds: 0,\n      cells: 0,\n      combos: 0,\n      experiments: 0,\n      datapoints: 0,\n    };\n  }\n\n  componentDidMount() {\n    // database call (takes too long, using hardcoded values for now)\n    // fetch('/api/stats/')\n    //   .then(response => response.json())\n    //   .then((data) => {\n    //     const {\n    //       cells, tissues, combos, experiments, datapoints,\n    //     } = data;\n    //     this.setState({\n    //       cells, tissues, combos, experiments, datapoints,\n    //     });\n    //   });\n    this.setState({\n      datasets: 7,\n      tissues: 11,\n      compounds: 1962,\n      cells: 124,\n      combos: 15268,\n      experiments: 477595,\n      datapoints: 5981762,\n    });\n  }\n\n  render() {\n    const {\n      datasets, tissues, compounds, combos, experiments, datapoints, cells,\n    } = this.state;\n    // const easeInOut = (t, b, c, d) => {\n    //   if (t === 0) return b;\n    //   if (t === d) return b + c;\n    //   if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    //   return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    // };\n    return (\n      <StyledDiv className=\"stats\">\n        <div>\n          <Link to=\"/datasets/\">\n            <h2>\n              <CountUp\n                start={0}\n                end={datasets}\n                duration={3}\n                // easingFn={easeInOut}\n                separator=\",\"\n              />\n            </h2>\n            <h2>Datasets</h2>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/cell-lines/\">\n            <h2>\n              <CountUp\n                start={0}\n                end={tissues}\n                duration={3}\n                // easingFn={easeInOut}\n                separator=\",\"\n              />\n            </h2>\n            <h2>Tissues</h2>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/cell-lines/\">\n            <h2>\n              <CountUp\n                start={0}\n                end={cells}\n                duration={3}\n                // easingFn={easeInOut}\n                separator=\",\"\n              />\n            </h2>\n            <h2>Cell Lines</h2>\n          </Link>\n        </div>\n        <div>\n          <Link to=\"/drugs/\">\n            <h2>\n              <CountUp\n                start={0}\n                end={compounds}\n                duration={3}\n                // easingFn={easeInOut}\n                separator=\",\"\n              />\n            </h2>\n            <h2>Compounds</h2>\n          </Link>\n        </div>\n        <div>\n          <h2>\n            <CountUp\n              start={0}\n              end={combos}\n              duration={3}\n              // easingFn={easeInOut}\n              separator=\",\"\n            />\n          </h2>\n          <h2>Combinations</h2>\n\n        </div>\n        <div>\n          <h2>\n            <CountUp\n              start={0}\n              end={experiments}\n              duration={3}\n              // easingFn={easeInOut}\n              separator=\",\"\n            />\n          </h2>\n          <h2>Experiments</h2>\n\n        </div>\n        <div>\n          <h2>\n            <CountUp\n              start={0}\n              end={datapoints}\n              duration={3}\n              // easingFn={easeInOut}\n              separator=\",\"\n            />\n          </h2>\n          <h2>Data points</h2>\n\n        </div>\n      </StyledDiv>\n    );\n  }\n}\n\n\nexport default Stats;\n","/* eslint-disable react/prop-types */\nimport React, { PureComponent } from 'react';\nimport List from 'react-virtualized/dist/commonjs/List';\nimport _ from 'lodash';\n// import colors from '../styles/colors';\n\nexport default class MenuList extends PureComponent {\n  render() {\n    const {\n      children, maxHeight,\n    } = this.props;\n\n    const height = 65;\n    const rows = Array.isArray(children) ? children : [];\n    const rowRenderer = ({\n      key, index, style,\n    }) => (\n      <div\n        key={key}\n        style={{\n          ...style,\n          width: '350px',\n        }}\n      >\n        {rows[index]}\n      </div>\n    );\n\n\n    const scrollToIndex = _.findLastIndex(\n      children,\n      child => child.props.isFocused,\n    );\n\n    return (\n      <List\n        height={maxHeight}\n        rowHeight={height}\n        itemCount={children.length}\n        itemSize={height}\n        width={350}\n        rowCount={rows.length}\n        rowRenderer={rowRenderer}\n        scrollToIndex={scrollToIndex}\n      />\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable react/prop-types */\n/* eslint-disable max-len */\n/* eslint-disable no-plusplus */\nimport React, { Component, Fragment } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Select, { components } from 'react-select';\nimport Popup from 'reactjs-popup';\n\nimport colors from '../styles/colors';\nimport transitions from '../styles/transitions';\nimport Stats from './Stats';\nimport MenuList from './MenuList';\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  h1 {\n    color: ${colors.nav_links};\n    font-family:'Raleway', sans-serif;\n    font-weight:700;\n    margin: 0px 0px 50px 0px;\n  }\n  h1 span {\n    color: ${colors.nav_link_hov};\n    font-family:'Raleway', sans-serif;\n    font-weight:800;\n    font-size: 1.15em;\n  }\n`;\n\nconst StyledForm = styled.form`\n  max-width: 800px;\n  width: 100%;\n  background-color: rgb(255,255,255,0.85); \n  border-radius:25px;\n  margin: 5px;\n  padding:25px;\n  text-align: center;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: center;\n\n  .select-container {\n    min-width: 300px;\n    max-width: 49%\n  }\n  \n  .button-container {\n    min-width: 300px;\n    width: 50%;\n    display: flex;\n    justify-content: space-between;\n  }\n  input {\n    color: ${colors.nav_links};\n    border: none;\n    min-width: 350px;\n    width: 50%;\n    padding: 13px;\n    margin: 10px auto;\n    outline-style: none;\n    background: transparent !important;\n\n    &::placeholder {\n      color: ${colors.nav_links};\n    }\n    &:focus {\n      border: 2px solid ${colors.color_main_2};\n      background-color: ${colors.trans_color_main_4};\n      outline:none;\n      \n      &::placeholder {\n      color: white;\n    }\n  }\n  .option-label {\n    font-size: 25px;\n  }\n  \n`;\n\nconst customStyles = {\n  control: provided => ({\n    ...provided,\n    background: 'rgb(0,0,0,0)',\n    border: `1px solid ${colors.nav_links}`,\n    margin: '5px 0px',\n    '&:hover': {\n      border: `1px solid ${colors.nav_links}`,\n      cursor: 'text',\n    },\n  }),\n  placeholder: provided => ({\n    ...provided,\n    color: `${colors.nav_links}`,\n  }),\n  dropdownIndicator: provided => ({\n    ...provided,\n    color: `${colors.nav_links}`,\n    '&:hover': {\n      color: `${colors.nav_links}`,\n      cursor: 'pointer',\n    },\n  }),\n\n  indicatorSeparator: provided => ({\n    ...provided,\n    background: `${colors.nav_links}`,\n    '&:hover': {\n      background: `${colors.nav_links}`,\n    },\n  }),\n  singleValue: provided => ({\n    ...provided,\n    color: `${colors.nav_links}`,\n  }),\n  option: (provided, state) => ({\n    ...provided,\n    textAlign: state.isDisabled ? 'left' : 'center',\n    fontWeight: state.isDisabled ? '700' : state.isSelected ? '700' : '400',\n    background: state.isDisabled ? colors.summary_bg : 'white',\n    color: state.isSelected ? colors.color_main_2 : colors.nav_links,\n  }),\n};\n\n// to style group label https://codesandbox.io/s/hhgf4?module=/example.js\nconst groupStyles = {\n  fontSize: 20,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  borderBottom: `1px solid ${colors.blue_main}`,\n  color: colors.blue_main,\n  padding: '5px',\n};\nconst groupBadgeStyles = {\n  backgroundColor: colors.blue_main,\n  borderRadius: '2em',\n  color: 'white',\n  display: 'inline-block',\n  fontSize: 15,\n  fontWeight: 'normal',\n  lineHeight: '1',\n  minWidth: 1,\n  padding: '0.2em 0.5em',\n  textAlign: 'center',\n};\n\nconst formatGroupLabel = data => (\n  <div style={groupStyles}>\n    <span>{data.label}</span>\n    <span style={groupBadgeStyles}>{data.options.length}</span>\n  </div>\n);\n\n// end group label style\n\nconst ButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledButton = styled.button`\n  background: ${colors.nav_links};\n  border: 1px solid ${colors.nav_links};\n  border-radius:10px;\n  padding: 10px 20px;\n  margin: 10px auto;\n  color: #ffffff;\n  transition: ${transitions.main_trans};\n  outline-style: none;\n\n  &:hover {\n    color: ${colors.nav_links};\n    background: ${colors.nav_bg};\n    border: 1px solid ${colors.nav_links};\n    cursor:pointer;\n  }\n  &[type=\"button\"] {\n    font-size: 2em;\n  }\n`;\nconst ExampleSpan = styled.span`\n  font-size: 1.1rem;\n  text-align: left;\n  margin: 10px;\n  font-style: italic;\n  font-family: 'Raleway', sans-serif;\n  font-weight:700;\n  color:${colors.blue_main};\n\n  a {\n    font-style: normal;\n    color:${colors.blue_main};\n    font-weight:400;\n    \n\n    &:hover {\n      color:${colors.nav_link_hov};\n    }\n  }\n`;\nconst PopupBox = styled.div`\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 20px 10px;\n  }\n  button {\n    background: ${colors.nav_links};\n    border: 1px solid ${colors.nav_links};\n    border-radius:10px;\n    width: 150px\n    color: #ffffff;\n    transition: ${transitions.main_trans};\n    outline-style: none;\n    font-size: 1.5em;\n\n    &:hover {\n      color: ${colors.nav_links};\n      background: ${colors.nav_bg};\n      border: 1px solid ${colors.nav_links};\n      cursor:pointer;\n    }\n  }\n  p {\n    color: ${colors.blue_main};\n    line-height: 1.5em;\n  }\n  .close {\n    cursor: pointer;\n    position: absolute;\n    display: block;\n    padding: 2px 5px 5px;\n    line-height: 15px;\n    right: -10px;\n    top: -10px;\n    font-size: 30px;\n    background: #ffffff;\n    color: ${colors.blue_main};\n    transition: ${transitions.main_trans};\n    border-radius: 18px;\n    border: 1px solid #cfcece;\n\n    &:hover {\n      color: #ffffff;\n      background: ${colors.blue_main};\n    }\n  }\n`;\n\n// Wraps the react-select to use a better filter method, current one relies on indexOf which isn't great for searching large lists\n// New custom search matches if all words in box are found anywhere in the option.label, case in-sensitive\nconst customFilterOption = (option, rawInput) => {\n  if (option.data.isDisabled) {\n    return true;\n  }\n  const words = rawInput.split(' ');\n  return words.reduce(\n    (acc, cur) => acc && option.label.toLowerCase().includes(cur.toLowerCase()),\n    true,\n  );\n};\n\nconst CustomOption = innerProps => (\n  <components.Option {...innerProps}>\n    <div\n      style={{\n        backgroundColor: innerProps.isFocused ? !innerProps.isDisabled ? colors.trans_color_main_5 : 'inherit' : 'inherit',\n        width: '350px',\n        height: '50px',\n        padding: 'auto',\n        margin: '0',\n        display: 'flex',\n        justifyContent: innerProps.isDisabled ? 'flex-start' : 'center',\n        alignItems: 'center',\n      }}\n    >\n      <span>{innerProps.label}</span>\n    </div>\n  </components.Option>\n);\n\nclass SearchCombos extends Component {\n  constructor() {\n    super();\n    this.state = {\n      drugId1: 'Any',\n      drugId2: 'Any',\n      sample: 'Any',\n      dataset: 'Any',\n      drugsData1: [],\n      drugsData2: [],\n      sampleData: [],\n      datasetData: [],\n      selectedSample: { value: 'Any', label: 'Any Sample' },\n      selectedDrug1: null,\n      selectedDrug2: null,\n      selectedDataset: { value: 'Any', label: 'Any Dataset' },\n      drug2Placeholder: 'Enter Compound B',\n      allowRedirect: true,\n      isDisabled: null,\n    };\n    this.handleDrug1Search = this.handleDrug1Search.bind(this);\n    this.handleDrug2Search = this.handleDrug2Search.bind(this);\n    this.handleSampleSearch = this.handleSampleSearch.bind(this);\n    this.userRedirect = this.userRedirect.bind(this);\n    this.handleDatasetSearch = this.handleDatasetSearch.bind(this);\n    this.handleEnterPress = this.handleEnterPress.bind(this);\n    this.checkUserInput = this.checkUserInput.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('/api/drugs')\n      .then(response => response.json())\n      .then((data) => {\n        const drugsData1 = data.map(item => ({ value: item.idDrug, label: item.name }));\n        this.setState({ drugsData1: [{ value: 'Any', label: 'Any Compound' }, ...drugsData1] });\n      });\n    fetch('/api/cell_lines')\n      .then(response => response.json())\n      .then((data) => {\n        // Generates an array of unique tissue names\n        const tissueObject = {};\n        data.forEach((item) => {\n          if (!tissueObject[item.tissue]) {\n            tissueObject[item.tissue] = 1;\n          } else {\n            tissueObject[item.tissue]++;\n          }\n        });\n        const tissueData = Object.keys(tissueObject).map(tissue => ({ value: tissue, label: `${tissue.toUpperCase()} (${tissueObject[tissue]} cell lines)` }));\n        const cellsData = data.map(item => ({ value: item.idSample, label: `${item.name.toUpperCase()} (${item.tissue.toUpperCase()})` }));\n        this.setState({\n          sampleData: [\n            {\n              label: 'Any Sample',\n              value: 'Any',\n            },\n            {\n              label: 'Tissues',\n              options: tissueData,\n            },\n\n            {\n              label: 'Cell Lines',\n              options: cellsData,\n            },\n          ],\n        });\n      });\n    fetch('/api/datasets/')\n      .then(response => response.json())\n      .then((data) => {\n        const datasets = data.map(source => ({ value: source.idSource, label: source.name }));\n        this.setState({ datasetData: [{ value: 'Any', label: 'Any Dataset' }, ...datasets] });\n      });\n  }\n\n  userRedirect() {\n    const {\n      drugId1, drugId2, sample, dataset, allowRedirect,\n    } = this.state;\n    if (allowRedirect) {\n      const { history } = this.props;\n      let queryParams = '';\n      if (drugId1 !== 'Any') queryParams = queryParams.concat(`drugId1=${drugId1}`);\n      if (sample !== 'Any') queryParams = queryParams.concat(`&sample=${sample}`);\n      if (dataset !== 'Any') queryParams = queryParams.concat(`&dataset=${dataset}`);\n      if (drugId2 !== 'Any') queryParams = queryParams.concat(`&drugId2=${drugId2}`);\n      // Redirects user to synergy scores page\n      history.push('/synergy_score?'.concat(queryParams));\n    }\n    return null;\n  }\n\n  // verify if user inputs at least one serach parameter\n  checkUserInput() {\n    const {\n      drugId1, drugId2, sample, dataset,\n    } = this.state;\n    return drugId1 !== 'Any' || sample !== 'Any' || dataset !== 'Any' || drugId2 !== 'Any';\n  }\n\n  handleEnterPress(e) {\n    if (e.key === 'Enter') this.userRedirect();\n  }\n\n  handleDrug1Search(drugId, event) {\n    const { value, label } = event;\n    const { sample, dataset } = this.state;\n\n    if (event.value === 'Any') {\n      this.setState({ isDisabled: true, drug2Placeholder: 'Please specify Compound A' });\n    } else {\n      this.setState({ isDisabled: false, drug2Placeholder: 'Enter Compound B' });\n    }\n    this.setState({ drugId1: value, selectedDrug1: { value, label } });\n    // Sends a post request to the API to retrieve relevant combo drugs for drugsData2\n    if (sample && dataset) this.updateDrug2Data(sample, dataset, value);\n  }\n\n  handleDrug2Search(event) {\n    const { value, label } = event;\n    this.setState({ drugId2: value, selectedDrug2: { value, label } });\n  }\n\n  handleSampleSearch(event) {\n    const { value, label } = event;\n    const { dataset, drugId1 } = this.state;\n    this.setState({ sample: value, selectedSample: { value, label } });\n    if (drugId1 !== 'Any') this.updateDrug2Data(value, dataset, drugId1);\n  }\n\n  handleDatasetSearch(event) {\n    const { value, label } = event;\n    const { sample, drugId1 } = this.state;\n    this.setState({ dataset: value, selectedDataset: { value, label } });\n    if (drugId1 !== 'Any') this.updateDrug2Data(sample, value, drugId1);\n  }\n\n  updateDrug2Data(sample, dataset, drugId) {\n    const requestBody = { };\n    if (drugId !== 'Any') requestBody.drugId = drugId;\n    if (sample !== 'Any') requestBody.sample = sample;\n    if (dataset !== 'Any') requestBody.dataset = dataset;\n    fetch('/api/drugs', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(requestBody),\n    })\n      .then(response => response.json())\n      .then((data) => {\n        this.setState({\n          drugId2: 'Any', selectedDrug2: null, drugsData2: [],\n        });\n        if (data.length > 0) {\n          const drugsData = data.map(item => ({ value: item.idDrug, label: item.name }));\n          this.setState({ drugsData2: [{ value: 'Any', label: 'Any Compound' }, ...drugsData], drug2Placeholder: 'Enter Compound B', allowRedirect: true });\n        } else {\n          this.setState({ drug2Placeholder: 'No drug combos for entered request parameters', allowRedirect: false });\n        }\n      });\n  }\n\n  render() {\n    const {\n      drugsData1, drugsData2, sampleData,\n      selectedSample, selectedDrug1, selectedDrug2, drug2Placeholder, datasetData,\n      selectedDataset,\n    } = this.state;\n    let { isDisabled } = this.state;\n    const {\n      handleSampleSearch, handleDrug1Search, handleDrug2Search, userRedirect,\n      handleDatasetSearch, handleEnterPress, checkUserInput,\n    } = this;\n\n    // if isDisabled is not set yet, set\n    if (!isDisabled) {\n      isDisabled = !(drugsData2.length > 0);\n    }\n\n    const exampleDrugUrl = {\n      pathname: '/synergy_score',\n      search: '?drugId1=11&drugId2=97',\n    };\n    const exampleDatasetUrl = {\n      pathname: '/synergy_score',\n      search: '?&dataset=5',\n    };\n    const exampleSampleUrl = {\n      pathname: '/synergy_score',\n      search: '?&sample=pancreas',\n    };\n\n    const searchForm = (\n      <Fragment>\n        <h1>\n          <span>SYNERGxDB</span>\n          {' '}\n          is a comprehensive database to explore\n          {' '}\n          <br />\n          synergistic drug combinations for biomarker discovery.\n        </h1>\n        <StyledForm className=\"search-combos\" onKeyPress={handleEnterPress}>\n          <div className=\"select-container\">\n            <Select\n              components={{\n                Option: CustomOption,\n                // MenuList: props => (<MenuList {...props} />),\n              }}\n              styles={customStyles}\n              options={sampleData}\n              placeholder=\"Enter Cell Line or Tissue\"\n              onChange={handleSampleSearch}\n              value={selectedSample}\n              filterOption={customFilterOption}\n              formatGroupLabel={formatGroupLabel}\n            />\n          </div>\n          <div className=\"select-container\">\n            <Select\n              components={{\n                Option: CustomOption,\n                MenuList: props => (<MenuList {...props} />),\n              }}\n              styles={customStyles}\n              options={drugsData1}\n              placeholder=\"Enter Compound A\"\n              onChange={e => handleDrug1Search('drugId1', e)}\n              value={selectedDrug1}\n              filterOption={customFilterOption}\n            />\n          </div>\n          <div className=\"select-container\">\n            <Select\n              components={{\n                Option: CustomOption,\n                MenuList: props => (<MenuList {...props} />),\n              }}\n              styles={customStyles}\n              options={datasetData}\n              placeholder=\"Enter Dataset\"\n              value={selectedDataset}\n              onChange={handleDatasetSearch}\n              filterOption={customFilterOption}\n            />\n          </div>\n          <div className=\"select-container\">\n            <Select\n              components={{\n                Option: CustomOption,\n                MenuList: props => (<MenuList {...props} />),\n              }}\n              styles={{\n                ...customStyles,\n                control: provided => ({\n                  ...provided,\n                  background: 'rgb(0,0,0,0)',\n                  margin: '5px 0px',\n                  border: isDisabled ? `1px solid ${colors.color_accent_1}` : `1px solid ${colors.nav_links}`,\n                  '&:hover': {\n                    border: isDisabled ? `1px solid ${colors.color_accent_1}` : `1px solid ${colors.nav_links}`,\n                  },\n                }),\n                placeholder: provided => ({\n                  ...provided,\n                  color: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                }),\n                dropdownIndicator: provided => ({\n                  ...provided,\n                  color: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                  '&:hover': {\n                    color: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                  },\n                }),\n                indicatorSeparator: provided => ({\n                  ...provided,\n                  background: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                  '&:hover': {\n                    background: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                  },\n                }),\n                singleValue: provided => ({\n                  ...provided,\n                  color: isDisabled ? colors.color_accent_1 : colors.nav_links,\n                }),\n              }}\n              options={drugsData2}\n              isDisabled={isDisabled}\n              placeholder={drug2Placeholder}\n              value={isDisabled ? '' : selectedDrug2}\n              onChange={handleDrug2Search}\n              filterOption={customFilterOption}\n            />\n          </div>\n          <ButtonContainer>\n            <ExampleSpan>\n            Examples:\n              {' '}\n              <Link className=\"hover\" to={exampleSampleUrl}>PANCREAS</Link>\n                &nbsp;&nbsp;|&nbsp;&nbsp;\n              <Link className=\"hover\" to={exampleDatasetUrl}>YALE-TNBC</Link>\n                &nbsp;&nbsp;|&nbsp;&nbsp;\n              <Link className=\"hover\" to={exampleDrugUrl}>Bortezomib + Topotecan</Link>\n            </ExampleSpan>\n            { checkUserInput() ? (\n              <StyledButton onClick={userRedirect} type=\"button\">Search</StyledButton>\n            ) : (\n              <Popup\n                trigger={<StyledButton onClick={userRedirect} type=\"button\">Search</StyledButton>}\n                modal\n                closeOnDocumentClick\n              >\n                {close => (\n                  <PopupBox className=\"modal\">\n                    <a className=\"close\" onClick={close}>\n                      &times;\n                    </a>\n                    <p>\n                      None of the request parameters has been specified and it may take longer\n                      to retrieve your results. Do you want to proceed?\n                    </p>\n                    <div>\n                      <button type=\"button\" onClick={userRedirect}>Yes</button>\n                      <button type=\"button\" onClick={close}>No</button>\n                    </div>\n                  </PopupBox>\n                )}\n              </Popup>\n            )\n          }\n          </ButtonContainer>\n        </StyledForm>\n        <Stats />\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <main className=\"landing\">\n          <StyledWrapper className=\"form-wrapper\">\n            {searchForm}\n          </StyledWrapper>\n        </main>\n      </Fragment>\n    );\n  }\n}\n\nexport default withRouter(SearchCombos);\n","import React from 'react';\nimport ReactLoading from 'react-loading';\nimport styled from 'styled-components';\nimport colors from '../../styles/colors';\n\nconst LoadingContainer = styled.div`\n  &.-loading.-active {\n    background-color: white;\n    opacity: 1;\n    z-index: 100;\n    \n    .-loading-inner {\n      display: flex;\n      justify-content: center;\n      top: calc(50% - 150px);\n    }\n  }\n\n`;\n\n\nconst LoadingComponent = (props) => {\n  // eslint-disable-next-line react/prop-types\n  const { loading } = props;\n  return loading ? (\n    <LoadingContainer className=\"-loading -active\">\n      <div className=\"-loading-inner\">\n        <ReactLoading type=\"bubbles\" width={150} height={150} color={colors.color_main_2} />\n      </div>\n    </LoadingContainer>\n  ) : (\n    <div />\n  );\n};\n\nexport default LoadingComponent;\n","import * as d3 from 'd3';\nimport React from 'react';\nimport colors from '../../styles/colors';\n\nclass DonutPlot extends React.Component {\n\n  componentDidMount() {\n    const {\n      keyName, plotId, dimensions, formatData, donutData, legendCallBack\n    } = this.props;\n    \n    const data = formatData(donutData, keyName);\n    const sum = data.reduce((count, item) => count + item.num, 0);\n    this.plotDonut(data, sum, plotId, dimensions, keyName, legendCallBack);\n  }\n\n  plotDonut(donutData, sum, plotId, dims, keyName) {\n    // positions and dimensions\n    const margin = {\n      top: 20,\n      right: 60,\n      bottom: 90,\n      left: 20,\n    };\n\n    if ([\"Combinations\", \"Datapoints\", \"Experiments\"].includes(keyName)) {\n      margin.right = 130\n    }\n\n    // zips two arrays together, sorts increasing\n    function zip(a, b) {\n      var zipped = [];\n      \n      // zip\n      for (var i=0; i<a.length; i++) {\n        zipped.push({a: a[i], b: b[i] });\n      }\n      \n      zipped.sort(function (x, y){\n        return ((x.a < y.a) ? -1 : 1);\n      });\n      \n      var c = []\n      var d = []\n      \n      for (var i=0; i < zipped.length; i++) {\n          c[i] = zipped[i].a\n          d[i] = zipped[i].b\n      }\n      return [c,d]\n    }\n    \n    const dataSorted = zip(donutData.map(x => x.name), donutData.map(x => x.num))\n    const names = dataSorted[0]\n    const nums = dataSorted[1]\n\n    const colorPlot = d3.scaleOrdinal(['#e69a61', '#9817ff', '#18c61a', '#33b4ff', '#c9167e', '#297853', '#d7011b', '#7456c7', '#7e6276', '#afb113', '#fd879c', '#fb78fa', '#24c373', '#45bbc5', '#766b21', '#abad93', '#c19ce3', '#fd8f11', '#2f56ff', '#307a11', '#b3483c', '#0d7396', '#94b665', '#9d4d91', '#b807c8', '#086cbf', '#a2abc5', '#a35702', '#d3084b', '#8c6148', '#fa82ce', '#71be42', '#2bc0a0', '#b64064', '#d09fa2', '#daa229', '#5a6f68', '#c1aa5f', '#8943dc', '#b72ba6', '#6e629e', '#e094bf', '#dd8df2', '#c03d0b', '#7db799', '#617046', '#ff8a78', '#1263e2', '#91aaea', '#cea37e', '#9e555c', '#67b4db', '#05767b', '#537428', '#04c553', '#88b3b7', '#ff8d52', '#8abb0b', '#9b43b9', '#c83030', '#6fbc7c', '#596c83', '#926023', '#e9958d', '#a127e3', '#027b36', '#94577d', '#7543f8', '#8257ab', '#c0ab3c', '#416ca4', '#a3b444', '#b53c7e', '#ca2064', '#64c104', '#5662c0', '#c1a0c6', '#5e56e3', '#9cb37c', '#9f573b', '#65bf64', '#7e6839', '#d6a250', '#c0384a', '#75685b', '#657105', '#b1a9a9', '#ab5025', '#ea9940', '#a1a4f9', '#a9409f', '#48745a', '#dd92d5', '#c90392', '#53bcaf', '#c298f9', '#6d668a', '#aa31c0', '#e89777', '#b5ac76', '#8b5f62', '#fb85b9', '#43763f', '#38c18a', '#8ab94c', '#f87fe4', '#e196aa', '#a74b77', '#885997', '#c9a918', '#50c237', '#d50438', '#d2a267', '#acb05e', '#c1a693', '#6d696f', '#b04950', '#ba4327', '#4f7603', '#3a7282', '#2cbada', '#ed990a', '#b24c07']);\n\n    // Add the svg canvas\n    const svg = d3.select(`#${plotId}`)\n      .append('svg')\n      .attr('fill', 'white')\n      .data([donutData])\n      .attr('width', dims.width + margin.left + margin.right)\n      .attr('height', dims.height + margin.top + margin.bottom)\n      .attr('transform',\n        `translate(${ margin.left },${margin.top})`)\n      .attr('id', 'pie')\n      .append('g')\n      .attr('transform',\n        `translate(${dims.radius},${dims.radius + dims.translate})`)\n        .attr('id', `g-${ keyName}`);\n\n\n    let title = svg.append('text')\n      .attr('text-anchor', 'middle')\n      .attr('fill', colors.blue_main)\n      .style('font-size', '24px')\n      .style('font-weight', '700')\n      .style('text-transform', 'capitalize')\n      .attr('transform', `translate(0,5)`)\n      .text(d => (keyName == \"origin\" ? \"biopsy\": keyName));\n\n    // subtitle for N\n    if ([\"Combinations\", \"Datapoints\", \"Experiments\"].includes(keyName)) {\n      title.attr('transform', `translate(0,0)`)\n      const subtitle = svg.append('foreignObject')\n        .attr('fill', colors.blue_main)\n        .style('font-size', '18px')\n        .style('font-weight', '700')\n        .style('text-transform', 'capitalize')\n        .attr(\"x\", -90)\n        .attr(\"y\", 5)\n        .attr(\"width\", 180)\n        .attr(\"height\", 30)\n        .html(function() {return \"<i>N</i> = \" + sum.toLocaleString()});\n    }\n\n    const arc = d3.arc()\n      .outerRadius(dims.radius)\n      .innerRadius(dims.radius - (dims.radius / 2.87));\n\n    const pie = d3.pie()\n      .value(d => d.num);\n\n    // tooltip\n    const tooltip = d3.select(`#${plotId}`)\n      .append('div')\n      .style('position', 'absolute')\n      .style('z-index', '10')\n      .style('visibility', 'hidden')\n      .style('color', colors.blue_main)\n      .style('padding', '2px 8px')\n      .style('background', '#fff')\n      .style('border-radius', '10px')\n      .text('hehe'); // it changes, don't worry\n\n\n    // making each slice of pie\n    const arcs = svg.selectAll('g.slice')\n      .data(pie)\n      .enter()\n      .append('svg:g')\n      .attr('class', (d, i) => donutData[i].name);\n\n    let colorMap = [];\n    arcs.append('svg:path')\n      .attr('fill', (d, i) => {\n        if ([\"Combinations\", \"Datapoints\", \"Experiments\"].includes(keyName)) {\n          const ind = colorMap.findIndex(item => item.name === d.data.name);\n          if (ind == -1) {\n            colorMap.push({\n              name: d.data.name,\n              num: d.data.num,\n              color: colorPlot(i)\n            })\n          } else {\n            colorMap[ind][keyName] = d.data.num\n          }\n          \n        } else {\n          colorMap.push({\n            name: d.data.name,\n            num: d.data.num,\n            color: colorPlot(i)\n          })\n        }\n        \n        return colorPlot(i)\n      })\n      .style('opacity', 0.7)\n      .attr('d', arc)\n      .on('mouseover', (d) => {\n        tooltip.text(`${d.data.name }: ${d3.format('.2f')((d.data.num / sum) * 100)}%`).style('visibility', 'visible');\n      })\n      .on('mousemove', () => {\n        tooltip.style('top', `${d3.event.pageY - 10}px`).style('left', `${d3.event.pageX + 10}px`);\n      })\n      .on('mouseout', () => {\n        tooltip.style('visibility', 'hidden');\n      });\n\n    // passing the color map back to Datasets.js to create the legend in a separate component\n    this.props.legendCallBack(colorMap);\n\n    if (![\"Combinations\", \"Datapoints\", \"Experiments\"].includes(keyName)) {\n      // legend\n      for (let i = 0; i < names.length; i++) {\n        svg.append('rect')\n          .attr('x', dims.width - (dims.width / 2 + 30))\n          .attr('y', i * 35 - (dims.height/2 + dims.rectY)) \n          .attr('width', 15)\n          .attr('height', 15)\n          .style('fill', () => {\n            const ind = colorMap.findIndex(item => item.name === names[i]);\n            return colorMap[ind].color\n          })\n          .style('opacity', 0.7);\n\n\n        svg.append('foreignObject')\n          .attr('x', dims.width - (dims.width / 2 + 10))\n          .attr('y', i * 35 - (dims.height / 2 + dims.textY)) \n          .attr('id', `legendLabel${donutData[i].name}`)\n          .style('text-anchor', 'start')\n          .style(\"text-align\", \"left\")\n          .style('font-size', function() {if (keyName == \"tissue\") {return 13} else {return 14}})\n          .style(\"text-transform\", function() {if (keyName == \"tissue\") {return \"uppercase\"} else {return \"normal\"}})\n          .style('opacity', 1)\n          .attr('fill', colors.blue_main)\n          .attr(\"width\", 180)\n          .attr(\"height\", 30)\n          .html(function() {if (keyName) {return names[i] + \", <i>N</i> = \" + nums[i]} else {return names[i]}});\n      }\n    }\n    \n  }\n\n  render() {\n    return <div id={this.props.plotId} className=\"plot\" />;\n  }\n}\n\nexport default DonutPlot;\n","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\n// import colors from '../styles/colors';\n// import transitions from '../styles/transitions';\n\nimport LoadingComponent from './UtilComponents/Loading';\nimport DonutPlot from './Plots/DonutPlot';\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background:white;\n  padding:0px 30px;\n`;\n\nconst formatData = (data, keyName) => {\n  // legend names\n  const names = [...new Set(data.map(x => x[keyName]))];\n  let result = [];\n\n  if (keyName === 'age') {\n    result = [\n      {\n        name: '50 or over',\n        num: 0,\n      },\n      {\n        name: 'Under 50',\n        num: 0,\n      },\n      {\n        name: 'Unknown',\n        num: 0,\n      },\n    ];\n    data.forEach((val) => {\n      let ind = 0;\n      if (val[keyName] >= 50) {\n        ind = 0;\n      } else if (val[keyName] < 50 && val[keyName] != null) {\n        ind = 1;\n      } else if (val[keyName] == null) {\n        ind = 2;\n      }\n\n      // increment the counter\n      result[ind].num += 1;\n    });\n  } else if (keyName === 'origin') {\n    result = [\n      {\n        name: 'Primary',\n        num: 0,\n      },\n      {\n        name: 'Metastasis',\n        num: 0,\n      },\n    ];\n    data.forEach((val) => {\n      let ind = 0;\n      if (val[keyName] == null) {\n        ind = 0;\n      } else {\n        ind = 1;\n      }\n      // increment the counter\n      result[ind].num += 1;\n    });\n  } else if (keyName === 'sex') {\n    result = [\n      {\n        name: 'Female',\n        num: 0,\n      },\n      {\n        name: 'Male',\n        num: 0,\n      },\n      {\n        name: 'Unknown',\n        num: 0,\n      },\n    ];\n    data.forEach((val) => {\n      let ind = 0;\n      if (val[keyName] === 'F') {\n        ind = 0;\n      } else if (val[keyName] === 'M') {\n        ind = 1;\n      } else if (val[keyName] == null) {\n        ind = 2;\n      }\n      // increment the counter\n      result[ind].num += 1;\n    });\n  } else {\n    // populate result with names first\n    names.forEach((val) => {\n      result.push({\n        name: val,\n        num: 0,\n      });\n    });\n\n    // count the number of each name\n    data.forEach((val) => {\n      // get index of the name in the result array\n      const ind = result.findIndex(item => item.name === val[keyName]);\n\n      // increment the counter\n      result[ind].num += 1;\n    });\n  }\n\n  return result;\n};\n\nconst filterCaseInsensitive = (filter, row) => {\n  const id = filter.pivotId || filter.id;\n  switch (typeof row[id]) {\n    case 'object':\n      // checks for metastasis label\n      if (row[id] && row[id].origin) {\n        return String('metastasis').includes(filter.value.toLowerCase());\n      }\n      // checks for disease name (additional check is to filter out null values)\n      return row[id] && row[id].name\n        ? String(row[id].name.toLowerCase()).includes(filter.value.toLowerCase())\n        : false;\n    // handles age filtering\n    case 'number':\n      return row[id].toString().includes(filter.value);\n    case 'string':\n      return String(row[id].toLowerCase()).includes(filter.value.toLowerCase());\n    default:\n      return false;\n  }\n};\n\n\nclass Databases extends Component {\n  constructor() {\n    super();\n    this.state = {\n      cellLineData: [],\n      loading: true,\n      donutData: [],\n    };\n  }\n\n  legendCallBack = colorMap => null\n\n  componentDidMount() {\n    fetch('/api/cell_lines/')\n      .then(response => response.json())\n      .then((data) => {\n        // Restructures data for react table\n        const cellLineData = data.map((cell) => {\n          const {\n            tissue, name, sex, origin, age, disease, idCellosaurus,\n          } = cell;\n          return {\n            tissue, name, sex, age, idCellosaurus, disease: { name: disease, origin },\n          };\n        });\n        this.setState({ cellLineData, loading: false, donutData: data });\n      });\n  }\n\n  render() {\n    const { cellLineData, loading, donutData } = this.state;\n    const columns = [{\n      Header: 'Tissue',\n      accessor: 'tissue', // String-based value accessors!\n      Cell: props => props.value.toUpperCase(),\n      maxWidth: 125,\n      sortable: true,\n    }, {\n      Header: 'Name',\n      accessor: 'name',\n      Cell: props => props.value.toUpperCase(),\n      maxWidth: 125,\n      sortable: true,\n    }, {\n      Header: 'Sex',\n      accessor: 'sex',\n      maxWidth: 55,\n      minWidth: 55,\n      // sortable: false,\n    }, {\n      Header: 'Age',\n      accessor: 'age',\n      style: { textAlign: 'right' },\n      maxWidth: 50,\n      sortable: true,\n    }, {\n      Header: 'Disease',\n      accessor: 'disease',\n      Cell: (disease) => {\n        const { value } = disease;\n        return value.origin ? (\n          <span>\n            {value.name}\n            <em> (metastasis)</em>\n          </span>\n        ) : <span>{value.name}</span>;\n      },\n      // filterable: false,\n      sortable: false,\n    }, {\n      Header: 'Cellosaurus',\n      accessor: 'idCellosaurus',\n      Cell: props => <a className=\"hover\" target=\"_blank\" rel=\"noopener noreferrer\" href={`https://web.expasy.org/cellosaurus/${props.value}`}>{props.value}</a>,\n      maxWidth: 125,\n      sortable: false,\n    }];\n\n    const miniDims = {\n      width: 300,\n      height: 230,\n      radius: 100,\n      rectY: -30,\n      textY: -30,\n      translate: 85,\n    };\n    const normalDims = {\n      width: 620,\n      height: 400,\n      radius: 230,\n      rectY: 20,\n      textY: 18,\n      translate: 5,\n    };\n    return (\n\n      <Fragment>\n        {/* <style>{'#root { background: #e7f3f8  !important; }'}</style> */}\n        <main className=\"summary\">\n          <StyledWrapper className=\"wrapper\">\n            <h1>\n              Cell Lines,\n              {' '}\n              <i>N</i>\n              {' '}\n              =\n              {' '}\n              {donutData.length.toLocaleString()}\n            </h1>\n            {donutData.length === 0 ? null : (\n              <Fragment>\n                <DonutPlot\n                  keyName=\"tissue\"\n                  plotId=\"cellTissuePlot\"\n                  dimensions={normalDims}\n                  formatData={formatData}\n                  donutData={donutData}\n                  legendCallBack={this.legendCallBack}\n                />\n\n                <DonutPlot\n                  keyName=\"sex\"\n                  plotId=\"cellMiniPlot\"\n                  dimensions={miniDims}\n                  formatData={formatData}\n                  donutData={donutData}\n                  legendCallBack={this.legendCallBack}\n                />\n\n                <DonutPlot\n                  keyName=\"origin\"\n                  plotId=\"cellMiniPlot\"\n                  dimensions={miniDims}\n                  formatData={formatData}\n                  donutData={donutData}\n                  legendCallBack={this.legendCallBack}\n                />\n\n                <DonutPlot\n                  keyName=\"age\"\n                  plotId=\"cellMiniPlot\"\n                  dimensions={miniDims}\n                  formatData={formatData}\n                  donutData={donutData}\n                  legendCallBack={this.legendCallBack}\n                />\n              </Fragment>\n\n            )}\n\n          </StyledWrapper>\n          <StyledWrapper className=\"wrapper\">\n            <h1>List of Cell Lines</h1>\n            <ReactTable\n              data={cellLineData}\n              columns={columns}\n              defaultPageSize={25}\n              filterable\n              defaultFilterMethod={filterCaseInsensitive}\n              className=\"-highlight\"\n              loading={loading}\n              LoadingComponent={LoadingComponent}\n            />\n          </StyledWrapper>\n        </main>\n        <footer>\n          <div className=\"footer-wrapper\">\n            <p>Copyright  2019. All rights reserved</p>\n          </div>\n        </footer>\n      </Fragment>\n    );\n  }\n}\n\n\nexport default Databases;\n","import * as d3 from 'd3';\nimport React from 'react';\nimport colors from '../../styles/colors';\nimport styled from 'styled-components';\n\nconst StyledWrapper = styled.div`\n    span {\n        font-size:85%;\n    }\n    br {\n        line-height:0px !important;\n    }\n\n`;\nclass DatasetLegend extends React.Component {\n\n    componentDidMount() {\n        const {data, datasetData, plotId} = this.props;\n        this.plotLegend(data, datasetData, plotId);\n    }\n\n    plotLegend(data, datasetData, plotId) {\n        // formatting the sums\n        for (let i = 0; i < data.length; i++) {\n            // find the dataset name in datasetData to get the ns\n            const ind = datasetData.findIndex(item => item.name === data[i].name);\n            data[i].nCombos = datasetData[ind].nCombos\n            data[i].nDatapoints = datasetData[ind].nDatapoints\n            data[i].nExperiments = datasetData[ind].nExperiments\n        }\n        \n        // getting an array of dataset to sort alphabetically\n        const datasets = []\n        data.forEach((val) => {\n            datasets.push(val.name)\n        })\n        datasets.sort();\n\n        const width = 1050;\n        const height = 110;\n        const svg = d3.select(`#${plotId}`)\n            .append('svg')\n            .attr('fill', 'white')\n            .attr('width', width)\n            .attr('height', height)\n            .attr('id', 'legend')\n            .append('g')\n\n        for (let i = 0; i < datasets.length; i++) {\n            // find the name in the array\n            const ind = data.findIndex(item => item.name === datasets[i]);\n\n            svg.append('rect')\n                .attr('x', i * 150)\n                .attr('y', 10) \n                .attr('width', 15)\n                .attr('height', 15)\n                .style('fill', function() {return data[ind].color})\n                .style('opacity', 0.7);\n\n            svg.append('foreignObject')\n                .attr('x', 20 + (i * 150))\n                .attr('y', 10) \n                .attr('id', `legendLabel${data[ind].name}`)\n                .style('text-anchor', 'start')\n                .style(\"text-align\", \"left\")\n                .style('font-size', 14)\n                .style(\"text-transform\", \"normal\")\n                .style('opacity', 1)\n                .attr('fill', colors.blue_main)\n                .attr(\"width\", 180)\n                .attr(\"height\", 70)\n                .html(function() {return data[ind].name + \"<span>\" +\n                    \"<br> Combos: \" + d3.format(\",\")(data[ind].nCombos)  + \"</br>\" + \n                    \"Experiments: \" + d3.format(\",\") (data[ind].nExperiments) + \n                    \"<br> Datapoints: \" + d3.format(\",\")(data[ind].nDatapoints) + \"</br>\" + \n                    \"</span>\"\n                });\n            }\n    }\n\n    render() {\n        return <StyledWrapper>\n            <div id={this.props.plotId} className=\"plot\" />\n        </StyledWrapper>;\n    }\n    \n}\n\nexport default DatasetLegend;","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport ReactTable from 'react-table';\n// import colors from '../styles/colors';\nimport 'react-table/react-table.css';\nimport ReactLoading from 'react-loading';\n\nimport DonutPlot from './Plots/DonutPlot';\nimport DatasetLegend from './Plots/DatasetLegend';\nimport colors from '../styles/colors';\nimport dataset_stats from '../dataset_stats.json';\n\n// import transitions from '../styles/transitions';\n\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background:white;\n  padding:0px 30px;\n\n  #dsetMiniPlot {\n    margin-left:40px;\n  }\n\n  #dsetLegend {\n    margin: 20px 0px 0px 40px;\n    \n    &span {\n      line-height:5px;\n      font-size:85%;\n    }\n    \n  }\n \n`;\n\nclass Datasets extends Component {\n  constructor() {\n    super();\n    this.state = {\n      databaseData: [],\n      datasetData: [],\n      colorMap: [],\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/datasets/')\n      .then(response => response.json())\n      .then((databaseData) => {\n        this.setState({ databaseData });\n      });\n\n    // fetch('/api/combos/stats')\n    //   .then(response => response.json())\n    //   .then((datasetData) => {\n    //     this.setState({ datasetData: datasetData, loading: false });\n    //   });\n    this.setState({ datasetData: dataset_stats, loading: false });\n  }\n\n  formatData(data, keyName) {\n    // initialize\n    const result = [];\n    data.forEach((val) => {\n      const temp = {};\n      temp.name = val.name;\n      if (keyName === 'Combinations') {\n        temp.num = val.nCombos;\n      } else if (keyName === 'Experiments') {\n        temp.num = val.nExperiments;\n      } else if (keyName === 'Datapoints') {\n        temp.num = val.nDatapoints;\n      }\n      result.push(temp);\n    });\n    return result;\n  }\n\n  legendCallBack = (colorMap) => {\n    this.setState({ colorMap });\n  }\n\n  render() {\n    const {\n      databaseData, datasetData, colorMap, loading,\n    } = this.state;\n    const columns = [{\n      Header: 'Name',\n      accessor: 'name', // String-based value accessors!\n      sortable: false,\n    }, {\n      Header: 'Source',\n      accessor: 'author',\n      sortable: false,\n      Cell: props => <a className=\"hover\" target=\"_blank\" rel=\"noopener noreferrer\" href={`https://www.ncbi.nlm.nih.gov/pubmed/${props.original.pmID}`}>{props.value}</a>,\n\n    }, {\n      Header: '# of cell lines',\n      accessor: 'no_samples',\n      style: { textAlign: 'right' },\n      sortable: true,\n      Cell: props => new Intl.NumberFormat().format(props.value),\n    }, {\n      Header: '# of compounds',\n      accessor: 'no_drugs',\n      style: { textAlign: 'right' },\n      sortable: true,\n      Cell: props => new Intl.NumberFormat().format(props.value),\n    }, {\n      Header: 'Design',\n      accessor: 'combo',\n      sortable: false,\n    }];\n\n    const miniDims = {\n      width: 220,\n      height: 250,\n      radius: 150,\n      rectY: -50,\n      textY: -50,\n      translate: 30,\n    };\n    return (\n      <Fragment>\n        <main className=\"summary\">\n\n          <StyledWrapper className=\"wrapper\">\n            { loading\n              ? (\n                <div className=\"loading-container\">\n                  <ReactLoading type=\"bubbles\" width={150} height={150} color={colors.color_main_2} />\n                </div>\n              )\n              : (\n\n                <Fragment>\n                  <h1>\nDatasets,\n                    {' '}\n                    <i>N</i>\n                    {' '}\n=\n                    {' '}\n                    {datasetData.length.toLocaleString()}\n                  </h1>\n                  {datasetData.length === 0 ? null : (\n                    <Fragment>\n                      <DonutPlot\n                      keyName=\"Combinations\"\n                      plotId=\"dsetMiniPlot\"\n                      dimensions={miniDims}\n                      formatData={this.formatData}\n                      donutData={datasetData}\n                      legendCallBack={this.legendCallBack}\n                    />\n\n                      <DonutPlot\n                      keyName=\"Experiments\"\n                      plotId=\"dsetMiniPlot\"\n                      dimensions={miniDims}\n                      formatData={this.formatData}\n                      donutData={datasetData}\n                      legendCallBack={this.legendCallBack}\n                    />\n\n                      <DonutPlot\n                      keyName=\"Datapoints\"\n                      plotId=\"dsetMiniPlot\"\n                      dimensions={miniDims}\n                      formatData={this.formatData}\n                      donutData={datasetData}\n                      legendCallBack={this.legendCallBack}\n                    />\n                      {colorMap.length === 0 ? null : (\n                      <DatasetLegend\n                        data={colorMap}\n                        datasetData={datasetData}\n                        plotId=\"dsetLegend\"\n                      />\n                    )}\n                    </Fragment>\n                  )}\n                </Fragment>\n              )}\n          </StyledWrapper>\n\n\n          <StyledWrapper className=\"wrapper\">\n            <h1>List of Datasets</h1>\n            <ReactTable\n              data={databaseData}\n              columns={columns}\n              className=\"-highlight\"\n              showPagination={false}\n              defaultPageSize={7}\n              loading={loading}\n            />\n          </StyledWrapper>\n        </main>\n        <footer>\n          <div className=\"footer-wrapper\">\n            <p>Copyright  2019. All rights reserved</p>\n          </div>\n        </footer>\n      </Fragment>\n    );\n  }\n}\n\n\nexport default Datasets;\n","import * as d3 from 'd3';\nimport React from 'react';\n// import colors from '../../styles/colors';\n\nclass BarChart extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const {\n      plotId, formatData, drugsData, datasetData,\n    } = this.props;\n    const data = formatData(drugsData, datasetData);\n    this.plotBarChart(data[0], data[1], plotId);\n  }\n\n\n  plotBarChart(names, nums, plotId) {\n    // positions and dimensions\n    const margin = {\n      top: 20,\n      right: 50,\n      bottom: 90,\n      left: 70,\n    };\n\n    const width = 800;\n    const height = 400;\n    names.unshift('');\n    nums.unshift(0);\n\n    const color = d3.scaleOrdinal(['#e69a61', '#9817ff', '#18c61a', '#33b4ff', '#c9167e', '#297853', '#d7011b', '#7456c7', '#7e6276', '#afb113', '#fd879c', '#fb78fa', '#24c373', '#45bbc5', '#766b21', '#abad93', '#c19ce3', '#fd8f11', '#2f56ff', '#307a11', '#b3483c', '#0d7396', '#94b665', '#9d4d91', '#b807c8', '#086cbf', '#a2abc5', '#a35702', '#d3084b', '#8c6148', '#fa82ce', '#71be42', '#2bc0a0', '#b64064', '#d09fa2', '#daa229', '#5a6f68', '#c1aa5f', '#8943dc', '#b72ba6', '#6e629e', '#e094bf', '#dd8df2', '#c03d0b', '#7db799', '#617046', '#ff8a78', '#1263e2', '#91aaea', '#cea37e', '#9e555c', '#67b4db', '#05767b', '#537428', '#04c553', '#88b3b7', '#ff8d52', '#8abb0b', '#9b43b9', '#c83030', '#6fbc7c', '#596c83', '#926023', '#e9958d', '#a127e3', '#027b36', '#94577d', '#7543f8', '#8257ab', '#c0ab3c', '#416ca4', '#a3b444', '#b53c7e', '#ca2064', '#64c104', '#5662c0', '#c1a0c6', '#5e56e3', '#9cb37c', '#9f573b', '#65bf64', '#7e6839', '#d6a250', '#c0384a', '#75685b', '#657105', '#b1a9a9', '#ab5025', '#ea9940', '#a1a4f9', '#a9409f', '#48745a', '#dd92d5', '#c90392', '#53bcaf', '#c298f9', '#6d668a', '#aa31c0', '#e89777', '#b5ac76', '#8b5f62', '#fb85b9', '#43763f', '#38c18a', '#8ab94c', '#f87fe4', '#e196aa', '#a74b77', '#885997', '#c9a918', '#50c237', '#d50438', '#d2a267', '#acb05e', '#c1a693', '#6d696f', '#b04950', '#ba4327', '#4f7603', '#3a7282', '#2cbada', '#ed990a', '#b24c07']);\n\n    // Add the svg canvas\n    const svg = d3.select(`#${plotId}`)\n      .append('svg')\n      .attr('fill', 'white')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .attr('id', 'Bar')\n      .append('g')\n      .attr('transform',\n        `translate(${margin.left},${margin.top})`);\n\n    // calculating max for data\n    const maxNum = Math.max.apply(null, nums);\n\n    // set range for data by domain, and scale by range\n    const xrange = d3.scaleLinear()\n      .domain([0, names.length])\n      .range([0, width]);\n\n    const yrange = d3.scaleLinear()\n      .domain([0, maxNum + 10])\n      .range([height, 0]);\n\n    // set axes for graph\n    const xAxis = d3.axisBottom()\n      .scale(xrange)\n      .tickPadding(2)\n      .tickFormat((d, i) => names[i])\n      .tickValues(d3.range(names.length));\n\n    const yAxis = d3.axisLeft()\n      .scale(yrange)\n      .tickSize(5);\n    // .tickFormat(d3.format(\"s\"));\n\n    // Add the Y Axis\n    svg.append('g')\n      .attr('class', 'y axis')\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('stroke-width', 1)\n      .call(yAxis)\n      .selectAll('text')\n      .attr('fill', 'black')\n      .style('font-size', 15)\n      .attr('stroke', 'none');\n\n    svg.selectAll('.tick')\n      .select('text')\n      .attr('fill', 'black')\n      .attr('stroke', 'none');\n\n    // Add the X Axis\n    svg.append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(0,${height})`)\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('stroke-width', 1)\n      .call(xAxis)\n      .selectAll('text')\n      .attr('fill', 'black')\n      .style('font-size', 14)\n      .attr('stroke', 'none');\n    // .attr(\"transform\", \"rotate(20)\");\n\n\n    // adding chart group\n    const chart = svg.append('g')\n      .attr('transform', 'translate(0,0)')\n      .attr('id', 'chart');\n\n    // adding each bar\n    const bars = chart.selectAll('.bar')\n      .data(nums)\n      .enter()\n      .append('rect')\n      .attr('class', 'bar')\n      .attr('width', 50)\n      .attr('x', (d, i) => xrange(i) - 25)\n      .attr('y', d => yrange(d))\n      .style('fill', (d, i) => color(i))\n      .attr('height', d => height - yrange(d))\n      .on('mouseover', function (d, i) {\n        d3.select(this).transition()\n          .duration(300).style('opacity', 0.6);\n        d3.select(`#${names[i]}vertnum`).transition()\n          .duration(300).style('opacity', 1);\n        d3.select(this).style('cursor', 'pointer');\n      })\n      .on('mouseout', function (d, i) {\n        d3.select(this).transition()\n          .duration(300).style('opacity', 1);\n        d3.select(`#${names[i]}vertnum`).transition()\n          .duration(300).style('opacity', 0);\n        d3.select(this).style('cursor', 'default');\n      });\n\n    // bars.transition()\n    // .duration(800)\n    // .ease(d3.easeLinear)\n    // .attr('height',function(d){ return height - yrange(d);})\n    // .attr('y', function(d){ return yrange(d)})\n\n\n    // appending text on hover\n    for (let i = 1; i < nums.length; i++) {\n      svg.append('text')\n        .attr('x', xrange(i))\n        .attr('y', `${yrange(nums[i]) - 10}px`)\n        .attr('id', `${names[i]}vertnum`)\n        .style('text-anchor', 'middle')\n        .style('font-size', '13px')\n        .attr('fill', 'black')\n        .style('opacity', 0)\n        .text(nums[i].toLocaleString());\n    }\n  }\n\n  render() {\n    return <div id={this.props.plotId} className=\"plot\" />;\n  }\n}\n\nexport default BarChart;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable react/no-array-index-key */\nimport React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport BarChart from './Plots/BarChart';\n// import colors from '../styles/colors';\n// import transitions from '../styles/transitions';\n\nimport LoadingComponent from './UtilComponents/Loading';\n\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 100%;\n  background:white;\n  padding:0px 30px;\n`;\n\nconst formatData = (drugData, datasetData) => {\n  // return result;\n  const names = []; const\n    nums = [];\n  datasetData.forEach((x) => {\n    names.push(x.name);\n    nums.push(0);\n  });\n\n  drugData.forEach((x) => {\n    const datasets = x.dataset_names.split(',');\n    datasets.forEach((dset) => {\n      const ind = names.findIndex(item => item === dset);\n      nums[ind] += 1;\n    });\n  });\n  return [names, nums];\n};\n\nconst filterCaseInsensitive = (filter, row) => {\n  const id = filter.pivotId || filter.id;\n  switch (typeof row[id]) {\n    case 'object':\n      // checks for metastasis label\n      if (row[id] && row[id].origin) {\n        return String('metastasis').includes(filter.value.toLowerCase());\n      }\n      // checks for disease name (additional check is to filter out null values)\n      return row[id] && row[id].name\n        ? String(row[id].name.toLowerCase()).includes(filter.value.toLowerCase())\n        : false;\n    // handles age filtering\n    case 'number':\n      return row[id].toString().includes(filter.value);\n    case 'string':\n      return String(row[id].toLowerCase()).includes(filter.value.toLowerCase());\n    default:\n      return false;\n  }\n};\n\nclass Drugs extends Component {\n  constructor() {\n    super();\n    this.state = {\n      drugsData: [],\n      loading: true,\n      datasetData: [],\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/drugs/')\n      .then(response => response.json())\n      .then((drugsData) => {\n        // Sorts by presence of ATC code, then by presence of DrugBank id,\n        // then by presence of PubChem id and lastly it sorts drug names alphabetically\n        drugsData.sort((a, b) => {\n          if (a.atcCode && !b.atcCode) {\n            return -1;\n          } if (!a.atcCode && b.atcCode) {\n            return 1;\n          }\n          if (a.idDrugBank && !b.idDrugBank) {\n            return -1;\n          } if (!a.idDrugBank && b.idDrugBank) {\n            return 1;\n          }\n          if (a.idPubChem && !b.idPubChem) {\n            return -1;\n          } if (!a.idPubChem && b.idPubChem) {\n            return 1;\n          }\n          if (a.name > b.name) return 1;\n          if (a.name < b.name) return -1;\n          return 0;\n        });\n        drugsData.forEach((drug) => {\n          if (drug.atcCode) {\n            const atc = drug.atcCode.split(';');\n            drug.atcCode = atc.length > 1 ? atc[0].concat(', ...') : atc[0];\n          }\n        });\n        fetch('/api/datasets')\n          .then(response => response.json())\n          .then((datasetData) => {\n            this.setState({\n              drugsData, loading: false, datasetData,\n            });\n          });\n      });\n  }\n\n  render() {\n    const { drugsData, loading, datasetData } = this.state;\n    const columns = [{\n      Header: 'Name',\n      accessor: 'name', // String-based value accessors!\n      minWidth: 400,\n    }, {\n      Header: 'ATC Code',\n      accessor: 'atcCode',\n    }, {\n      Header: 'PubChem CID',\n      accessor: 'idPubChem',\n      Cell: props => <div style={{ textAlign: 'right' }}><a className=\"hover\" target=\"_blank\" rel=\"noopener noreferrer\" href={`https://pubchem.ncbi.nlm.nih.gov/compound/${props.value}`}>{props.value}</a></div>,\n    }, {\n      Header: 'DrugBank ID',\n      accessor: 'idDrugBank',\n      Cell: props => <a className=\"hover\" target=\"_blank\" rel=\"noopener noreferrer\" href={`https://www.drugbank.ca/drugs/${props.value}`}>{props.value}</a>,\n    }];\n    // const filterCaseInsensitive = (filter, row) => {\n    //   const id = filter.pivotId || filter.id;\n    //   return (\n    //     row[id] !== undefined\n    //       ? String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase())\n    //       : true\n    //   );\n    // };\n    return (\n      <Fragment>\n        {/* <style>{'#root { background: #e7f3f8  !important; }'}</style> */}\n        <main className=\"summary\">\n          <StyledWrapper className=\"wrapper\">\n            <h1>\nCompounds,\n{' '}\n<i>N = {drugsData.length.toLocaleString()}</i>\n</h1>\n            {datasetData.length === 0 ? null : (\n              <BarChart\n                plotId=\"drugPlot\"\n                formatData={formatData}\n                drugsData={drugsData}\n                datasetData={datasetData}\n              />\n            )}\n          </StyledWrapper>\n          <StyledWrapper className=\"wrapper\">\n            <h1>List of Compounds</h1>\n            <ReactTable\n              data={drugsData}\n              columns={columns}\n              sortable={false}\n              defaultPageSize={25}\n              filterable\n              defaultFilterMethod={filterCaseInsensitive}\n              className=\"-highlight\"\n              loading={loading}\n              LoadingComponent={LoadingComponent}\n            />\n          </StyledWrapper>\n        </main>\n        <footer>\n          <div className=\"footer-wrapper\">\n            <p>Copyright  2019. All rights reserved</p>\n          </div>\n        </footer>\n      </Fragment>\n    );\n  }\n}\n\n\nexport default Drugs;\n","/* eslint-disable linebreak-style */\r\n/* eslint-disable max-len */\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport colors from '../styles/colors';\r\n\r\nconst StyledDoc = styled.div`\r\n  padding: 10px;\r\n  main {\r\n    max-width: 1200px;\r\n    padding: 30px;\r\n    text-align: justify;\r\n    font-size: 20px;\r\n    &.documentation {\r\n      background:white;\r\n      font-family: Nunito Sans, sans-serif;\r\n      color:${colors.nav_links};\r\n      h1, h2 {\r\n        margin: 25px 0;\r\n      }\r\n      span {\r\n        font-size: 20px;\r\n      }\r\n      h2 {\r\n        padding:20px 0px;\r\n      }\r\n    }\r\n    ol {\r\n      list-style: none;\r\n      padding: 10px 0;\r\n    }\r\n  } \r\n  footer {\r\n    text-align: center;\r\n    color: ${colors.color_main_2}\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst Documentation = () => (\r\n\r\n  <StyledDoc>\r\n    <main className=\"documentation\">\r\n      <h1>SYNERGxDB</h1>\r\n      <h2>Documentation</h2>\r\n      <span>\r\n        {' '}\r\n        <b>SYNERGxDB</b>\r\n        {' '}\r\n          is a comprehensive database to explore synergistic drug combinations for biomarker discovery.\r\n      </span>\r\n      <ol>\r\n        <li>\r\n          <b>Overview</b>\r\n          <ol>\r\n            <li>\r\n                Many studies have highlighted the use of drug combination approaches in the treatment of tumors, which have been shown to provide aid\r\n                in\r\n              {' '}\r\n              <b>overcoming cancer treatment failures.</b>\r\n              {' '}\r\n                However, the impact of genetics on variability in combo responses for discovering predictive\r\n                and prognostic biomarkers is currently unknown. To help solve this issue, we created\r\n              {' '}\r\n              <b>SYNERGxDB</b>\r\n                , a web-application that possesses the\r\n                largest database of seven collections of pharmacological and molecular profiles of corresponding cell lines (124 cell lines in 11 tissue types and\r\n                1,962 drugs/compounds - 15,268 combinations). This application allows researchers and clinicians to identify\r\n                novel synergistic drug combinations, in order to discover potential prognostic and predictive biomarkers that can help improve\r\n                patient prognosis and selection.\r\n            </li>\r\n          </ol>\r\n\r\n        </li>\r\n        <br />\r\n        <li>\r\n          <b>Features</b>\r\n          <br />\r\n          <ol>\r\n            <li>\r\n              Search: The SYNERGxDB search engine allows users to identify potential biomarkers and novel drug combinations according to\r\n              the predicted synergy scores, by querying for a subset of cell lines or one cell line, first drug in combo, second drug in\r\n              combo, and/or dataset of choice to explore.\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Samples: All of the cell lines in SYNERGxDB are visually represented in a pie-chart based upon the following categories: (age, sex,\r\n              tissues, biopsy). By hovering over each slice of a chart, users can gain additional information about the cell lines (e.g. number\r\n              of cell lines derived from a male). Metadata is provided for each cell line in SYNERGxDB (N = 124), which includes: (cell line name,\r\n              tissue origin, sex, age, associated disease, and\r\n              {' '}\r\n              <i>Cellosaurus</i>\r\n              {' '}\r\n              accession ID).\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Compounds: Metadata is provided for each drug compound in SYNERGxDB (N = 1,962), which includes: (compound name, ATC code, PubChem CID,\r\n              and DrugBank ID). In addition, users may browse drugs with ATC code in tree at the top panel.\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Datasets: Each study (dataset) is summarized through the following characteristics: (dataset name, source of study, number of\r\n              cell lines, number of drug compounds, and concentration design - e.g. 3-by-3 concentrations).\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Synergy scores: Synergy scores are calculated for each drug combo experiment in SYNERGxDB (N = 477,595), which includes:\r\n              (tissue, cell line, first drug in combo, second drug in combo, ZIP, Bliss, Loewe, and HSA).\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Detailed synergy scores: Users are able to delve into the synergy scores calculated for each drug combo experiment through a\r\n              detailed synergy pane. Cumulative density is plotted across all of the synergy scores for a drug combo experiment of interest.\r\n              Experiment consists of sample, drug combo one (compound A) and drug combo two (compound B).\r\n            </li>\r\n            <br />\r\n            <li>\r\n              Synergy matrices are provided for each score that is calculated for an experiment, where concentrations of drugA and drugB and\r\n              corresponding inhibition values (%) are presented. Users are able to further investigate the relationship between each drug\r\n              combination and synergy score through 3D-surface plots, where synergism is depicted through colour intensity. In addition, the\r\n              drug-dose response curves are generated for each drug and cell line combination, along with an inhibition heat map, and computed\r\n              AAC, IC50, and EC50.\r\n            </li>\r\n          </ol>\r\n        </li>\r\n      </ol>\r\n    </main>\r\n    <footer>\r\n      <p>Copyright  2019. All rights reserved</p>\r\n    </footer>\r\n  </StyledDoc>\r\n);\r\n\r\nexport default Documentation;\r\n","/* eslint-disable import/prefer-default-export */\nimport React from 'react';\n\nexport const ComboContext = React.createContext();\n","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\nimport ReactLoading from 'react-loading';\n\nimport colors from '../../styles/colors';\nimport { ComboContext } from '../Context/ComboContext';\n\n\nconst PlotlyContainer = styled.div`\n    min-height: 450px;\n    padding-bottom: 10px;\n    border-bottom: 2px solid ${colors.color_main_3};\n    margin-bottom: 10px;\n    display: flex;\n    flex-direction: column; \n`;\n\n\nconst generateCoordinates = (data, type, comboId) => {\n  const outputCoordinates = {};\n  const rawData = data.filter(item => (item[type] !== null));\n  const sortedData = rawData.sort(\n    (a, b) => (a[type] > b[type] ? 1 : a[type] < b[type] ? -1 : 0),\n  );\n  let value = null;\n  sortedData.some((item, index) => {\n    if (item.comboId === comboId) {\n      value = item[type];\n      outputCoordinates.x = item[type];\n    }\n    // Checks for last item that had same synergy score to define y axis\n    // value !== null instead of value is used to avoid scenerios when value might be zero\n    if (value !== null && value !== item[type]) {\n      outputCoordinates.y = (index) / (sortedData.length - 1);\n      return true;\n    }\n    return false;\n  });\n  return outputCoordinates;\n};\n\n// Checks if there is any data to display in the cumulative density plot\nconst checkSynergyScore = data => data.filter(item => item !== null).length > 1;\n\nclass CumulativeDensity extends React.Component {\n  static contextType = ComboContext\n\n  // _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      bliss: null,\n      loewe: null,\n      hsa: null,\n      zip: null,\n      layout: null,\n      loading: true,\n      displayPlot: true,\n    };\n  }\n\n  // Methods called on loading\n  componentDidMount() {\n    // this._isMounted = true;\n    const {\n      drugsData, comboId, idSource, cellData,\n    } = this.context;\n    const scatterSize = 10;\n\n    fetch(`/api/combos?drugId1=${drugsData[0].idDrug}&drugId2=${drugsData[1].idDrug}&dataset=${idSource}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then((comboData) => {\n        if (comboData.length > 1) {\n          const blissCoordinates = generateCoordinates(comboData, 'bliss', comboId);\n          const zipCoordinates = generateCoordinates(comboData, 'zip', comboId);\n          const hsaCoordinates = generateCoordinates(comboData, 'hsa', comboId);\n          const loeweCoordinates = generateCoordinates(comboData, 'loewe', comboId);\n\n          // if (this._isMounted) {\n          this.setState({\n            loading: false,\n            displayPlot: true,\n            bliss: {\n              x: comboData.map(item => item.bliss),\n              nbinsx: comboData.length,\n              histnorm: 'probability',\n              name: 'Bliss',\n              opacity: 0.35,\n              type: 'histogram',\n              cumulative: { enabled: true },\n              marker: { color: colors.color_main_2 },\n              legendgroup: 'bliss',\n            },\n            blissMarker: {\n              x: [blissCoordinates.x],\n              y: [blissCoordinates.y],\n              name: `${cellData.name} Bliss`,\n              marker: { color: colors.color_main_2, size: scatterSize },\n              showlegend: false,\n              mode: 'markers',\n              type: 'scatter',\n              legendgroup: 'bliss',\n            },\n            loewe: {\n              x: comboData.map(item => item.loewe),\n              nbinsx: comboData.length,\n              histnorm: 'probability',\n              name: 'Loewe',\n              opacity: 0.35,\n              type: 'histogram',\n              cumulative: { enabled: true },\n              marker: { color: colors.color_main_1 },\n              visible: 'legendonly',\n              legendgroup: 'loewe',\n            },\n            loeweMarker: {\n              x: [loeweCoordinates.x],\n              y: [loeweCoordinates.y],\n              name: `${cellData.name} Loewe`,\n              showlegend: false,\n              marker: { color: colors.color_main_1, size: scatterSize },\n              mode: 'markers',\n              type: 'scatter',\n              visible: 'legendonly',\n              legendgroup: 'loewe',\n            },\n            hsa: {\n              x: comboData.map(item => item.hsa),\n              nbinsx: comboData.length,\n              histnorm: 'probability',\n              name: 'HSA',\n              type: 'histogram',\n              opacity: 0.35,\n              cumulative: { enabled: true },\n              marker: { color: colors.color_main_4 },\n              visible: 'legendonly',\n              legendgroup: 'hsa',\n            },\n            hsaMarker: {\n              x: [hsaCoordinates.x],\n              y: [hsaCoordinates.y],\n              showlegend: false,\n              name: `${cellData.name} HSA`,\n              marker: { color: colors.color_main_4, size: scatterSize },\n              mode: 'markers',\n              type: 'scatter',\n              visible: 'legendonly',\n              legendgroup: 'hsa',\n            },\n            zip:\n                {\n                  x: comboData.map(item => item.zip),\n                  nbinsx: comboData.length,\n                  histnorm: 'probability',\n                  type: 'histogram',\n                  name: 'ZIP',\n                  opacity: 0.35,\n                  cumulative: { enabled: true },\n                  marker: { color: colors.color_main_5 },\n                  legendgroup: 'zip',\n                },\n            zipMarker: {\n              x: [zipCoordinates.x],\n              y: [zipCoordinates.y],\n              showlegend: false,\n              name: `${cellData.name} ZIP`,\n              marker: { color: colors.color_main_5, size: scatterSize },\n              mode: 'markers',\n              type: 'scatter',\n              legendgroup: 'zip',\n            },\n            layout: {\n              height: 450,\n              paper_bgcolor: 'white',\n              plot_bgcolor: 'white',\n              yaxis: { title: 'Cumulative density' },\n              xaxis: { title: `Synergy Score (Cell Lines, N=${comboData.length})` },\n              barmode: 'overlay',\n              hovermode: 'closest',\n              font: {\n                size: 16,\n                color: colors.nav_links,\n                family: 'Raleway',\n              },\n              title: {\n                text: `${drugsData[0].name} * ${drugsData[1].name}`,\n                size: 18,\n              },\n            },\n          });\n          // }\n        } else {\n          this.setState({ loading: false, displayPlot: false });\n        }\n      });\n  }\n\n  // componentWillUnmount() {\n  //   this._isMounted = false;\n  // }\n\n  // Render this compoenent\n  render() {\n    const {\n      bliss, loewe, hsa, zip, blissMarker, loeweMarker,\n      hsaMarker, zipMarker, layout, loading, displayPlot,\n    } = this.state;\n    const data = [];\n    if (zip && checkSynergyScore(zip.x)) data.push(zipMarker, zip);\n    if (bliss && checkSynergyScore(bliss.x)) data.push(blissMarker, bliss);\n    if (loewe && checkSynergyScore(loewe.x)) data.push(loeweMarker, loewe);\n    if (hsa && checkSynergyScore(hsa.x)) data.push(hsaMarker, hsa);\n    // const data = [bliss, blissMarker, loewe, loeweMarker, hsa, hsaMarker];\n    // const data = [bliss, loewe, hsa, zip];\n    // const data = [bliss, blissMarker, loewe, loeweMarker, hsa, hsaMarker];\n    return displayPlot ? (\n      <PlotlyContainer className=\"cumulative-container\">\n        { loading\n          ? (\n            <div className=\"loading-container\">\n              <ReactLoading type=\"bubbles\" width={150} height={150} color={colors.color_main_2} />\n            </div>\n          )\n          : (\n            <Plot\n              data={data}\n              layout={layout}\n              graphDiv=\"graph\"\n              config={{\n                responsive: true,\n                displayModeBar: false,\n              }}\n            />\n          )\n          }\n      </PlotlyContainer>\n    ) : null;\n  }\n}\n\nexport default CumulativeDensity;\n","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\n\nimport colors from '../../styles/colors';\nimport { ComboContext } from '../Context/ComboContext';\n\nconst PlotlyContainer = styled.div`\n    min-height: 450px;\n`;\n\nconst types = [\n  { name: 'Bliss', color: colors.color_main_2, accessor: 'bliss_matrix' },\n  { name: 'Loewe', color: colors.color_main_1, accessor: 'loewe_matrix' },\n  { name: 'HSA', color: colors.color_main_4, accessor: 'hsa_matrix' },\n  { name: 'ZIP', color: colors.color_main_5, accessor: 'zip_matrix' },\n];\n\n\nclass Plot3D extends React.Component {\n  static contextType = ComboContext\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      layout: {},\n      display: false,\n    };\n  }\n\n  // Methods called on loading\n  componentDidMount() {\n    this.updatePlotData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { type } = this.props;\n    // Always check if new props are different before updating state to avoid infinite loops\n    if (type !== prevProps.type) {\n      this.updatePlotData();\n    }\n  }\n\n  checkDataValidity(xData, yData) {\n    if (xData.length < 2 || (xData.length === 2 && xData[0] === 0)) {\n      this.setState({ display: false });\n      return false;\n    }\n    if (yData.length < 2 || (yData.length === 2 && yData[0] === 0)) {\n      this.setState({ display: false });\n      return false;\n    }\n    this.setState({ display: true });\n    return true;\n  }\n\n  updatePlotData() {\n    const {\n      data, type,\n    } = this.props;\n    const { drugsData } = this.context;\n    const xData = [...new Set(data.map(item => item.concB))];\n    const yData = [...new Set(data.map(item => item.concA))];\n\n    // Checks if the data enough to render a 3D plot\n    if (this.checkDataValidity(xData, yData)) {\n      const zData = [];\n      let currentConc;\n      data.forEach((item) => {\n        if (item.concA === currentConc) {\n          zData[zData.length - 1].push(item[types[type - 1].accessor] * 100);\n        } else {\n          zData.push([item[types[type - 1].accessor] * 100]);\n          currentConc = item.concA;\n        }\n      });\n      const plotData = [{\n        x: xData,\n        y: yData,\n        z: zData,\n        type: 'surface',\n        contours: {\n          z: {\n            show: true,\n            usecolormap: true,\n            highlightcolor: '#42f462',\n            project: { z: true },\n          },\n        },\n        colorscale: [[0, `${colors.color_accent_1}`], [1, `${types[type - 1].color}`]],\n        colorbar: {\n          exponentformat: 'E',\n        },\n      }];\n      const layout = {\n        margin: {\n          l: 0,\n          r: 0,\n          t: 0,\n          b: 0,\n        },\n        title: {\n          text: types[type - 1].name,\n          size: 18,\n        },\n        scene: {\n          camera: {\n            eye: { x: -1.75, y: -1.75, z: 0.25 },\n          },\n          domain: {\n            x: [0, 2],\n          },\n          xaxis: {\n            title: `${drugsData[0].name}`,\n            type: 'log',\n            tickmode: 'array',\n            tickvals: xData,\n            ticktext: xData,\n            // showticklabels: false,\n            showspikes: false,\n          },\n          yaxis: {\n            title: `${drugsData[1].name}`,\n            type: 'log',\n            tickmode: 'array',\n            tickvals: yData,\n            ticktext: yData,\n            // showticklabels: false,\n            showspikes: false,\n          },\n          zaxis: { title: types[type - 1].name },\n        },\n        autosize: true,\n        paper_bgcolor: 'white',\n        plot_bgcolor: 'white',\n      };\n      this.setState({ data: plotData, layout });\n    }\n  }\n\n  // Render this compoenent\n  render() {\n    const { data, layout, display } = this.state;\n    return display ? (\n      <PlotlyContainer>\n        <Plot\n          graphDiv=\"graph\"\n          config={{ responsive: true }}\n          data={data}\n          layout={layout}\n        />\n      </PlotlyContainer>\n    ) : null;\n  }\n}\n\nPlot3D.propTypes = {\n  type: PropTypes.number\n    .isRequired,\n  data: PropTypes.arrayOf(PropTypes.shape({\n    concA: PropTypes.number.isRequired,\n    concB: PropTypes.number.isRequired,\n  }))\n    .isRequired,\n};\n\nexport default Plot3D;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport ReactTable from 'react-table';\nimport colors from '../styles/colors';\nimport 'react-table/react-table.css';\nimport transitions from '../styles/transitions';\n\nimport Plot3D from './Plots/Plot3D';\n\nimport { ComboContext } from './Context/ComboContext';\n\nconst SynergyContainer = styled.div`\n  padding-bottom: 10px;\n  border-bottom: 2px solid ${colors.color_main_3};\n  margin-bottom: 10px;\n`;\n\n\nconst ButtonContainer = styled.div`\n  display: flex;\n\n  button {\n    font-size: 1.5em;\n    background: ${colors.nav_links};\n    border: 1px solid ${colors.nav_links};\n    padding: 10px 20px;\n    margin: 10px 0;\n    color: #ffffff;\n    transition: ${transitions.main_trans};\n    outline-style: none;\n    vertical-align: middle;\n    -webkit-transform: perspective(1px) translateZ(0);\n    transform: perspective(1px) translateZ(0);\n    box-shadow: 0 0 1px rgba(0, 0, 0, 0);\n    position: relative;\n    -webkit-transition-property: color;\n    transition-property: color;\n    -webkit-transition-duration: 0.3s;\n    transition-duration: 0.3s;\n    flex-grow: 1;\n  \n    &:before {\n      content: \"\";\n      position: absolute;\n      z-index: -1;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: ${colors.button_hover};\n      -webkit-transform: scaleX(0);\n      transform: scaleX(0);\n      -webkit-transform-origin: 0 50%;\n      transform-origin: 0 50%;\n      -webkit-transition-property: transform;\n      transition-property: transform;\n      -webkit-transition-duration: 0.3s;\n      transition-duration: 0.3s;\n      -webkit-transition-timing-function: ease-out;\n      transition-timing-function: ease-out;\n    }\n  \n    &:hover,\n    &:focus,\n    &.active-score {\n      color: white;\n      \n      border: 1px solid ${colors.nav_links};\n      cursor:pointer;\n\n      &:before {\n        -webkit-transform: scaleX(1);\n        transform: scaleX(1);\n      }\n    }\n  }\n`;\n\nclass SynergyMatrices extends Component {\n  static contextType = ComboContext\n\n  constructor() {\n    super();\n    this.state = {\n      selectedType: 0,\n      dataTypes: ['raw_matrix', 'bliss_matrix', 'loewe_matrix', 'hsa_matrix', 'zip_matrix'],\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(selectedType) {\n    this.setState({ selectedType });\n  }\n\n  render() {\n    const { handleClick } = this;\n    const { drugsData, cellData, synergyData } = this.context;\n    const {\n      dataTypes, selectedType,\n    } = this.state;\n    const generateTable = () => {\n      const comboInfo = {};\n      synergyData.forEach((item) => {\n        // eslint-disable-next-line no-unused-expressions\n        comboInfo[item.concA] === undefined\n          ? comboInfo[item.concA] = [{\n            concB: item.concB, [dataTypes[selectedType]]: item[dataTypes[selectedType]],\n          }]\n          : comboInfo[item.concA].push({\n            concB: item.concB, [dataTypes[selectedType]]: item[dataTypes[selectedType]],\n          });\n      });\n      const concBArray = [...new Set(synergyData.map(item => item.concB))];\n      // Building column structure\n      const subcolumns = concBArray.map((item, index) => ({\n        Header: `${item} M`,\n        accessor: `${dataTypes[selectedType]}.${index}`,\n        Cell: props => <div style={{ textAlign: 'center' }}>{props.value !== null ? props.value.toFixed(3) : '-'}</div>,\n      }));\n      const columns = [{\n        Header: `${cellData.name}`,\n        headerClassName: 'header-name',\n        accessor: 'key',\n        columns: [{\n          Header: `${drugsData[0].name}`,\n          headerClassName: 'header-name',\n          accessor: 'key',\n          Cell: props => (\n            <div className=\"raw-names\">\n              {props.value}\n              {' '}\n              M\n            </div>\n          ),\n        }],\n      }, {\n        Header: `${drugsData[1].name}`,\n        headerClassName: 'header-name',\n        columns: subcolumns,\n      }];\n      // Format the data to be usable by react table\n      const tableData = Object.entries(comboInfo).map((item) => {\n        const scoreObj = {};\n        item[1].forEach((conc, index) => {\n          scoreObj[index] = conc[dataTypes[selectedType]];\n        });\n        return ({ key: item[0], [dataTypes[selectedType]]: scoreObj });\n      });\n\n      return (\n        <ReactTable\n          data={tableData}\n          columns={columns}\n          showPagination={false}\n          sortable={false}\n          defaultPageSize={tableData.length}\n          className=\"-highlight\"\n        />\n      );\n    };\n\n    // checks if there is any dat for the given synergy score\n    const scoreExist = accessor => synergyData.every(item => item[accessor] !== null);\n    return (\n      <SynergyContainer>\n        <h2>Synergy Matrices</h2>\n        <ButtonContainer>\n          <button\n            type=\"button\"\n            onClick={() => handleClick(0)}\n            className={selectedType === 0 ? 'active-score' : null}\n          >\n            Input\n          </button>\n          { scoreExist('zip_matrix')\n            ? (\n              <button\n                type=\"button\"\n                onClick={() => handleClick(4)}\n                className={selectedType === 4 ? 'active-score' : null}\n              >\n                ZIP\n              </button>\n            ) : null }\n          { scoreExist('bliss_matrix')\n            ? (\n              <button\n                type=\"button\"\n                onClick={() => handleClick(1)}\n                className={selectedType === 1 ? 'active-score' : null}\n              >\n                Bliss\n              </button>\n            ) : null }\n\n          { scoreExist('loewe_matrix')\n            ? (\n              <button\n                type=\"button\"\n                onClick={() => handleClick(2)}\n                className={selectedType === 2 ? 'active-score' : null}\n              >\n                Loewe\n              </button>\n            ) : null }\n\n          { scoreExist('hsa_matrix')\n            ? (\n              <button\n                type=\"button\"\n                onClick={() => handleClick(3)}\n                className={selectedType === 3 ? 'active-score' : null}\n              >\n                HSA\n              </button>\n            ) : null }\n\n        </ButtonContainer>\n        {synergyData.length > 0 ? generateTable() : null}\n        {synergyData.length > 0 && selectedType !== 0\n          ? (\n            <Plot3D\n              data={synergyData}\n              type={selectedType}\n            />\n          ) : null}\n      </SynergyContainer>\n    );\n  }\n}\n\nexport default SynergyMatrices;\n","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nimport { ComboContext } from '../Context/ComboContext';\nimport colors from '../../styles/colors';\n\nconst StyledDiv = styled.div`\n    grid-column: 1;\n    height: 250px;\n`;\n\nconst standarizeData = (num) => {\n  let output = num;\n  if (output > 100) output = 100;\n  if (output < 0) output = 0;\n  return output;\n};\n\n// This plot is just a prototype (viability data has to be found)\nclass SingleAgentPlot extends React.Component {\n  static contextType = ComboContext\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      layout: {},\n    };\n  }\n\n  componentDidMount() {\n    const { drugA } = this.props;\n    const { synergyData, cellData, drugsData } = this.context;\n    const monoDrugData = synergyData.filter(item => (drugA ? item.concB === 0 : item.concA === 0));\n    monoDrugData.shift();\n    const inhibData = monoDrugData.map(item => standarizeData(item.raw_matrix * 100));\n    const concData = monoDrugData.map(item => (drugA ? item.concA : item.concB));\n    const drugName = drugA ? drugsData[0].name : drugsData[1].name;\n    const hoverData = monoDrugData.map(item => `${standarizeData(item.raw_matrix * 100).toFixed(2)}% viability (${drugA ? item.concA : item.concB} M ${drugName})`);\n    const data = [{\n      type: 'scatter',\n      x: concData,\n      y: inhibData,\n      line: {\n        color: colors.color_main_1,\n        shape: 'spline',\n        smoothing: 1.3,\n      },\n      hoverinfo: 'text',\n      hovertext: hoverData,\n    }];\n    const layout = {\n      title: {\n        text: `${cellData.name} treated with ${drugName}`,\n        font: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 18,\n        },\n      },\n      hovermode: 'closest',\n      autosize: true,\n      height: 250,\n      margin: {\n        l: 50,\n        r: 0,\n        t: 30,\n        b: 55,\n      },\n      xaxis: {\n        title: {\n          text: 'Concentration (M)',\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 16,\n          },\n        },\n        color: colors.color_main_1,\n        tickcolor: colors.color_main_1,\n        linecolor: colors.color_main_1,\n        fixedrange: true,\n        type: 'log',\n        tickmode: 'array',\n        tickvals: concData,\n        ticktext: concData,\n        tickfont: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 13,\n        },\n      },\n      yaxis: {\n        title: {\n          text: 'Viablity (%)',\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 16,\n          },\n        },\n        color: colors.color_main_1,\n        tickcolor: colors.color_main_1,\n        linecolor: colors.color_main_1,\n        range: [0, 105],\n        fixedrange: true,\n        tickfont: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 13,\n        },\n      },\n    };\n    this.setState({ data, layout });\n  }\n\n  // Render this compoenent\n  render() {\n    const { data, layout } = this.state;\n    return (\n      <StyledDiv>\n        <Plot\n          graphDiv=\"graph\"\n          config={{\n            responsive: true,\n            displayModeBar: false,\n          }}\n          data={data}\n          layout={layout}\n        />\n      </StyledDiv>\n    );\n  }\n}\n\nSingleAgentPlot.propTypes = {\n  drugA: PropTypes.bool.isRequired,\n};\n\nexport default SingleAgentPlot;\n","/* eslint-disable no-plusplus */\n/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\n\nimport { ComboContext } from '../Context/ComboContext';\n\nimport colors from '../../styles/colors';\n\nconst StyledDiv = styled.div`\n    grid-column: 2;\n    grid-row: 1/3;\n    .js-plotly-plot {\n      height: 100%;\n    }\n`;\n\n\nconst standarizeData = (num) => {\n  if (num !== null) {\n    const output = num * 100;\n    if (output > 100) return '100';\n    if (output < 0) return '0';\n    return output.toFixed(2);\n  }\n  return '-';\n};\n\nclass ViabilityHeatMap extends React.Component {\n  static contextType = ComboContext\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      layout: {\n        autosize: true,\n        margin: {\n          l: 65,\n          r: 0,\n          t: 30,\n          b: 50,\n        },\n      },\n\n    };\n  }\n\n  componentDidMount() {\n    const { synergyData } = this.context;\n    const { cellData, drugsData } = this.context;\n    const plotData = [];\n    const hoverData = [];\n    let currentConc;\n\n    const xData = [];\n    const yData = [];\n    let xCounter = 0;\n    let yCounter = 0;\n    const annotationData = [];\n\n    synergyData.forEach((item) => {\n      const hoverStr = `${item.concA} M of ${drugsData[0].name} and ${item.concB} M of ${drugsData[1].name}`;\n      annotationData.push(standarizeData(item.raw_matrix));\n      if (item.concA === currentConc) {\n        plotData[plotData.length - 1].push(item.raw_matrix * 100);\n        hoverData[hoverData.length - 1].push(hoverStr);\n        xCounter++;\n        xData.push(xCounter);\n        yData.push(yCounter - 1);\n      } else {\n        plotData.push([item.raw_matrix * 100]);\n        hoverData.push([hoverStr]);\n        currentConc = item.concA;\n        xCounter = 0;\n        yCounter++;\n        xData.push(xCounter);\n        yData.push(yCounter - 1);\n      }\n    });\n    const heatMap = {\n      z: plotData,\n      customdata: plotData,\n      text: plotData,\n      type: 'heatmap',\n      hoverinfo: 'text',\n      hovertext: hoverData,\n      colorscale: [[0, colors.color_main_3], [1, colors.color_main_5]],\n      colorbar: {\n        tickcolor: colors.color_main_1,\n        tickfont: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 13,\n        },\n        ypad: 0,\n        title: {\n          text: 'Viability, %',\n          side: 'right',\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 16,\n          },\n        },\n      },\n      zmin: 0,\n      zmax: 100,\n    };\n    const annotations = {\n      x: xData,\n      y: yData,\n      mode: 'text',\n      text: annotationData,\n      type: 'scattergl',\n      font: {\n        family: 'Nunito Sans, sans-serif',\n        color: colors.color_main_1,\n        size: 18,\n      },\n      hoverinfo: 'skip',\n    };\n\n    this.setState(prevState => ({\n      data: [heatMap, annotations],\n      layout: {\n        ...prevState.layout,\n        title: {\n          text: cellData.name,\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 18,\n          },\n        },\n        xaxis: {\n          fixedrange: true,\n          title: {\n            text: `${drugsData[1].name} (M)`,\n            font: {\n              family: 'Nunito Sans, sans-serif',\n              color: colors.color_main_1,\n              size: 16,\n            },\n          },\n          tickmode: 'array',\n          tickvals: [...new Set(xData)],\n          ticktext: [...new Set(synergyData.map(item => item.concB))],\n          tickfont: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 13,\n          },\n        },\n        yaxis: {\n          fixedrange: true,\n          title: {\n            text: `${drugsData[0].name} (M)`,\n            font: {\n              family: 'Nunito Sans, sans-serif',\n              color: colors.color_main_1,\n              size: 16,\n            },\n          },\n          tickmode: 'array',\n          tickvals: [...new Set(yData)],\n          ticktext: [...new Set(synergyData.map(item => item.concA))],\n          tickfont: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 13,\n          },\n        },\n      },\n    }));\n  }\n\n  // Render this compoenent\n  render() {\n    const { data, layout } = this.state;\n    return (\n      <StyledDiv>\n        <Plot\n          data={data}\n          layout={layout}\n          config={{\n            responsive: true,\n            displayModeBar: false,\n          }}\n        />\n      </StyledDiv>\n    );\n  }\n}\n\nexport default ViabilityHeatMap;\n","import React from 'react';\nimport styled from 'styled-components';\n// import SingleDrugInhibitionPlot from './Plots/SingleDrugInhibitionPlot';\nimport SingleAgentPlot from './Plots/SingleAgentPlot';\nimport InhibitionHeatMap from './Plots/InhibitionHeatMap';\n\nimport colors from '../styles/colors';\n\nconst StyledContainer = styled.div`\n    padding-bottom: 10px;\n    // border-bottom: 2px solid ${colors.color_main_3};\n    margin-bottom: 10px;\n`;\n\nconst InhibitionContainer = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 10px;\n    width: 100%;\n    height: 510px;\n    padding: 0;\n    margin: 20px 0;\n`;\n\n\nfunction SynergisticInhibition(props) {\n  const { dataAvailable } = props;\n\n  if (dataAvailable) {\n    return (\n      <StyledContainer>\n        <h2>Synergistic Inhibition</h2>\n        <InhibitionContainer>\n          <SingleAgentPlot drugA />\n          <SingleAgentPlot drugA={false} />\n          <InhibitionHeatMap />\n        </InhibitionContainer>\n      </StyledContainer>\n    );\n  }\n  return (\n    <StyledContainer>\n      <h2>Synergistic Inhibition</h2>\n      <InhibitionHeatMap />\n    </StyledContainer>\n  );\n}\n\nexport default SynergisticInhibition;\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable react/no-unused-state */\nimport React, { Component, Fragment } from 'react';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\nimport styled from 'styled-components';\n// import Loading from 'react-loading-components';\n\nimport colors from '../styles/colors';\nimport cellosaurus from '../images/logos/cellosaurus.jpg';\nimport drugbank from '../images/logos/drugbank.png';\nimport pubchem from '../images/logos/pubchem.gif';\nimport pubmed from '../images/logos/pubmed.jpeg';\n\n\nimport CumulativeDensity from './Plots/CumulativeDensity';\nimport SynergyMatrices from './SynergyMatrices';\nimport { ComboContext } from './Context/ComboContext';\nimport SynergisticInhibition from './SynergisticInhibition';\n// import SingleAgents from './SingleAgents';\n\n\nconst StyledSummary = styled.div`\n  color:${colors.nav_links};\n  p {\n    font-weight: 400;\n    font-size: 1.2rem;\n  }\n`;\nconst StyledHeader = styled.div`\n  min-height: 300px;\n  display: flex;\n  flex-direction: column; \n`;\n\nconst SynergyDetail = styled.div`\n  align-self: flex-start;\n  margin: 10px;\n  background:white;\n  padding:0px 30px;\n  width: 100%;\n`;\n\nconst Logo = styled.img`\n  max-height: 1.5rem;\n  width: auto;\n  display: inline-block;\n  vertical-align:middle;\n}\n`;\nexport default class ComboDetails extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      cellData: null,\n      drugsData: null,\n      sourceData: null,\n      comboId: null,\n      idSource: null,\n      loadingSummary: true,\n      synergyData: null,\n      loadingSynergyData: true,\n      isDataAvailable: false,\n    };\n  }\n\n  componentDidMount() {\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      idSource, idDrugA, idDrugB, idSample, comboId,\n    } = requestParams;\n\n    this.setState({\n      comboId: parseInt(comboId, 10),\n      idSource: parseInt(idSource, 10),\n      idSample: parseInt(idSample, 10),\n    });\n\n    fetch(`/api/cell_lines/info?idSample=${idSample}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then((cellData) => {\n        this.setState({ cellData });\n      });\n    fetch(`/api/drugs/info?idDrugA=${idDrugA}&idDrugB=${idDrugB}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then((drugsData) => {\n\n        this.setState({ drugsData });\n      });\n    fetch(`/api/datasets?idSource=${idSource}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then((sourceData) => {\n        this.setState({ sourceData });\n      });\n    fetch(`/api/combos/matrix?comboId=${comboId}&idSource=${idSource}`)\n      .then(response => response.json())\n      .then((data) => {\n        // Sorts data this step is required for some datasets\n        // to standarize data for synergy table and heat map\n        const setConcA = [...new Set(data.map(item => item.concA))].sort((a, b) => a - b);\n        const setConcB = [...new Set(data.map(item => item.concB))].sort((a, b) => a - b);\n        // setConcA.sort((a, b) => a - b);\n        // setConcB.sort((a, b) => a - b);\n        const sortedData = data.sort((a, b) => {\n          if (a.concA > b.concA) {\n            return 1;\n          } if (a.concA === b.concA) {\n            return a.concB > b.concB ? 1 : -1;\n          }\n          return -1;\n        });\n        let indexCounter = 0;\n        const synergyData = [];\n        setConcA.forEach((concA) => {\n          setConcB.forEach((concB) => {\n            if (sortedData[indexCounter]\n              && sortedData[indexCounter].concA === concA\n              && sortedData[indexCounter].concB === concB) {\n              indexCounter += 1;\n              synergyData.push(sortedData[indexCounter - 1]);\n            } else {\n              synergyData.push({\n                concA,\n                concB,\n                raw_matrix: null,\n                bliss_matrix: null,\n                hsa_matrix: null,\n                idSource: sortedData[indexCounter - 1].idSource,\n                loewe_matrix: null,\n                zip_matrix: null,\n              });\n            }\n          });\n        });\n        this.setState({ synergyData, loadingSynergyData: false, isDataAvailable: true });\n      });\n\n    fetch(\"/api/combos/stats\")\n    .then(response => response.json())\n    .then((data) => {\n    })\n  }\n\n  componentDidUpdate() {\n    const {\n      sourceData, drugsData, cellData, loadingSummary,\n    } = this.state;\n    if (sourceData && drugsData && cellData && loadingSummary) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ loadingSummary: false });\n    }\n  }\n\n  render() {\n    const {\n      cellData, drugsData, sourceData, loadingSummary, loadingSynergyData, isDataAvailable,\n    } = this.state;\n\n\n    return (\n\n\n      <main className=\"summary\">\n        <SynergyDetail>\n          <StyledHeader>\n            {loadingSummary\n              ? null\n              : (\n                <Fragment>\n                  <h1>Drug combination synergy</h1>\n                  <h2>Combo Summary</h2>\n                  <StyledSummary>\n                    <p>\n                    Sample:\n                      {' '}\n                      <b>\n                        {cellData.name ? cellData.name.toUpperCase() : null}\n                      </b>\n                    ,\n                      {' '}\n                      {cellData.disease}\n                      {' '}\n                      <a className=\"hover\" href={`https://web.expasy.org/cellosaurus/${cellData.idCellosaurus}`} rel=\"noopener noreferrer\" target=\"_blank\">\n                        {' '}\n                        <Logo src={cellosaurus} alt=\"Cellosaurus\" />\n                      </a>\n                    </p>\n                    <p>\n                    Drug A:\n                      {' '}\n                      {drugsData.length > 0 ? (\n                        <span>\n                          <b>\n                            {drugsData[0].name}\n                          </b>\n                        ,\n                          {' '}\n                          {drugsData[0].description}\n                          {' '}\n                          <a className=\"hover\" href={`https://pubchem.ncbi.nlm.nih.gov/compound/${drugsData[0].idPubChem}`} rel=\"noopener noreferrer\" target=\"_blank\">\n                            {' '}\n                            <Logo src={pubchem} alt=\"Pubchem\" />\n                          </a>\n                          {' '}\n                          <a className=\"hover\" href={`https://www.drugbank.ca/drugs/${drugsData[0].idDrugBank}`} rel=\"noopener noreferrer\" target=\"_blank\"><Logo src={drugbank} alt=\"Drug Bank\" /></a>\n                        </span>\n                      ) : null}\n                    </p>\n                    <p>\n                    Drug B:\n                      {' '}\n                      {drugsData.length > 0 ? (\n                        <span>\n                          <b>\n                            {drugsData[1].name}\n                          </b>\n                          ,\n                          {' '}\n                          {drugsData[1].description}\n                          {' '}\n                          <a className=\"hover\" href={`https://pubchem.ncbi.nlm.nih.gov/compound/${drugsData[1].idPubChem}`} rel=\"noopener noreferrer\" target=\"_blank\">\n                            {' '}\n                            <Logo src={pubchem} alt=\"Pubchem\" />\n                          </a>\n                          {' '}\n                          <a className=\"hover\" href={`https://www.drugbank.ca/drugs/${drugsData[1].idDrugBank}`} rel=\"noopener noreferrer\" target=\"_blank\"><Logo src={drugbank} alt=\"Drug Bank\" /></a>\n                        </span>\n                      ) : null}\n                    </p>\n                    <p>\n                    Source:\n                      {' '}\n                      <b>\n                        {sourceData.name}\n                      </b>\n                      {' '}\n                      <a className=\"hover\" href={`https://www.ncbi.nlm.nih.gov/pubmed/${sourceData.pmID}`} rel=\"noopener noreferrer\" target=\"_blank\">\n                        {' '}\n                        <Logo src={pubmed} alt=\"Pubmed\" />\n                      </a>\n                    </p>\n                  </StyledSummary>\n                </Fragment>\n              )\n            }\n          </StyledHeader>\n          {loadingSummary || loadingSynergyData\n            ? null\n            : (isDataAvailable ? (\n              <ComboContext.Provider value={this.state}>\n                <CumulativeDensity />\n                <SynergyMatrices />\n                <SynergisticInhibition dataAvailable={isDataAvailable} />\n                {/* <SingleAgents /> */}\n              </ComboContext.Provider>\n            ) : (\n              <ComboContext.Provider value={this.state}>\n                <SynergyMatrices />\n                <SynergisticInhibition dataAvailable={isDataAvailable} />\n              </ComboContext.Provider>\n            )\n            )}\n        </SynergyDetail>\n      </main>\n\n    );\n  }\n}\n","/* eslint-disable no-console */\n/* eslint-disable react/require-default-props */\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport colors from '../../styles/colors';\n\nconst QueryDiv = styled.div`\n  width: 100%;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:30px;\n  font-size:18px;\n  color: ${colors.blue_main};\n  .query-container {\n    display:flex;\n  }\n  .col {\n    position:inherit;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n  }\n`;\n\nclass QueryCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      datasetName: 'Any',\n      drugName1: 'Any',\n      drugName2: 'Any',\n      cellLineName: 'Any',\n    };\n    // this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = this.props;\n    if (drugId1) {\n      fetch('/api/drugs/'.concat(drugId1))\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ drugName1: data[0].name });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n\n    if (drugId2) {\n      fetch('/api/drugs/'.concat(drugId2))\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ drugName2: data[0].name });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    if (dataset) {\n      fetch('/api/datasets/'.concat(dataset))\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ datasetName: data[0].name });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n\n    if (sample) {\n      if (parseInt(sample, 10)) {\n        fetch('/api/cell_lines/'.concat(sample))\n          .then(response => response.json())\n          .then((data) => {\n            this.setState({ cellLineName: data[0].name });\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } else {\n        this.setState({ cellLineName: sample.toUpperCase() });\n      }\n    }\n  }\n\n  render() {\n    const {\n      cellLineName,\n      datasetName,\n      drugName1,\n      drugName2,\n    } = this.state;\n    return (\n      <QueryDiv>\n        <h2>\n          Query:\n        </h2>\n        <div className=\"query-container\">\n          <div className=\"col\">\n            <b>Cell Line:</b>\n            {' '}\n            {cellLineName}\n            <p />\n            <b>Dataset:</b>\n            {' '}\n            {datasetName}\n          </div>\n          <div className=\"col\">\n            <b>Drug A: </b>\n            {' '}\n            {drugName1}\n            <p />\n            <b>Drug B:</b>\n            {' '}\n            {drugName2}\n            <p />\n          </div>\n        </div>\n      </QueryDiv>\n    );\n  }\n}\n\nQueryCard.propTypes = {\n  drugId1: PropTypes.string,\n  drugId2: PropTypes.string,\n  dataset: PropTypes.string,\n  sample: PropTypes.string,\n};\n\nexport default QueryCard;\n","/* eslint-disable react/no-unused-state */\n/* eslint-disable max-len */\n/* eslint-disable react/no-array-index-key */\nimport React, { Component } from 'react';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\nimport styled from 'styled-components';\nimport ReactTable from 'react-table';\n\nimport colors from '../styles/colors';\nimport 'react-table/react-table.css';\n// import transitions from '../styles/transitions';\n\nimport LoadingComponent from './UtilComponents/Loading';\nimport QueryCard from './UtilComponents/QueryCard';\n\nconst SynergyDiv = styled.div`\n  width: 100%;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:30px;\n  .rt-tr-group:hover {\n    background-color: ${colors.summary_bg}\n  }\n`;\n\nconst ButtonsDiv = styled.div`\n  width:100%;\n  background:white;\n  padding: 20px 30px;\n  margin-bottom:30px;\n  font-size:18px;\n  display: flex;\n  align-items:center;\n\n  a {\n    height:70px;\n    background:${colors.blue_main};\n    color: white;\n    flex:1;\n    margin:0px 10px;\n    padding: 15px;\n    font-weight:700;\n    text-align:center;\n  }\n`;\n\nclass ComboResults extends Component {\n  static propTypes = {\n    history: ReactRouterPropTypes.history.isRequired,\n    location: ReactRouterPropTypes.location.isRequired,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      results: [],\n      drugId1: null,\n      drugId2: null,\n      loading: true,\n      dataset: null,\n      datasetName: 'Any',\n      drugName1: 'Any',\n      drugName2: 'Any',\n      cellLineName: 'Any',\n      queryParams: '',\n    };\n    this.handleCombo = this.handleCombo.bind(this);\n  }\n\n  componentDidMount() {\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = requestParams;\n    let queryParams = '?';\n\n    this.setState({\n      drugId1: parseInt(drugId1, 10),\n      drugId2: parseInt(drugId2, 10),\n      dataset: parseInt(dataset, 10),\n    });\n    if (sample) queryParams = queryParams.concat(`&sample=${sample}`);\n    if (dataset) queryParams = queryParams.concat(`&dataset=${dataset}`);\n    if (drugId1) queryParams = queryParams.concat(`&drugId1=${drugId1}`);\n    if (drugId2) queryParams = queryParams.concat(`&drugId2=${drugId2}`);\n\n    this.setState({ queryParams });\n\n    fetch('/api/combos'.concat(queryParams), {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(response => response.json())\n      .then((data) => {\n        this.setState({ results: data, loading: false });\n      });\n  }\n\n  handleCombo(index) {\n    const { history } = this.props;\n    const {\n      results,\n    } = this.state;\n    const {\n      idSource, idDrugA, idDrugB, idSample, comboId,\n    } = results[index];\n\n\n    // Redirects user to combo details page\n    history.push(`/drug_combo?idSource=${idSource}&idDrugA=${idDrugA}&idDrugB=${idDrugB}&idSample=${idSample}&comboId=${comboId}`);\n  }\n\n  render() {\n    const {\n      results, loading,\n      queryParams,\n    } = this.state;\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = requestParams;\n\n    const { handleCombo } = this;\n    // const showBiomarker = typeof drugId2 === 'number' && <Biomarkers drugId1={drugId1} drugId2={drugId2} sourceName={results} dataset={dataset} />;\n    const totalSynergyScores = results.length;\n    // Process zip, hsa, loewe and bliss scores into renderable format\n    const showScore = (props) => {\n      // eslint-disable-next-line no-nested-ternary\n      const score = props.value ? (props.value > 0 ? props.value.toFixed(4) : props.value.toFixed(3)) : null;\n      return (\n        <div className=\"score\">\n          {score >= 0.2 ? <span className=\"high-score\">{score}</span> : <span>{score}</span>}\n        </div>\n      );\n    };\n\n    const columns = [{\n      Header: 'Tissue',\n      accessor: 'tissue', // String-based value accessors!\n      Cell: props => <span>{props.value.toUpperCase()}</span>,\n    }, {\n      Header: 'Cell Line',\n      accessor: 'sampleName',\n      Cell: props => <span>{props.value.toUpperCase()}</span>,\n    }, {\n      Header: () => (\n        <span>\n          Drug\n          {' '}\n          <em>A</em>\n        </span>\n      ),\n      accessor: 'drugNameA',\n    }, {\n      Header: () => (\n        <span>\n          Drug\n          {' '}\n          <em>B</em>\n        </span>\n      ),\n      accessor: 'drugNameB',\n    }, {\n      Header: 'ZIP',\n      accessor: 'zip',\n      Cell: props => showScore(props),\n      filterable: false,\n      sortable: true,\n    }, {\n      Header: 'Bliss',\n      accessor: 'bliss',\n      Cell: props => showScore(props),\n      filterable: false,\n      sortable: true,\n    }, {\n      Header: 'Loewe',\n      accessor: 'loewe',\n      Cell: props => showScore(props),\n      filterable: false,\n      sortable: true,\n    }, {\n      Header: 'HSA',\n      accessor: 'hsa',\n      Cell: props => showScore(props),\n      filterable: false,\n      sortable: true,\n    }, {\n      Header: 'Source',\n      accessor: 'sourceName',\n    }];\n    const filterCaseInsensitive = (filter, row) => {\n      const id = filter.pivotId || filter.id;\n      return (\n        row[id] !== undefined\n          ? String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase())\n          : true\n      );\n    };\n    return (\n      <main>\n        <QueryCard\n          drugId1={drugId1}\n          drugId2={drugId2}\n          dataset={dataset}\n          sample={sample}\n        />\n        <ButtonsDiv>\n          <a href={`/biomarker${queryParams}`}>\n            Biomarker\n            {' '}\n            <br />\n            {' '}\n            Discovery\n          </a>\n          <a href={`/sensitivity${queryParams}`}>\n            Cell Line\n            {' '}\n            <br />\n            Sensitivity Analysis\n          </a>\n          <a href={`/enrichment${queryParams}`}>\n            Tissue-Specific\n            {' '}\n            <br />\n            Enrichment Analysis\n          </a>\n          <a href={`/consistency${queryParams}`}>\n            Consistency in\n            {' '}\n            <br />\n            Synergy Scores\n          </a>\n        </ButtonsDiv>\n\n        {/* {showBiomarker} */}\n        <SynergyDiv>\n          <h2>\n            Synergy Scores, N=\n            {totalSynergyScores}\n          </h2>\n          <ReactTable\n            loading={loading}\n            LoadingComponent={LoadingComponent}\n            data={results}\n            columns={columns}\n            sortable={false}\n            defaultPageSize={25}\n            filterable\n            defaultFilterMethod={filterCaseInsensitive}\n            className=\" -highlight\"\n            getTdProps={(state, rowInfo) => ({\n              onClick: (e, handleOriginal) => {\n                if (rowInfo) handleCombo(rowInfo.index);\n                // IMPORTANT! React-Table uses onClick internally to trigger\n                // events like expanding SubComponents and pivots.\n                // By default a custom 'onClick' handler will override this functionality.\n                // If you want to fire the original onClick handler, call the\n                // 'handleOriginal' function.\n                if (handleOriginal) {\n                  handleOriginal();\n                }\n              },\n            })\n            }\n          />\n        </SynergyDiv>\n      </main>\n    );\n  }\n}\n\nexport default ComboResults;\n","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport regression from 'regression';\n\nimport colors from '../../styles/colors';\n\n\nconst PlotlyContainer = styled.div`\n    height: 450px;\n    width: 100%;\n    display: flex;\n    flex-direction: column; \n`;\n\nclass ExpressionProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      layout: null,\n    };\n  }\n\n  // Methods called on loading\n  componentDidMount() {\n    this.updatePlotData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { selectedBiomarker, threshold } = this.props;\n    if (selectedBiomarker !== prevProps.selectedBiomarker || threshold !== prevProps.threshold) {\n      this.updatePlotData();\n    }\n  }\n\n\n  updatePlotData() {\n    const {\n      biomarkerData, selectedBiomarker, dimensions, xRange, yRange, threshold,\n    } = this.props;\n\n    // calculates coefficients for best fit line\n    const regressionData = Object.values(biomarkerData).map(item => [item.fpkm, item.zip]);\n    const bestFitCoefficients = regression.linear(regressionData);\n\n    const datapoints = {\n      x: Object.values(biomarkerData).map(item => item.fpkm),\n      y: Object.values(biomarkerData).map(item => item.zip),\n      name: 'Cell line',\n      marker: {\n        color: colors.color_main_2,\n        size: 7,\n      },\n      showlegend: false,\n      mode: 'markers',\n      type: 'scatter',\n      hoverinfo: 'text',\n      hovertext: Object.values(biomarkerData).map(item => `${item.fpkm} (${item.cellName})`),\n    };\n    const data = [datapoints];\n    // Renders best fit line using previously calculated coefficients\n    const bestFitLine = {\n      x: xRange,\n      y: [\n        xRange[0] * bestFitCoefficients.equation[0] + bestFitCoefficients.equation[1],\n        xRange[1] * bestFitCoefficients.equation[0] + bestFitCoefficients.equation[1],\n      ],\n      mode: 'lines',\n      type: 'scatter',\n      showlegend: false,\n      marker: {\n        color: colors.color_main_5,\n      },\n      hoverinfo: 'none',\n    };\n    data.unshift(bestFitLine);\n\n    const thresholdLine = {\n      x: xRange,\n      y: [\n        threshold,\n        threshold,\n      ],\n      mode: 'lines',\n      type: 'scatter',\n      showlegend: false,\n      marker: {\n        color: 'black',\n      },\n      hoverinfo: 'none',\n    };\n    data.push(thresholdLine);\n\n    const layout = {\n      height: 450,\n      autosize: true,\n      title: {\n        text: `ZIP x ${selectedBiomarker}`,\n        font: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 18,\n        },\n      },\n      font: {\n        size: 16,\n        color: colors.nav_links,\n        family: 'Raleway',\n      },\n      margin: {\n        l: dimensions.left,\n        r: 10,\n        t: dimensions.top,\n        b: dimensions.bottom,\n      },\n      hovermode: 'closest',\n      xaxis: {\n        title: {\n          text: 'FPKM',\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 16,\n          },\n        },\n        color: colors.color_main_1,\n        tickcolor: colors.color_main_1,\n        linecolor: colors.color_main_1,\n        range: xRange,\n        fixedrange: true,\n        mirror: true,\n        font: {\n          size: 16,\n          color: colors.nav_links,\n          family: 'Raleway',\n        },\n        linewidth: 3,\n      },\n      yaxis: {\n        title: {\n          text: 'Synergy Score',\n          font: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 16,\n          },\n        },\n        color: colors.color_main_1,\n        tickcolor: colors.color_main_1,\n        linecolor: colors.color_main_1,\n        range: yRange,\n        fixedrange: true,\n        mirror: true,\n        linewidth: 3,\n        tickfont: {\n          family: 'Nunito Sans, sans-serif',\n          color: colors.color_main_1,\n          size: 13,\n        },\n      },\n    };\n    this.setState({ data, layout });\n  }\n\n  render() {\n    const {\n      data, layout,\n    } = this.state;\n    return (\n      <PlotlyContainer>\n        <Plot\n          data={data}\n          layout={layout}\n          graphDiv=\"graph\"\n          config={{\n            responsive: true,\n            displayModeBar: false,\n          }}\n        />\n      </PlotlyContainer>\n    );\n  }\n}\n\nExpressionProfile.propTypes = {\n  selectedBiomarker: PropTypes.string.isRequired,\n  biomarkerData: PropTypes.objectOf(PropTypes.object).isRequired,\n  dimensions: PropTypes.objectOf(PropTypes.number).isRequired,\n  xRange: PropTypes.arrayOf(PropTypes.number).isRequired,\n  yRange: PropTypes.arrayOf(PropTypes.number).isRequired,\n  threshold: PropTypes.number.isRequired,\n};\n\n\nexport default ExpressionProfile;\n","import React from 'react';\nimport Plot from 'react-plotly.js';\nimport styled from 'styled-components';\n\nimport PropTypes from 'prop-types';\nimport colors from '../../styles/colors';\n\nconst StyledContainer = styled.div`\n  width: 50%;\n  min-width: 400px\n  height: 450x;\n  padding-right: 34px;\n`;\n\nclass BiomarkerBoxPlot extends React.Component {\n  // Defining initial state and layout\n  constructor(props) {\n    super(props);\n    this.state = {\n      boxHigh: null,\n      boxLow: null,\n      layout: {\n        height: 450,\n        paper_bgcolor: 'white',\n        plot_bgcolor: 'white',\n        xaxis: { title: 'Groups' },\n        showlegend: false,\n        font: {\n          size: 16,\n          color: colors.nav_links,\n          family: 'Nunito Sans',\n        },\n      },\n    };\n    this.calculateBoxData = this.calculateBoxData.bind(this);\n  }\n\n  // Methods called on loading\n  componentDidMount() {\n    const { calculateBoxData } = this;\n    const { data, threshold } = this.props;\n    calculateBoxData(data, threshold);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { data, threshold } = this.props;\n    if (threshold !== prevProps.threshold) {\n      const { calculateBoxData } = this;\n      calculateBoxData(data, threshold);\n    }\n  }\n\n  calculateBoxData(sortArr, threshold) {\n    const { dimensions } = this.props;\n    const boxData = [];\n    for (let i = 0; i < sortArr.length; i += 1) {\n      if (sortArr[i] >= threshold) {\n        boxData.push(sortArr.slice(0, i));\n        boxData.push(sortArr.slice(i, sortArr.length));\n        break;\n      }\n    }\n    this.setState({\n      layout: {\n        height: 450,\n        autoresize: true,\n        showlegend: false,\n        font: {\n          size: 16,\n          color: colors.nav_links,\n          family: 'Raleway',\n        },\n        margin: {\n          l: dimensions.left,\n          r: 10,\n          t: dimensions.top,\n          b: dimensions.bottom,\n        },\n        xaxis: {\n          title: {\n            text: 'Groups',\n            font: {\n              family: 'Nunito Sans, sans-serif',\n              color: colors.color_main_1,\n              size: 16,\n            },\n          },\n          color: colors.color_main_1,\n          tickcolor: colors.color_main_1,\n          linecolor: colors.color_main_1,\n          mirror: true,\n          font: {\n            size: 16,\n            color: colors.nav_links,\n            family: 'Raleway',\n          },\n          linewidth: 3,\n        },\n        yaxis: {\n          color: colors.color_main_1,\n          tickcolor: colors.color_main_1,\n          linecolor: colors.color_main_1,\n          showticklabels: false,\n          mirror: true,\n          linewidth: 3,\n          tickfont: {\n            family: 'Nunito Sans, sans-serif',\n            color: colors.color_main_1,\n            size: 13,\n          },\n        },\n      },\n      boxHigh: {\n        y: boxData[1],\n        type: 'box',\n        name: 'High, N='.concat(boxData[1].length),\n        marker: { color: colors.color_main_2 },\n      },\n      boxLow: {\n        y: boxData[0],\n        type: 'box',\n        name: 'Low, N='.concat(boxData[0].length),\n        marker: { color: colors.color_main_5 },\n      },\n    });\n  }\n\n\n  // Render this compoenent\n  render() {\n    const {\n      boxHigh, boxLow, layout,\n    } = this.state;\n    return (\n      <StyledContainer>\n        <Plot\n          data={[boxHigh, boxLow]}\n          layout={layout}\n          graphDiv=\"graph\"\n          className=\"biomarkerPlot\"\n          config={{\n            responsive: true,\n            displayModeBar: false,\n          }}\n        />\n      </StyledContainer>\n    );\n  }\n}\nexport default BiomarkerBoxPlot;\n\nBiomarkerBoxPlot.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.number).isRequired,\n  threshold: PropTypes.number.isRequired,\n  dimensions: PropTypes.objectOf(PropTypes.number).isRequired,\n};\n","/* eslint-disable no-console */\n/* eslint-disable react/no-array-index-key */\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\nimport ReactLoading from 'react-loading';\nimport Slider from '@material-ui/core/Slider';\nimport { withStyles } from '@material-ui/core/styles';\nimport 'react-table/react-table.css';\n// import ReactTable from 'react-table';\n\nimport colors from '../styles/colors';\n// import transitions from '../styles/transitions';\n\nimport ExpressionProfile from './Plots/ExpressionProfile';\nimport QueryCard from './UtilComponents/QueryCard';\nimport BiomarkerBoxPlot from './Plots/BiomarkerBoxPlot';\n\n// used to align plot and slider (in px)\nconst dimensions = {\n  left: 55,\n  top: 30,\n  bottom: 55,\n};\n\nconst StyledBiomarkers = styled.div`\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n`;\n\nconst CustomSlider = withStyles({\n  root: {\n    color: colors.color_main_2,\n    height: 8,\n  },\n})(Slider);\n\nconst StyledExpressionProfile = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  div.slider {\n    height: 450px;\n    padding-top: ${dimensions.top}px;\n    padding-bottom: ${dimensions.bottom}px\n    padding-right: 8px;\n    padding-left: 2px;\n  }\n\n  .expression-profile {\n    width: 50%;\n    min-width: 300px;\n    display: flex\n    justify-content: space-between;\n    height: 450px;\n  }\n`;\n\nconst calculateThreshold = (synScoreArray) => {\n  if (synScoreArray) {\n    const output = synScoreArray.length % 2 !== 0 ? synScoreArray[(synScoreArray.length - 1) / 2]\n      : (synScoreArray[synScoreArray.length / 2] + synScoreArray[synScoreArray.length / 2 - 1]) / 2;\n    return output;\n  }\n  return null;\n};\n\n\nclass Biomarkers extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      // biomarkerData: [],\n      biomarkerData: null,\n      selectedBiomarker: null,\n      loading: true,\n      xRange: null,\n      yRange: null,\n      defaultThreshold: null,\n      customThreshold: null,\n      confirmedThreshold: null,\n    };\n    // this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  componentDidMount() {\n    const gene = 'ARL13A';\n    // const gene = 'A2M';\n    this.setState({ selectedBiomarker: gene });\n    this.getPlotData(gene);\n  }\n\n\n  async getPlotData(gene) {\n    try {\n      const { location } = this.props;\n      const requestParams = queryString.parse(location.search);\n      const {\n        sample, drugId1, drugId2, dataset,\n      } = requestParams;\n      let queryParams = '?';\n      let biomarkerParams = `?gene=${gene}`;\n\n      if (sample) {\n        queryParams = queryParams.concat(`&sample=${sample}`);\n        biomarkerParams = biomarkerParams.concat(`&sample=${sample}`);\n      }\n      if (dataset) queryParams = queryParams.concat(`&dataset=${dataset}`);\n      if (drugId1) queryParams = queryParams.concat(`&drugId1=${drugId1}`);\n      if (drugId2) queryParams = queryParams.concat(`&drugId2=${drugId2}`);\n\n      const synergyObj = {};\n\n      // API call to retrieve all relevant synergy scores\n      await fetch('/api/combos'.concat(queryParams), {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n        },\n      })\n        .then(response => response.json())\n        .then((data) => {\n          data.sort((a, b) => a.idSample - b.idSample);\n          // Doesn't take into account significance of the data\n          // Duplicated data should be filtered based on significance, use C-index\n          data.forEach((score) => {\n            if (!synergyObj[score.idSample]) {\n              synergyObj[score.idSample] = {\n                zip: score.zip,\n                bliss: score.bliss,\n              };\n            }\n          });\n        });\n\n      // API call to retrieve all fpkm expression levels\n      await fetch('/api/biomarkers/association'.concat(biomarkerParams), {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n        },\n      }).then(response => response.json())\n        .then((cellLineExpressionData) => {\n          // Doesn't take into account significance of the data\n          // Duplicated data should be filtered based on significance, use C-index\n          cellLineExpressionData.forEach((item) => {\n            if (synergyObj[item.idSample]) {\n              synergyObj[item.idSample].fpkm = item.fpkm;\n              synergyObj[item.idSample].cellName = item.name;\n            }\n          });\n          // Loops through synergyObj and deletes incomplete key value pair\n          // if it has incomplete data\n          Object.entries(synergyObj).forEach((item) => {\n            if (item[1].fpkm === undefined) delete synergyObj[item[0]];\n          });\n        });\n\n      // ***************************\n      // Sets plot range\n      // ***************************\n      const paddingPercent = 0.05;\n      let lowestFPKM = 0;\n      let highestFPKM = 0;\n      let lowestSynScore = 0;\n      let highestSynScore = 0;\n      Object.values(synergyObj).forEach((item) => {\n        if (item.fpkm < lowestFPKM) lowestFPKM = item.fpkm;\n        if (item.fpkm > highestFPKM) highestFPKM = item.fpkm;\n        if (item.zip < lowestSynScore) lowestSynScore = item.zip;\n        if (item.zip > highestSynScore) highestSynScore = item.zip;\n      });\n      const rangeFPKM = highestFPKM - lowestFPKM;\n      const xRange = [\n        lowestFPKM - rangeFPKM * paddingPercent,\n        highestFPKM + rangeFPKM * paddingPercent,\n      ];\n      const rangeSynScore = highestSynScore - lowestSynScore;\n      const yRange = [\n        lowestSynScore - rangeSynScore * paddingPercent,\n        highestSynScore + rangeSynScore * paddingPercent,\n      ];\n\n\n      const synScoreArray = Object.values(synergyObj).map(item => item.zip);\n      synScoreArray.sort((a, b) => a - b);\n      const defaultThreshold = calculateThreshold(synScoreArray);\n\n\n      this.setState({\n        loading: false, biomarkerData: synergyObj, xRange, yRange, defaultThreshold, synScoreArray,\n      });\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.log(err);\n      this.setState({ loading: false });\n    }\n  }\n\n  render() {\n    const {\n      loading, biomarkerData, selectedBiomarker, xRange,\n      yRange, defaultThreshold, customThreshold, confirmedThreshold,\n      synScoreArray,\n    } = this.state;\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = requestParams;\n    // const columns = [{\n    //   Header: 'Gene Symbol',\n    //   accessor: 'gene', // String-based value accessors!\n    // }, {\n    //   Header: 'One-way ANOVA P',\n    //   accessor: 'p',\n    // }, {\n    //   Header: 'Source',\n    //   accessor: 'name',\n    // }];\n\n\n    // let marks;\n    // console.log(loading);\n    // if (!loading) {\n    //   marks = Object.values(biomarkerData).map(item => ({ value: item.zip, label: item.zip }));\n    //   console.log(Math.round(yRange[0] * 100) / 100);\n    // }\n\n    return (\n      <main>\n        <QueryCard\n          drugId1={drugId1}\n          drugId2={drugId2}\n          dataset={dataset}\n          sample={sample}\n        />\n        <StyledBiomarkers>\n          {/* <ReactTable\n              data={results}\n              columns={columns}\n              className=\"-highlight\"\n              showPagination={false}\n              defaultPageSize={10}\n              loading={loading}\n              sortable={false}\n              getTdProps={(state, rowInfo) => ({\n                onClick: (e, handleOriginal) => {\n                  handleSelect(rowInfo.index);\n                  // IMPORTANT! React-Table uses onClick internally to trigger\n                  // events like expanding SubComponents and pivots.\n                  // By default a custom 'onClick' handler will override this functionality.\n                  // If you want to fire the original onClick handler, call the\n                  // 'handleOriginal' function.\n                  if (handleOriginal) {\n                    handleOriginal();\n                  }\n                },\n                style: {\n                background: rowInfo.index === selectedBiomarker ? colors.summary_bg : 'transparent',\n                },\n              })\n              }\n            /> */}\n          { !loading ? (\n            <StyledExpressionProfile>\n              <div className=\"expression-profile\">\n                <ExpressionProfile\n                  biomarkerData={biomarkerData}\n                  selectedBiomarker={selectedBiomarker}\n                  dimensions={dimensions}\n                  xRange={xRange}\n                  yRange={yRange}\n                  threshold={customThreshold !== null ? customThreshold : defaultThreshold}\n                />\n                <div className=\"slider\">\n                  <CustomSlider\n                    orientation=\"vertical\"\n                    defaultValue={customThreshold || defaultThreshold}\n                    min={Math.round(yRange[0] * 100) / 100}\n                    max={Math.round(yRange[1] * 100) / 100}\n                    aria-labelledby=\"vertical-discrete-slider-restrict\"\n                    step={Math.round(((yRange[1] - yRange[0]) / 100) * 100) / 100}\n                    valueLabelDisplay=\"auto\"\n                    onChange={(e, value) => this.setState({ customThreshold: value })}\n                    onChangeCommitted={(e, value) => this.setState({ confirmedThreshold: value })}\n                  />\n                </div>\n              </div>\n              <BiomarkerBoxPlot\n                threshold={confirmedThreshold !== null ? confirmedThreshold : defaultThreshold}\n                data={synScoreArray}\n                dimensions={dimensions}\n              />\n            </StyledExpressionProfile>\n          ) : (\n            <div className=\"loading-container\">\n              <ReactLoading type=\"bubbles\" width={150} height={150} color={colors.color_main_2} />\n            </div>\n          )}\n        </StyledBiomarkers>\n      </main>\n    );\n  }\n}\nexport default Biomarkers;\n","import { createGlobalStyle } from 'styled-components';\nimport colors from './colors';\nimport heroImg from '../images/bg-3.jpg';\nimport transitions from './transitions';\n\nconst GlobalStyles = createGlobalStyle`\n  body {\n    font-family: 'Raleway', sans-serif;\n  }\n  * {\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  }  \n  html {\n    box-sizing: border-box;\n    line-height: 1.15;\n  }\n  ul {\n    padding: 0;\n    list-style: none;\n  }\n  li {\n    text-decoration: none;\n  }\n  a {\n    text-decoration: none;\n    color: black;\n    font-family: 'Raleway', sans-serif;\n\n    &:hover {\n      cursor: pointer !important;\n    }\n  }\n  img {\n    width: 100%;\n    max-width: 100%;\n    display: block;\n  }\n  h1 {\n    margin: 3rem 0; \n    font-size: 2em;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4 {\n    font-family: 'Raleway', sans-serif;\n    color:${colors.nav_links};\n  }\n  main {\n    width: 100%;\n    margin-top:150px;\n  }\n  table {\n    max-width: 100%;\n    width: 100%;\n    table-layout: fixed;\n    text-align: left;\n    border-spacing: 0;\n    margin: 20px 0;\n    \n\n    th,\n    td {\n      overflow: hidden;\n      margin: 0;\n      padding: 5px;\n      color:${colors.nav_links};\n      border-bottom: 2px solid ${colors.color_main_1}\n    }\n\n    th:nth-child(3),\n    th:nth-child(4) {\n      max-width: calc(50% - 200px);\n    }\n    \n    td:nth-child(3),\n    td:nth-child(4) {\n      max-width: 100px;\n    }\n  }\n  p,\n  button {\n    font-family: 'Raleway', sans-serif;\n    font-weight:700;\n  }\n  \n  .landing {\n    height:100%;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  main.summary {\n    padding-bottom:30px;\n  }\n\n  .main-wrapper {\n    width: 100%;\n    overflow-x:hidden;\n  }\n  .app,\n  .js-plotly-plot {\n    width: 100%;\n  }\n\n  .grid-container {\n    width: 100%;  \n    display: grid;\n    height: auto;\n\n    span {\n      padding: 8px 4px;\n      overflow: hidden;\n    }\n  }\n\n  .table-header {\n    font-weight: bold;\n    border-bottom: 5px double black;\n  }\n  .score {\n    width: 100%;\n    text-align: right;\n    padding-right: 5px;\n  }\n  .high-score {\n    font-weight: bold;\n  }\n  .hover {\n    color: ${colors.color_main_1}\n    transition: ${transitions.main_trans};\n\n    &:hover {\n      color: ${colors.color_main_4}\n    }\n  }\n  .react-select__option--is-focused:not(.react-select__option--is-selected) {\n    background-color: ${colors.trans_color_main_5};\n  }\n\n  .ReactTable {\n    width: 100%;\n    text-align: left;\n    margin: 10px 0;\n    color:${colors.nav_links};\n    font-family: Nunito Sans, sans-serif;\n\n    .rt-thead.-header,\n    .raw-names,\n    .header-name {\n      box-shadow:none !important;\n      font-weight: 700;\n      font-size: 18px;\n    }\n\n    .rt-thead.-header {\n      border-bottom: 1px solid rgba(0,0,0,0.1);\n    }\n    \n\n    .pagination-bottom {\n      box-shadow:none !important;\n    }\n    .-pagination {\n      box-shadow:none !important;\n      border-top:1px solid rgba(0,0,0,0.1) !important;\n    }\n\n    .-previous, .-next, .-btn   {\n      background: ${colors.pagination};\n      color:white !important;\n    }\n\n    \n    input {\n      background: ${colors.summary_bg} !important;\n    }\n  }\n  .wrapper {\n    color:${colors.nav_links};\n    background:white;\n    padding-bottom:20px;\n    margin-bottom:30px;\n  }\n\n  .footer-wrapper {\n    color:${colors.blue_main};\n    background:none !important;\n  }\n  \n  .biomarkerPlot {\n    margin-bottom:20px;\n  }\n  \n  .plot {\n    font-family: Nunito Sans, sans-serif;\n  }\n\n  .loading-container {\n    align-item: center;\n    margin: auto;\n    width: 100px;\n  }\n\n  .app {\n    display:flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .popup-content {\n    max-width: 400px;\n  }\n  \n  #cellMiniPlot, #dsetMiniPlot {\n    display:flex;\n    justify-content: space-around;\n  }\n\n  #root {\n    width: 100vw;\n    display: flex;\n    background: ${colors.summary_bg};\n    background: linear-gradient(\n      to right top,\n      rgba(255, 255, 255, 0.3), \n      rgba(255, 255, 255, 0.3)\n    ),url('${heroImg}');\n    background-size: cover;\n    background-attachment: fixed;\n    background-position: center;\n    flex-wrap: wrap;\n    display: flex;\n    z-index: 0\n\n    .main-wrapper {\n      overflow-x:hidden;\n    }\n\n  }\n`;\n\nexport default GlobalStyles;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\nimport QueryCard from './UtilComponents/QueryCard';\n// import colors from '../styles/colors';\nimport 'react-table/react-table.css';\n// import transitions from '../styles/transitions';\n\nconst SensetivityDiv = styled.div`\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n`;\n\n\nclass Sensetivity extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      results: [],\n    };\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = requestParams;\n\n    return (\n      <main>\n        <QueryCard\n          drugId1={drugId1}\n          drugId2={drugId2}\n          dataset={dataset}\n          sample={sample}\n        />\n        <SensetivityDiv>\n          <h2>Sensetivity Component</h2>\n        </SensetivityDiv>\n      </main>\n    );\n  }\n}\nexport default Sensetivity;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\nimport QueryCard from './UtilComponents/QueryCard';\n// import colors from '../styles/colors';\nimport 'react-table/react-table.css';\n// import transitions from '../styles/transitions';\n\nconst EnrichmentDiv = styled.div`\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n`;\n\n\nclass Enrichment extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      results: [],\n    };\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    const { location } = this.props;\n    const requestParams = queryString.parse(location.search);\n    const {\n      sample, drugId1, drugId2, dataset,\n    } = requestParams;\n\n    return (\n      <main>\n        <QueryCard\n          drugId1={drugId1}\n          drugId2={drugId2}\n          dataset={dataset}\n          sample={sample}\n        />\n        <EnrichmentDiv>\n          <h2>Enrichment Component</h2>\n        </EnrichmentDiv>\n      </main>\n    );\n  }\n}\nexport default Enrichment;\n","import * as d3 from 'd3';\nimport React from 'react';\nimport colors from '../../styles/colors';\n\nexport default class ConsistencyPlot extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cindex: 0\n        }\n    }\n\n    componentDidMount() {\n        const {\n            plotId, data,\n        } = this.props;\n        this.plotConsistency(data, plotId);\n    }\n\n    plotConsistency(data, plotId) {\n        const methods = [\"ZIP\", \"Bliss\" ,\"Loewe\", \"HSA\"]\n\n        // set defaults in variables so that X and Y dropdowns can access values\n        let xvalue = \"Bliss\"\n        let yvalue = \"ZIP\"\n        let width = 800;\n        let height = 400;\n\n        // dropdown to choose the method\n        let dropdownX = d3.select(`#${plotId}`)\n            .append('select')\n            .attr('class','selectX')\n            .on('change', () => {\n                xvalue = dropdownX.property('value')\n                // plot the scatter based on the method\n                d3.select(\"#scatter\").remove()\n                this.plotScatter(xvalue.toLowerCase(), yvalue.toLowerCase(), width, height, data, plotId)\n            })\n\n        dropdownX.selectAll('option')\n            .data(methods)\n            .enter()\n            .append('option')\n                .property(\"selected\", function(d) { //roundabout way to make a default value but ok\n                    if (d == xvalue) {\n                        return d\n                    }\n                })\n                .attr(\"value\",function (d) { return d; })\n                .text(function (d) { return d; });\n              \n\n\n        let dropdownY = d3.select(`#${plotId}`)\n            .append('select')\n            .attr('class','selectY')\n            .on('change', () => {\n                yvalue = dropdownY.property('value')\n                // plot the scatter based on the method\n                d3.select(\"#scatter\").remove()\n                this.plotScatter(xvalue.toLowerCase(), yvalue.toLowerCase(), width, height, data, plotId)\n            })\n\n        dropdownY.selectAll('option')\n            .data(methods)\n            .enter()\n            .append('option')\n                .property(\"selected\", function(d) { //roundabout way to make a default value but ok\n                    if (d == yvalue) {\n                        return d\n                    }\n                })\n                .attr(\"value\",function (d) { return d; })\n                .text(function (d) { return d; });\n\n        // call plot at the end to plot it after the dropdowns have been rendered\n        this.plotScatter(xvalue.toLowerCase(), yvalue.toLowerCase(), width, height, data, plotId)\n    }\n\n    async findCIndex(x,y) {\n        let response = await fetch(\"http://52.138.39.182/ocpu/library/wCI/R/paired.concordance.index/json\", {\n            method: 'post',\n            headers: {'Content-Type':'application/json'},\n            body: JSON.stringify({\n                \"prediction\": x,\n                \"observation\": y,\n                \"CPP\": false\n            })\n        })\n        let data = await response.json();\n        return data.cindex[0]\n    }\n    \n\n    /**\n     * from https://memory.psych.mun.ca/tech/js/correlation.shtml\n     * calculates pearson correlation\n     * @param {number[]} d1\n     * @param {number[]} d2\n     */\n    findPearson(d1, d2) {\n        let { min, pow, sqrt } = Math\n        let add = (a, b) => a + b\n        let n = min(d1.length, d2.length)\n        if (n === 0) {\n            return 0\n        }\n        [d1, d2] = [d1.slice(0, n), d2.slice(0, n)]\n        let [sum1, sum2] = [d1, d2].map(l => l.reduce(add))\n        let [pow1, pow2] = [d1, d2].map(l => l.reduce((a, b) => a + pow(b, 2), 0))\n        let mulSum = d1.map((n, i) => n * d2[i]).reduce(add)\n        let dense = sqrt((pow1 - pow(sum1, 2) / n) * (pow2 - pow(sum2, 2) / n))\n        if (dense === 0) {\n            return 0\n        }\n        return (mulSum - (sum1 * sum2 / n)) / dense\n    }\n\n    /** \n     * from https://stackoverflow.com/questions/15886527/javascript-library-for-pearson-and-or-spearman-correlations\n    */\n    findSpearman (multiList, p1, p2) {\n        var N=multiList[p1].length;\n        var order=[];\n        var sum=0;\n    \n        for(var i = 0;i<N;i++){\n            order.push([multiList[p1][i], multiList[p2][i]]);\n        }\n\n        order.sort(function(a,b){\n            return a[0]-b[0]\n        });\n\n        for(var i = 0;i<N;i++){\n            order[i].push(i+1);\n        }\n\n        order.sort(function(a,b){\n            return a[1]-b[1]\n        });\n\n        for(var i = 0;i<N;i++){\n            order[i].push(i+1);\n        }\n        for(var i = 0;i<N;i++){\n            sum+=Math.pow((order[i][2])-(order[i][3]), 2);\n\n        }\n\n        var r=1-(6*sum/(N*(N*N-1)));\n\n        return r;\n    }\n\n    async plotScatter(xvalue, yvalue, width, height, data, plotId) {\n        let margin = {\n            top: 50,\n            right: 120,\n            bottom: 90,\n            left: 70\n        };\n\n        let svg = d3.select(`#${plotId}`)\n            .append(\"svg\")\n            .attr(\"fill\", \"white\")\n                .attr(\"id\", \"scatter\")\n                .attr(\"width\", width + margin.left + margin.right)\n                .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n                .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n        \n        //set range for data by domain, and scale by range\n        let xrange = d3.scaleLinear()\n            .domain(d3.extent(data, function(d) { return d[xvalue]; }))\n            .range([0, width]);\n    \n        let yrange = d3.scaleLinear()\n            .domain(d3.extent(data, function(d) { return d[yvalue]; }))\n            .range([height, 0]);\n\n        //set axes for graph\n        let xAxis = d3.axisBottom()\n            .scale(xrange)\n            .tickPadding(2)\n\n        let yAxis = d3.axisLeft()\n            .scale(yrange)\n            .tickSize(5)\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .call(yAxis)\n            .selectAll(\"text\")\n            .attr(\"fill\", \"black\")\n            .style(\"font-size\", 15)\n            .attr(\"stroke\", \"none\");\n\n        svg.selectAll(\".tick\")\n            .select(\"text\")\n            .attr(\"fill\", \"black\")\n            .attr(\"stroke\", \"none\")\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"x axis\")\n            .attr(\"transform\", \"translate(0,\" +  height + \")\")\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .call(xAxis)\n            .selectAll(\"text\")\n                .attr(\"fill\", \"black\")\n                .style(\"font-size\", 14)\n                .attr(\"stroke\", \"none\")\n \n        // make group for dots\n        let dots = svg.selectAll(\"dot\")\n            .data(data)\n            .enter();\n\n        // add dots\n        dots.append(\"circle\")\n            .attr(\"id\", \"dot\")\n            .attr(\"r\", \"3px\")\n            .attr(\"fill\", `${colors.blue_main}`)\n            .attr(\"cx\", function(d, i) {return xrange(d[xvalue]);})\n            .attr(\"cy\", function(d, i) {return yrange(d[yvalue]);})\n            .style(\"opacity\", 1)\n            .on(\"mouseover\", function(d,i) {\n                    d3.select(\".\" + \"dot-name\" + i).transition().duration(300).style(\"opacity\", \"1\");\n                    d3.select(this).style(\"cursor\", \"pointer\"); \n            })\n            .on(\"mouseout\", function(d,i) {\n                    d3.select(\".\" + \"dot-name\" + i).transition().duration(300).style(\"opacity\", \"0\");\n                    d3.select(this).style(\"cursor\", \"default\"); \n                })\n\n        // add tooltips for dots\n        let tooltips = svg.append(\"g\")\n            .selectAll(\"text\")\n            .data(data)\n            .enter();\n        \n        //Name Tooltip\n        tooltips.append(\"text\")\n            .attr(\"class\", function(d,i) {return \"dot-name\" + i})\n            .attr(\"dx\", width)\n            .attr(\"dy\", height/2)\n            .attr(\"font-size\", \"13px\")\n            .style(\"opacity\", \"0\")\n            .attr(\"fill\", \"black\")\n            .text(function(d) {return d.sampleName})\n  \n        // calculating C-Index - map json to arrays and call, pearson, spearman\n        const firstArr = data.map(x => x[xvalue])\n        const secondArr = data.map(x => x[yvalue])\n        let cindex = await this.findCIndex(firstArr, secondArr);\n        let pearson = this.findPearson(firstArr, secondArr)\n        let spearman = this.findSpearman([firstArr, secondArr], 0, 1)\n\n        // append stats to dom\n        svg.append(\"text\")\n            .attr(\"dx\", width + 5)\n            .attr(\"dy\", height/3 - 20)\n            .attr(\"font-size\", \"13px\")\n            .style(\"opacity\", \"1\")\n            .attr(\"fill\", \"black\")\n            .text(function(d) {return \"C-index: \" + d3.format(\".4f\")(cindex)})\n\n        svg.append(\"text\")\n            .attr(\"dx\", width + 5)\n            .attr(\"dy\", height/3)\n            .attr(\"font-size\", \"13px\")\n            .style(\"opacity\", \"1\")\n            .attr(\"fill\", \"black\")\n            .text(function(d) {return \"Pearson: \" + d3.format(\".4f\")(pearson)})\n\n        svg.append(\"text\")\n            .attr(\"dx\", width + 5)\n            .attr(\"dy\", height/3 + 20)\n            .attr(\"font-size\", \"13px\")\n            .style(\"opacity\", \"1\")\n            .attr(\"fill\", \"black\")\n            .text(function(d) {return \"Spearman: \" + d3.format(\".4f\")(spearman)})\n                \n    }\n\n    render() {\n        return <div id={this.props.plotId} className=\"plot\"></div> \n    }\n}","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport queryString from 'query-string';\n\nimport colors from '../styles/colors';\nimport ConsistencyPlot from './Plots/ConsistencyPlot';\nimport QueryCard from './UtilComponents/QueryCard';\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background:white;\n  padding:0px 30px;\n\n  select {\n    position:absolute;\n  }\n\n  .selectX {\n    margin-left: 400px;\n    margin-top: 500px;\n  }\n\n  .selectY {\n    margin-left: -60px;\n    margin-top: 250px;\n  }\n`;\n\nclass Consistency extends Component {\n    static propTypes = {\n      location: ReactRouterPropTypes.location.isRequired,\n    }\n\n    constructor() {\n      super();\n      this.state = {\n        drugId1: null,\n        drugId2: null,\n        dataset: null,\n        datasetName: 'Any',\n        drugName1: 'Any',\n        drugName2: 'Any',\n        cellLineName: 'Any',\n        results: [],\n      };\n    }\n\n    componentDidMount() {\n      const { location } = this.props;\n      const requestParams = queryString.parse(location.search);\n      const {\n        sample, drugId1, drugId2, dataset, comboId,\n      } = requestParams;\n\n      let queryParams = `?drugId1=${drugId1}`;\n\n      this.setState({\n        drugId1: parseInt(drugId1, 10),\n        drugId2: parseInt(drugId2, 10),\n        dataset: parseInt(dataset, 10),\n      });\n      if (sample) queryParams = queryParams.concat(`&sample=${sample}`);\n      if (dataset) queryParams = queryParams.concat(`&dataset=${dataset}`);\n      if (drugId2) queryParams = queryParams.concat(`&drugId2=${drugId2}`);\n\n      fetch('/api/combos'.concat(queryParams), {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      })\n        .then(response => response.json())\n        .then((data) => {\n          this.setState({ results: data, loading: false });\n        });\n    }\n\n    render() {\n      const {\n        cellLineName, datasetName, drugName1, drugName2,\n        results,\n      } = this.state;\n      const { location } = this.props;\n      const requestParams = queryString.parse(location.search);\n      const {\n        sample, drugId1, drugId2, dataset,\n      } = requestParams;\n\n      return (\n        <main>\n            <Fragment>\n                <QueryCard\n                    drugId1={drugId1}\n                    drugId2={drugId2}\n                    dataset={dataset}\n                    sample={sample}\n                  />\n                {results.length === 0 ? null : (\n                    <StyledWrapper className=\"wrapper\">\n                    <div id=\"consistencyPlot\" />\n                    <ConsistencyPlot\n                        plotId=\"consistencyPlot\"\n                        data={results}\n                      />\n                  </StyledWrapper>\n                  )}\n\n\n              </Fragment>\n          </main>\n      );\n    }\n}\n\nexport default Consistency;\n","/* eslint-disable no-nested-ternary */\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from 'react-virtualized/dist/commonjs/List';\n\nimport 'react-table/react-table.css';\nimport colors from '../styles/colors';\n// import transitions from '../styles/transitions';\n\nconst StyledDiv = styled.div`\n  width: 100%;\n  height: auto;\n  background:white;\n  padding:20px 30px;\n  margin-bottom:20px;\n`;\n\nconst CustomRadio = withStyles({\n  root: {\n    color: colors.color_main_2,\n    height: 40,\n    'margin-left': 10,\n    '&$checked': {\n      color: colors.color_main_5,\n    },\n    label: {\n      overflow: 'hidden',\n    },\n  },\n  checked: {},\n})(props => <Radio color=\"default\" {...props} />);\n\nclass Pharmacogenomics extends Component {\n  constructor() {\n    super();\n    this.state = {\n      drugsData: [{ value: 'Any', label: 'Any Compound' }],\n      profileValue: 'metabolimic',\n      selectedDrug1: 'Any',\n    };\n    this.profileChange = this.profileChange.bind(this);\n    this.getData = this.getData.bind(this);\n    this.rowRenderer = this.rowRenderer.bind(this);\n    this.drug1Change = this.drug1Change.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  async getData() {\n    await fetch('/api/drugs')\n      .then(response => response.json())\n      .then((data) => {\n        const { drugsData } = this.state;\n        const processedData = data.map(item => ({ value: item.idDrug, label: item.name }));\n        this.setState({ drugsData: [...drugsData, ...processedData] });\n      });\n  }\n\n  profileChange(event) {\n    this.setState({ profileValue: event.target.value });\n  }\n\n  drug1Change(event) {\n    console.log(event.target.value);\n    this.setState({ selectedDrug1: event.target.value });\n  }\n\n  rowRenderer({\n    key, // Unique key within array of rows\n    index, // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\n    style, // Style object to be applied to row (to position it)\n  }) {\n    const { drugsData } = this.state;\n    console.log(drugsData[index]);\n    return (\n      <FormControlLabel\n        style={style}\n        key={key}\n        value={drugsData[index].value.toString()}\n        control={<CustomRadio />}\n        label={drugsData[index].label}\n      />\n    );\n  }\n\n\n  render() {\n    const { profileChange, rowRenderer, drug1Change } = this;\n    const { profileValue, drugsData, selectedDrug1 } = this.state;\n    return (\n      <main>\n        <StyledDiv>\n          <h2>Biomarker discovery in Pharmacogenomics</h2>\n          <div className=\"profile-container\">\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\">Select a profile</FormLabel>\n              <RadioGroup aria-label=\"profile\" name=\"profile\" value={profileValue} onChange={profileChange}>\n                <FormControlLabel value=\"metabolimic\" control={<CustomRadio />} label=\"metabolomic\" />\n                <FormControlLabel value=\"rnaseq\" control={<CustomRadio />} label=\"molecular: expression, RNA-seq\" />\n                <FormControlLabel value=\"mutation\" control={<CustomRadio />} label=\"molecular: mutation\" />\n                <FormControlLabel value=\"cna\" control={<CustomRadio />} label=\"molecular: copy number\" />\n              </RadioGroup>\n            </FormControl>\n          </div>\n          <div className=\"drug1-container\">\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\">Select compound A</FormLabel>\n              <RadioGroup aria-label=\"profile\" name=\"profile\" value={selectedDrug1} onChange={drug1Change}>\n                <List\n                  width={300}\n                  height={300}\n                  rowCount={drugsData.length}\n                  rowHeight={40}\n                  width={350}\n                  rowRenderer={rowRenderer}\n                />\n              </RadioGroup>\n            </FormControl>\n          </div>\n        </StyledDiv>\n      </main>\n    );\n  }\n}\nexport default Pharmacogenomics;\n","import React, { Fragment } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Normalize } from 'styled-normalize';\nimport TopNav from './TopNav';\n\nimport SearchCombos from './SearchCombos';\nimport CellLines from './CellLines';\nimport Datasets from './Datasets';\nimport Drugs from './Drugs';\nimport Documentation from './Documentation';\nimport ComboDetails from './ComboDetails';\nimport ComboResults from './ComboResults';\nimport Biomarkers from './Biomarkers';\nimport GlobalStyles from '../styles/GlobalStyles';\n\nimport Sensitivity from './Sensitivity';\nimport Enrichment from './Enrichment';\nimport Consistency from './Consistency';\nimport Pharmacogenomics from './Pharmacogenomics';\n\nconst StyledApp = styled.div`\n  margin: 0 auto;\n  // padding: 12.5vh 0 25px;\n  min-height:100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  flex-grow: 1;\n  min-width: 300px;\n  max-width: 1200px;\n  overflow-x:hidden;\n  order:2;\n  z-index:1;\n`;\n\n\nconst App = () => (\n  <Fragment>\n    <Normalize />\n    <GlobalStyles />\n    <div className=\"main-wrapper\">\n      <StyledApp className=\"app\">\n        <Switch>\n          <Route exact path=\"/\" component={SearchCombos} />\n          <Route exact path=\"/cell-lines/\" component={CellLines} />\n          <Route exact path=\"/drugs/\" component={Drugs} />\n          <Route exact path=\"/datasets/\" component={Datasets} />\n          <Route exact path=\"/documentation/\" component={Documentation} />\n          <Route exact path=\"/pharmacogenomics/\" component={Pharmacogenomics} />\n          <Route path=\"/drug_combo\" component={ComboDetails} />\n          <Route path=\"/synergy_score\" component={ComboResults} />\n          <Route path=\"/biomarker\" component={Biomarkers} />\n          <Route path=\"/sensitivity\" component={Sensitivity} />\n          <Route path=\"/enrichment\" component={Enrichment} />\n          <Route path=\"/consistency\" component={Consistency} />\n        </Switch>\n      </StyledApp>\n    </div>\n    <TopNav />\n  </Fragment>\n);\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './components/App';\n\nrender((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}